<!DOCTYPE html>
<!-- saved from url=(0060)http://dotsandbrackets.com/hello-world-with-apache-kafka-ru/ -->
<html lang="ru-RU" prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb#"><!--<![endif]--><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script async="" src="https://www.linkedin.com/countserv/count/share?format=jsonp&amp;callback=updateLinkedInCount&amp;url=http%3A%2F%2Fdotsandbrackets.com%2Fhello-world-with-apache-kafka-ru%2F&amp;_=1493105922724"></script>
	
	<meta name="viewport" content="width=device-width">
	<title>"Hello world" в Apache Kafka - Dots and Brackets: Блог</title>
	<link rel="profile" href="http://gmpg.org/xfn/11">
	<link rel="pingback" href="http://dotsandbrackets.com/xmlrpc.php">
	<!--[if lt IE 9]>
	<script src="http://dotsandbrackets.com/wp-content/themes/twentyfourteen/js/html5.js"></script>
	<![endif]-->
	
<!-- This site is optimized with the Yoast SEO plugin v4.6 - https://yoast.com/wordpress/plugins/seo/ -->
<meta name="description" content="Самое время отправить данных через Kafka. Даже одинокий кафкианский брокер - это кластер, так что его запуск немного отличается от запуска того же RabbitMQ">
<meta name="robots" content="noodp">
<link rel="canonical" href="http://dotsandbrackets.com/hello-world-with-apache-kafka-ru/">
<meta property="og:locale" content="ru_RU">
<meta property="og:type" content="article">
<meta property="og:title" content="&quot;Hello world&quot; в Apache Kafka - Dots and Brackets: Блог">
<meta property="og:description" content="Самое время отправить данных через Kafka. Даже одинокий кафкианский брокер - это кластер, так что его запуск немного отличается от запуска того же RabbitMQ">
<meta property="og:url" content="http://dotsandbrackets.com/hello-world-with-apache-kafka-ru/">
<meta property="og:site_name" content="Dots and Brackets: Блог">
<meta property="article:publisher" content="https://www.facebook.com/pasha.klimenkov">
<meta property="article:tag" content="Apache Kafka">
<meta property="article:tag" content="communication">
<meta property="article:tag" content="distributed app">
<meta property="article:tag" content="message broker">
<meta property="article:tag" content="message queue">
<meta property="article:section" content="О программировании">
<meta property="article:published_time" content="2016-12-08T23:12:47-04:00">
<meta property="article:modified_time" content="2016-12-12T00:05:42-04:00">
<meta property="og:updated_time" content="2016-12-12T00:05:42-04:00">
<meta property="fb:app_id" content="1108076389272745">
<meta property="og:image" content="http://dotsandbrackets.com/wp-content/uploads/2016/12/diagram.jpg">
<meta name="twitter:card" content="summary">
<meta name="twitter:description" content="Самое время отправить данных через Kafka. Даже одинокий кафкианский брокер - это кластер, так что его запуск немного отличается от запуска того же RabbitMQ">
<meta name="twitter:title" content="&quot;Hello world&quot; в Apache Kafka - Dots and Brackets: Блог">
<meta name="twitter:site" content="@PashaKlimenkov">
<meta name="twitter:image" content="http://dotsandbrackets.com/wp-content/uploads/2016/12/diagram.jpg">
<meta name="twitter:creator" content="@PashaKlimenkov">
<!-- / Yoast SEO plugin. -->

<link rel="dns-prefetch" href="http://dotsandbrackets.com/">
<link rel="dns-prefetch" href="http://s0.wp.com/">
<link rel="dns-prefetch" href="http://fonts.googleapis.com/">
<link rel="dns-prefetch" href="http://s.w.org/">
<link rel="alternate" type="application/rss+xml" title="Dots and Brackets: Блог » Лента" href="http://dotsandbrackets.com/feed/">
<link rel="alternate" type="application/rss+xml" title="Dots and Brackets: Блог » Лента комментариев" href="http://dotsandbrackets.com/comments/feed/">
<link rel="alternate" type="application/rss+xml" title="Dots and Brackets: Блог » Лента комментариев к ««Hello world» в Apache Kafka»" href="http://dotsandbrackets.com/hello-world-with-apache-kafka-ru/feed/">
		<script async="" src="./Краткое введение в Apache Kafka - Dots and Brackets_ Блог_files/analytics.js"></script><script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/dotsandbrackets.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.6.5"}};
			!function(a,b,c){function d(a){var c,d,e,f,g,h=b.createElement("canvas"),i=h.getContext&&h.getContext("2d"),j=String.fromCharCode;if(!i||!i.fillText)return!1;switch(i.textBaseline="top",i.font="600 32px Arial",a){case"flag":return i.fillText(j(55356,56806,55356,56826),0,0),!(h.toDataURL().length<3e3)&&(i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,65039,8205,55356,57096),0,0),c=h.toDataURL(),i.clearRect(0,0,h.width,h.height),i.fillText(j(55356,57331,55356,57096),0,0),d=h.toDataURL(),c!==d);case"diversity":return i.fillText(j(55356,57221),0,0),e=i.getImageData(16,16,1,1).data,f=e[0]+","+e[1]+","+e[2]+","+e[3],i.fillText(j(55356,57221,55356,57343),0,0),e=i.getImageData(16,16,1,1).data,g=e[0]+","+e[1]+","+e[2]+","+e[3],f!==g;case"simple":return i.fillText(j(55357,56835),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode8":return i.fillText(j(55356,57135),0,0),0!==i.getImageData(16,16,1,1).data[0];case"unicode9":return i.fillText(j(55358,56631),0,0),0!==i.getImageData(16,16,1,1).data[0]}return!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i;for(i=Array("simple","flag","unicode8","diversity","unicode9"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script><script src="./Краткое введение в Apache Kafka - Dots and Brackets_ Блог_files/wp-emoji-release.min.js" type="text/javascript"></script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel="stylesheet" id="twentyfourteen-jetpack-css" href="./Краткое введение в Apache Kafka - Dots and Brackets_ Блог_files/twentyfourteen.css" type="text/css" media="all">
<link rel="stylesheet" id="crayon-css" href="./Краткое введение в Apache Kafka - Dots and Brackets_ Блог_files/crayon.min.css" type="text/css" media="all">
<link rel="stylesheet" id="crayon-theme-classic-css" href="http://dotsandbrackets.com/wp-content/plugins/crayon-syntax-highlighter/themes/classic/classic.css?ver=_2.7.2_beta" type="text/css" media="all">
<link rel="stylesheet" id="crayon-font-monaco-css" href="http://dotsandbrackets.com/wp-content/plugins/crayon-syntax-highlighter/fonts/monaco.css?ver=_2.7.2_beta" type="text/css" media="all">
<link rel="stylesheet" id="twentyfourteen-lato-css" href="./Краткое введение в Apache Kafka - Dots and Brackets_ Блог_files/css" type="text/css" media="all">
<link rel="stylesheet" id="genericons-css" href="./Краткое введение в Apache Kafka - Dots and Brackets_ Блог_files/genericons.css" type="text/css" media="all">
<link rel="stylesheet" id="twentyfourteen-style-css" href="./Краткое введение в Apache Kafka - Dots and Brackets_ Блог_files/style.css" type="text/css" media="all">
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentyfourteen-ie-css'  href='http://dotsandbrackets.com/wp-content/themes/twentyfourteen/css/ie.css?ver=20131205' type='text/css' media='all' />
<![endif]-->
<link rel="stylesheet" id="social-logos-css" href="./Краткое введение в Apache Kafka - Dots and Brackets_ Блог_files/social-logos.min.css" type="text/css" media="all">
<link rel="stylesheet" id="jetpack_css-css" href="./Краткое введение в Apache Kafka - Dots and Brackets_ Блог_files/jetpack.css" type="text/css" media="all">
<script type="text/javascript" src="./Краткое введение в Apache Kafka - Dots and Brackets_ Блог_files/jquery.js"></script>
<script type="text/javascript" src="./Краткое введение в Apache Kafka - Dots and Brackets_ Блог_files/jquery-migrate.min.js"></script>
<script type="text/javascript">
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"http:\/\/dotsandbrackets.com\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script type="text/javascript" src="./Краткое введение в Apache Kafka - Dots and Brackets_ Блог_files/crayon.min.js"></script>
<link rel="https://api.w.org/" href="http://dotsandbrackets.com/wp-json/">
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://dotsandbrackets.com/xmlrpc.php?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://dotsandbrackets.com/wp-includes/wlwmanifest.xml"> 
<meta name="generator" content="WordPress 4.6.5">
<link rel="shortlink" href="http://dotsandbrackets.com/?p=1477">
<link rel="alternate" type="application/json+oembed" href="http://dotsandbrackets.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fdotsandbrackets.com%2Fhello-world-with-apache-kafka-ru%2F">
<link rel="alternate" type="text/xml+oembed" href="http://dotsandbrackets.com/wp-json/oembed/1.0/embed?url=http%3A%2F%2Fdotsandbrackets.com%2Fhello-world-with-apache-kafka-ru%2F&amp;format=xml">

<link rel="dns-prefetch" href="http://i0.wp.com/">
<link rel="dns-prefetch" href="http://i1.wp.com/">
<link rel="dns-prefetch" href="http://i2.wp.com/">
<style type="text/css">img#wpstats{display:none}</style>
<!-- BEGIN GADWP v4.9.6.2 Universal Tracking - https://deconf.com/google-analytics-dashboard-wordpress/ -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-62533268-1', 'auto');
  ga('send', 'pageview');
</script>

<!-- END GADWP Universal Tracking -->

</head>

<body class="single single-post postid-1477 single-format-standard masthead-fixed full-width singular">
<div id="page" class="hfeed site">
	
	<header id="masthead" class="site-header" role="banner">
		<div class="header-main">
			<h1 class="site-title"><a href="http://dotsandbrackets.com/" rel="home">Dots and Brackets: Блог</a></h1>

			<div class="search-toggle">
				<a href="http://dotsandbrackets.com/hello-world-with-apache-kafka-ru/#search-container" class="screen-reader-text" aria-expanded="false" aria-controls="search-container">Поиск</a>
			</div>

			<nav id="primary-navigation" class="site-navigation primary-navigation" role="navigation">
				<button class="menu-toggle">Основное меню</button>
				<a class="screen-reader-text skip-link" href="http://dotsandbrackets.com/hello-world-with-apache-kafka-ru/#content">Перейти к содержимому</a>
				<div class="menu-pages-container"><ul id="primary-menu" class="nav-menu"><li id="menu-item-1248" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1248"><a href="http://dotsandbrackets.com/category/life/">О жизни</a></li>
<li id="menu-item-1249" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-1249"><a href="http://dotsandbrackets.com/category/development/">О программировании</a></li>
<li id="menu-item-1199" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1199"><a title="Мой англоязычный блог исключительно о программировании" href="http://codeblog.dotsandbrackets.com/">Code blog (EN)</a></li>
<li id="menu-item-10" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-10"><a href="http://dotsandbrackets.com/about-me/">Обо мне</a></li>
</ul></div>			</nav>
		</div>

		<div id="search-container" class="search-box-wrapper hide">
			<div class="search-box">
				<form role="search" method="get" class="search-form" action="http://dotsandbrackets.com/">
				<label>
					<span class="screen-reader-text">Найти:</span>
					<input type="search" class="search-field" placeholder="Поиск…" value="" name="s">
				</label>
				<input type="submit" class="search-submit" value="Поиск">
			</form>			</div>
		</div>
	</header><!-- #masthead -->

	<div id="main" class="site-main">

	<div id="primary" class="content-area">
		<div id="content" class="site-content" role="main">
			
<article id="post-1477" class="post-1477 post type-post status-publish format-standard hentry category-development tag-apache-kafka tag-communication tag-distributed-app tag-message-broker tag-message-queue">
	
	<header class="entry-header">
				<div class="entry-meta">
			<span class="cat-links"><a href="http://dotsandbrackets.com/category/development/" rel="category tag">О программировании</a></span>
		</div>
		<h1 class="entry-title">«Hello world» в Apache Kafka</h1>
		<div class="entry-meta">
			<span class="entry-date"><a href="http://dotsandbrackets.com/hello-world-with-apache-kafka-ru/" rel="bookmark"><time class="entry-date" datetime="2016-12-08T23:12:47+00:00">Декабрь 8, 2016</time></a></span> <span class="byline"><span class="author vcard"><a class="url fn n" href="http://dotsandbrackets.com/author/pav/" rel="author">Pavel</a></span></span>			<span class="comments-link"><a href="http://dotsandbrackets.com/hello-world-with-apache-kafka-ru/#respond">Оставить комментарий</a></span>
					</div><!-- .entry-meta -->
	</header><!-- .entry-header -->

		<div class="entry-content">
		<p><a href="https://i2.wp.com/dotsandbrackets.com/wp-content/uploads/2016/12/diagram.jpg"><img class="alignnone size-full wp-image-1478" src="https://i2.wp.com/dotsandbrackets.com/wp-content/uploads/2016/12/diagram.jpg?resize=474%2C222" alt="Однохостовый Kafka кластер" width="474" height="222"></a></p>
<p>Ну что, самое время&nbsp;отправить каких-нибудь данных через Apache Kafka. Но сначала, разумеется, его нужно установить.</p>
<p>Установка Кафки настолько простая, что в этот раз я отойду от своего обычного правила и в самом деле объясню, как его устанавливать. Итак, четыре шага:</p>
<ul>
<li>Установить Java Development Kit (почему-то часто уже оказывается установленным)</li>
<li>Скачать <a href="https://www.apache.org/dyn/closer.cgi?path=/kafka/0.10.1.0/kafka_2.11-0.10.1.0.tgz">архив</a> с Кафкой</li>
<li>Распаковать (
			<span id="crayon-58fefb66e6320078434015" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-v">tar</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-e">xzf </span><span class="crayon-v">kafka_2</span><span class="crayon-sy">.</span><span class="crayon-cn">11</span><span class="crayon-o">-</span><span class="crayon-cn">0.10.1.0.tgz</span></span></span>&nbsp;в *nix&nbsp;системах)</li>
<li>Всё. Кафка готов.</li>
</ul>
<p><span id="more-1477"></span></p>
<p>Честно, это действительно всё. Но прежде, чем мы пойдём дальше, стоит осмотреться:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-58fefb66e6338987611757" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important; margin-top: -19px; display: none; position: absolute; z-index: 2;"><span class="crayon-title">Look inside kafka folder</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: none;"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">root@da8d9e484df3:~/kafka_2.11-0.10.1.0$ ls -1
#LICENSE
#NOTICE
#bin
#config
#libs
#site-docs</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-58fefb66e6338987611757-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58fefb66e6338987611757-2">2</div><div class="crayon-num" data-line="crayon-58fefb66e6338987611757-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-58fefb66e6338987611757-4">4</div><div class="crayon-num" data-line="crayon-58fefb66e6338987611757-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-58fefb66e6338987611757-6">6</div><div class="crayon-num" data-line="crayon-58fefb66e6338987611757-7">7</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-58fefb66e6338987611757-1"><span class="crayon-v">root</span><span class="crayon-sy">@</span><span class="crayon-v">da8d9e484df3</span><span class="crayon-o">:</span><span class="crayon-o">~</span><span class="crayon-o">/</span><span class="crayon-v">kafka_2</span><span class="crayon-sy">.</span><span class="crayon-cn">11</span><span class="crayon-o">-</span><span class="crayon-cn">0.10.1.0</span><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-r">ls</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-cn">1</span></div><div class="crayon-line crayon-striped-line" id="crayon-58fefb66e6338987611757-2"><span class="crayon-c">#LICENSE</span></div><div class="crayon-line" id="crayon-58fefb66e6338987611757-3"><span class="crayon-c">#NOTICE</span></div><div class="crayon-line crayon-striped-line" id="crayon-58fefb66e6338987611757-4"><span class="crayon-c">#bin</span></div><div class="crayon-line" id="crayon-58fefb66e6338987611757-5"><span class="crayon-c">#config</span></div><div class="crayon-line crayon-striped-line" id="crayon-58fefb66e6338987611757-6"><span class="crayon-c">#libs</span></div><div class="crayon-line" id="crayon-58fefb66e6338987611757-7"><span class="crayon-c">#site-docs</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0009 seconds] -->
<p>В комплекте с Кафкой идёт не так много папок, и нам понадобятся всего две их них: 
			<span id="crayon-58fefb66e633f110830373" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-v">bin</span></span></span>&nbsp;, где хранятся шелл-скрипты и&nbsp;
			<span id="crayon-58fefb66e6345128883385" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-v">config</span></span></span>&nbsp;, где скрываются файлы конфигурации сервисов.</p>
<h2>Как запустить Kafka</h2>
<p>Как я упоминал <a href="http://dotsandbrackets.com/quick-intro-to-apache-kafka-ru">в прошлый раз</a>, даже одинокий кафкианский брокер — это кластер, так что его запуск немного отличается от запуска того же <a href="http://dotsandbrackets.com/quick-intro-to-rabbitmq-ru/">RabbitMQ</a>. В &nbsp;отличие от кролика, Кафке нужен&nbsp;вспомогательный сервис для того, чтобы координировать работу зоопарка брокеров в кластере, и имя тому сервису —&nbsp;<a href="https://zookeeper.apache.org/">ZooKeeper</a>. Когда создаётся новый топик, или добавляется новый брокер, или удаляется старый, ZooKeeper —&nbsp;это тот, кто будет со всем этим разбираться. Он решит, куда положить новый топик, чем загрузить нового брокера, и даже как сбалансировать набор реплик, если часть из них ушла вместе с павшим сервисом. Он надсмотрщик и координатор, и его запускают первым.</p>
<h3>Как запустить&nbsp;Apache ZooKeeper</h3>
<p>Инсталлер Кафки идёт в комплекте с ZooKeeper, так что поиски закончились, не успев начаться.&nbsp;Скрипт для запуска лежит в&nbsp;
			<span id="crayon-58fefb66e634c204670545" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-v">bin</span></span></span>&nbsp; папке, а конфигурация — в&nbsp;
			<span id="crayon-58fefb66e6352043663022" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-v">config</span></span></span>&nbsp;, и, собственно, больше ничего не нужно:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-58fefb66e6357224930490" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important; margin-top: -19px; display: none; position: absolute; z-index: 2;"><span class="crayon-title">Starting Apache ZooKeeper</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">$ bin/zookeeper-server-start.sh config/zookeeper.properties
#[2016-12-03 22:49:06,368] INFO Reading configuration from: config/zookeeper.properties...
#[2016-12-03 22:49:06,380] INFO autopurge.snapRetainCount set to 3...
#...</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-58fefb66e6357224930490-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58fefb66e6357224930490-2">2</div><div class="crayon-num" data-line="crayon-58fefb66e6357224930490-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-58fefb66e6357224930490-4">4</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-58fefb66e6357224930490-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-v">bin</span><span class="crayon-o">/</span><span class="crayon-v">zookeeper</span><span class="crayon-o">-</span><span class="crayon-v">server</span><span class="crayon-o">-</span><span class="crayon-v">start</span><span class="crayon-e">.sh</span><span class="crayon-h"> </span><span class="crayon-v">config</span><span class="crayon-o">/</span><span class="crayon-v">zookeeper</span><span class="crayon-e">.properties</span></div><div class="crayon-line crayon-striped-line" id="crayon-58fefb66e6357224930490-2"><span class="crayon-c">#[2016-12-03 22:49:06,368] INFO Reading configuration from: config/zookeeper.properties...</span></div><div class="crayon-line" id="crayon-58fefb66e6357224930490-3"><span class="crayon-c">#[2016-12-03 22:49:06,380] INFO autopurge.snapRetainCount set to 3...</span></div><div class="crayon-line crayon-striped-line" id="crayon-58fefb66e6357224930490-4"><span class="crayon-c">#...</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0049 seconds] -->
<p>Кстати, я запускаю всё это в&nbsp;<em><a href="https://hub.docker.com/_/openjdk/">openjdk</a></em>&nbsp;контейнере в&nbsp;<a href="http://dotsandbrackets.com/quick-intro-to-docker-ru/">Docker,</a>&nbsp;где последовательность действий такая же, как и на маке или линуксе. Счастливым обладателям Windows нужно заменить&nbsp;
			<span id="crayon-58fefb66e635e033064055" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-v">bin</span></span></span>&nbsp; папку&nbsp;на&nbsp;
			<span id="crayon-58fefb66e6364999085146" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-v">bin</span><span class="crayon-sy">\</span><span class="crayon-v">windows</span><span class="crayon-sy">\</span></span></span>&nbsp;, а&nbsp;
			<span id="crayon-58fefb66e6369475923258" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">.sh</span></span></span>&nbsp; расширение на&nbsp;
			<span id="crayon-58fefb66e636e425686027" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-e">.bat</span></span></span>&nbsp;, и будет им счастье.</p>
<h3>Запускаем Kafka-сервер</h3>
<p>Всего лишь еще один шелл-файл:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-58fefb66e6374712330377" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important; margin-top: -19px; display: none; position: absolute; z-index: 2;"><span class="crayon-title">Start Kafka server</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">$ bin/kafka-server-start.sh config/server.properties
#....
#	zookeeper.connect = localhost:2181
#....
#[2016-12-04 04:18:32,414] INFO Connecting to zookeeper on localhost:2181...
#....</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-58fefb66e6374712330377-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58fefb66e6374712330377-2">2</div><div class="crayon-num" data-line="crayon-58fefb66e6374712330377-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-58fefb66e6374712330377-4">4</div><div class="crayon-num" data-line="crayon-58fefb66e6374712330377-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-58fefb66e6374712330377-6">6</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-58fefb66e6374712330377-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-v">bin</span><span class="crayon-o">/</span><span class="crayon-v">kafka</span><span class="crayon-o">-</span><span class="crayon-v">server</span><span class="crayon-o">-</span><span class="crayon-v">start</span><span class="crayon-e">.sh</span><span class="crayon-h"> </span><span class="crayon-v">config</span><span class="crayon-o">/</span><span class="crayon-v">server</span><span class="crayon-e">.properties</span></div><div class="crayon-line crayon-striped-line" id="crayon-58fefb66e6374712330377-2"><span class="crayon-c">#....</span></div><div class="crayon-line" id="crayon-58fefb66e6374712330377-3"><span class="crayon-c">#	zookeeper.connect = localhost:2181</span></div><div class="crayon-line crayon-striped-line" id="crayon-58fefb66e6374712330377-4"><span class="crayon-c">#....</span></div><div class="crayon-line" id="crayon-58fefb66e6374712330377-5"><span class="crayon-c">#[2016-12-04 04:18:32,414] INFO Connecting to zookeeper on localhost:2181...</span></div><div class="crayon-line crayon-striped-line" id="crayon-58fefb66e6374712330377-6"><span class="crayon-c">#....</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0050 seconds] -->
<p>На выходе получается много текста, но в нём видно, что одно из первых действий&nbsp;сервера&nbsp;—&nbsp;подключиться&nbsp;к ZooKeeper на&nbsp;
			<span id="crayon-58fefb66e637a457890872" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-v">localhost</span><span class="crayon-o">:</span><span class="crayon-cn">2181</span></span></span>&nbsp;. Адрес пришёл из&nbsp;
			<span id="crayon-58fefb66e637f039304058" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;">с<span class="crayon-v">onfig</span><span class="crayon-o">/</span><span class="crayon-v">server</span><span class="crayon-e">.properties</span></span></span>.</p>
<p>Теперь, когда сервер работает, пора бы и отправить ему чего.</p>
<h2>Отправка и получение сообщений</h2>
<p>Чтобы отправить и получить хоть что-нибудь, нужно еще три шага (маленьких): создать топик, где будут храниться сообщения, создать продюсера, чтобы было что хранить, и консьюмера, чтобы было зачем.&nbsp;И для всего этого есть свой шелл-скрипт.</p>
<h3>Создаём топик</h3>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-58fefb66e6385979054258" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important; margin-top: -19px; display: none; position: absolute; z-index: 2;"><span class="crayon-title">Create Kafka topic</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: none;"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">$ bin/kafka-topics.sh \ 
    --create \ 
    --zookeeper localhost:2181 \ 
    --replication-factor 1 \ 
    --partitions 1 \ 
    --topic mytopic
#Created topic "mytopic".</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-58fefb66e6385979054258-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58fefb66e6385979054258-2">2</div><div class="crayon-num" data-line="crayon-58fefb66e6385979054258-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-58fefb66e6385979054258-4">4</div><div class="crayon-num" data-line="crayon-58fefb66e6385979054258-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-58fefb66e6385979054258-6">6</div><div class="crayon-num" data-line="crayon-58fefb66e6385979054258-7">7</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-58fefb66e6385979054258-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-v">bin</span><span class="crayon-o">/</span><span class="crayon-v">kafka</span><span class="crayon-o">-</span><span class="crayon-v">topics</span><span class="crayon-e">.sh</span><span class="crayon-h"> </span><span class="crayon-sy">\</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-58fefb66e6385979054258-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">--</span><span class="crayon-i">create</span><span class="crayon-h"> </span><span class="crayon-sy">\</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-58fefb66e6385979054258-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">--</span><span class="crayon-e">zookeeper </span><span class="crayon-v">localhost</span><span class="crayon-o">:</span><span class="crayon-cn">2181</span><span class="crayon-h"> </span><span class="crayon-sy">\</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-58fefb66e6385979054258-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">--</span><span class="crayon-v">replication</span><span class="crayon-o">-</span><span class="crayon-i">factor</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-sy">\</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-58fefb66e6385979054258-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">--</span><span class="crayon-i">partitions</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-h"> </span><span class="crayon-sy">\</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-58fefb66e6385979054258-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">--</span><span class="crayon-e">topic </span><span class="crayon-v">mytopic</span></div><div class="crayon-line" id="crayon-58fefb66e6385979054258-7"><span class="crayon-c">#Created topic "mytopic".</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0017 seconds] -->
<p>Создание топика выглядит более сложным, чем можно было бы подумать, но на самом деле всё разумно. Зачем нужны&nbsp;
			<span id="crayon-58fefb66e638b716987873" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-o">--</span><span class="crayon-v">create</span></span></span>&nbsp; и&nbsp;
			<span id="crayon-58fefb66e6390923787028" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-o">--</span><span class="crayon-e">topic </span><span class="crayon-v">mytopic</span></span></span>&nbsp;, по идее, понятно сразу. А&nbsp;про остальных стоит поговорить особо.</p>
<ol>
<li>Во-первых, мы отправили команду ZooKeeper, не Кафке:&nbsp;
			<span id="crayon-58fefb66e6396624823252" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-o">--</span><span class="crayon-e">zookeeper </span><span class="crayon-v">localhost</span><span class="crayon-o">:</span><span class="crayon-cn">2181</span></span></span>&nbsp;. Это поначалу может показаться немного странным. Но ведь с другой стороны, мы же не всегда знаем, сколько в кластере брокеров, и кто из них может взять на себя топик,&nbsp;который на самом деле не просто имя, а вполне себе осязаемое хранилище. А ZooKeeper всё знает, так что разговаривать с ним имеет смысл<span style="color: #ff0000;"><span style="color: #000000;">.</span></span></li>
<li>Во-вторых, мы указали коэффициент&nbsp;репликации: &nbsp;
			<span id="crayon-58fefb66e639c148069232" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-o">--</span><span class="crayon-v">replication</span><span class="crayon-o">-</span><span class="crayon-i">factor</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></span></span>&nbsp;. «Один» значит, что будет только одна копия топика, и если хранящий его хост уйдёт в никуда, данные пойдут следом. С другой стороны, если бы у нас было два хоста, и коэффициент тоже выбрали «2», то каждый хост получил бы свою копию топика. Мелочь, а жить спокойнее.</li>
<li>Наконец, количество разделов — 
			<span id="crayon-58fefb66e63a2685589254" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-v">partitions</span></span></span>&nbsp; — тоже единица. То есть наш топик будет храниться в одном монолитном хранилище.&nbsp;Если вдруг топик будет большим — больше, чем позволяет файловая система, и/или хост, который его держит, может и справиться со всеми входящими запросами, то его можно разбить на несколько разделов, которые, скорее всего, окажутся на разных хостах. Если еще включить репликацию, то получится удивительной неубиваемости кластер.</li>
</ol>
<h3>Отправка сообщений</h3>
<p>Очередной шелл-файл:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-58fefb66e63a8798060698" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important; margin-top: -19px; display: none; position: absolute; z-index: 2;"><span class="crayon-title">Produce messages</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">$ bin/kafka-console-producer.sh --broker-list localhost:9092 --topic mytopic
# Uno
# Dos
# Tres</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-58fefb66e63a8798060698-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58fefb66e63a8798060698-2">2</div><div class="crayon-num" data-line="crayon-58fefb66e63a8798060698-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-58fefb66e63a8798060698-4">4</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-58fefb66e63a8798060698-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-v">bin</span><span class="crayon-o">/</span><span class="crayon-v">kafka</span><span class="crayon-o">-</span><span class="crayon-v">console</span><span class="crayon-o">-</span><span class="crayon-v">producer</span><span class="crayon-e">.sh</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-v">broker</span><span class="crayon-o">-</span><span class="crayon-e">list </span><span class="crayon-v">localhost</span><span class="crayon-o">:</span><span class="crayon-cn">9092</span><span class="crayon-h"> </span><span class="crayon-o">--</span><span class="crayon-e">topic </span><span class="crayon-v">mytopic</span></div><div class="crayon-line crayon-striped-line" id="crayon-58fefb66e63a8798060698-2"><span class="crayon-c"># Uno</span></div><div class="crayon-line" id="crayon-58fefb66e63a8798060698-3"><span class="crayon-c"># Dos</span></div><div class="crayon-line crayon-striped-line" id="crayon-58fefb66e63a8798060698-4"><span class="crayon-c"># Tres</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0009 seconds] -->
<p>Продюсеру нужно знать, где находится хотя бы один брокер из кластера, чтобы отправить сообщение. Причём, не важно, «тот» ли это брокер — они договорятся и продюсеру дадут&nbsp;правильный адрес. &nbsp;После запуска скрипт держит сессию открытой&nbsp;и отправляет всё, что ему введут, в качестве сообщений.</p>
<h3>Получение сообщений</h3>
<p>Конечно, еще один скрипт:</p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-58fefb66e63ae245321226" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style="margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important; height: auto;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important; height: 18px !important; line-height: 18px !important; margin-top: -19px; display: none; position: absolute; z-index: 2;"><span class="crayon-title">Console consumer</span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button crayon-pressed" title="Toggle Line Numbers"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Toggle Plain Code"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Toggle Line Wrap"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Expand Code" style="display: none;"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Open Code In New Window"><div class="crayon-button-icon"></div></div><span class="crayon-language">Shell</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="tab-size: 4; font-size: 12px !important; line-height: 15px !important; z-index: 0; opacity: 0; overflow: hidden;">$ bin/kafka-console-consumer.sh \ 
     --bootstrap-server localhost:9092 \ 
     --topic mytopic
# Uno
# Dos
# Tres</textarea></div>
			<div class="crayon-main" style="position: relative; z-index: 1; overflow: hidden;">
				<table class="crayon-table">
					<tbody><tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-58fefb66e63ae245321226-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-58fefb66e63ae245321226-2">2</div><div class="crayon-num" data-line="crayon-58fefb66e63ae245321226-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-58fefb66e63ae245321226-4">4</div><div class="crayon-num" data-line="crayon-58fefb66e63ae245321226-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-58fefb66e63ae245321226-6">6</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-58fefb66e63ae245321226-1"><span class="crayon-sy">$</span><span class="crayon-h"> </span><span class="crayon-v">bin</span><span class="crayon-o">/</span><span class="crayon-v">kafka</span><span class="crayon-o">-</span><span class="crayon-v">console</span><span class="crayon-o">-</span><span class="crayon-v">consumer</span><span class="crayon-e">.sh</span><span class="crayon-h"> </span><span class="crayon-sy">\</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-58fefb66e63ae245321226-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">--</span><span class="crayon-v">bootstrap</span><span class="crayon-o">-</span><span class="crayon-e">server </span><span class="crayon-v">localhost</span><span class="crayon-o">:</span><span class="crayon-cn">9092</span><span class="crayon-h"> </span><span class="crayon-sy">\</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-58fefb66e63ae245321226-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">--</span><span class="crayon-e">topic </span><span class="crayon-v">mytopic</span></div><div class="crayon-line crayon-striped-line" id="crayon-58fefb66e63ae245321226-4"><span class="crayon-c"># Uno</span></div><div class="crayon-line" id="crayon-58fefb66e63ae245321226-5"><span class="crayon-c"># Dos</span></div><div class="crayon-line crayon-striped-line" id="crayon-58fefb66e63ae245321226-6"><span class="crayon-c"># Tres</span></div></div></td>
					</tr>
				</tbody></table>
			</div>
		</div>
<!-- [Format Time: 0.0053 seconds] -->
<p>Как и продюсер, получатель должен указать хоть какую-нибудь точку входа в кластер через параметр — 
			<span id="crayon-58fefb66e63b4844615258" class="crayon-syntax crayon-syntax-inline  crayon-theme-classic crayon-theme-classic-inline crayon-font-monaco" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important;"><span class="crayon-pre crayon-code" style="font-size: 12px !important; line-height: 15px !important;font-size: 12px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><span class="crayon-o">--</span><span class="crayon-v">bootstrap</span><span class="crayon-o">-</span><span class="crayon-v">server</span></span></span>&nbsp;. Он тоже держит открытой сессию и выводит в терминал всё, что удалось получить от Кафки.</p>
<p>И всё! Каким-то непостижимым образом, без единой строчки кода мы получили работающий кластер с одним хостом, через который пропустили парочку сообщений.</p>
<h2>Заключение</h2>
<p>Запустить Kafka-сервер и пропустить через него сообщение,&nbsp;в общем-то, сложнее, чем сделать то же самое с RabbitMQ и тем более с&nbsp;<a href="http://dotsandbrackets.com/inter-service-messaging-with-zeromq-node-js-ru/">ZeroMQ</a> (в принципе, всё в этом мире сложнее, чем ZeroMQ). С другой стороны, для того, чтобы перейти от кластера с одним хостом к многохостовому кластеру с распределенными топиками, дополнительных усилий не требуется. Именно это мы и проверим в следующий раз.</p>
<div class="sharedaddy sd-sharing-enabled"><div class="robots-nocontent sd-block sd-social sd-social-icon sd-sharing"><h3 class="sd-title">Поделиться ссылкой:</h3><div class="sd-content"><ul><li class="share-facebook"><a rel="nofollow" data-shared="sharing-facebook-1477" class="share-facebook sd-button share-icon no-text" href="http://dotsandbrackets.com/hello-world-with-apache-kafka-ru/?share=facebook&amp;nb=1" target="_blank" title="Нажмите здесь, чтобы поделиться контентом на Facebook."><span><span class="share-count">6</span></span><span class="sharing-screen-reader-text">Нажмите здесь, чтобы поделиться контентом на Facebook. (Открывается в новом окне)<span class="share-count">6</span></span></a></li><li class="share-twitter"><a rel="nofollow" data-shared="sharing-twitter-1477" class="share-twitter sd-button share-icon no-text" href="http://dotsandbrackets.com/hello-world-with-apache-kafka-ru/?share=twitter&amp;nb=1" target="_blank" title="Нажмите, чтобы поделиться на Twitter"><span></span><span class="sharing-screen-reader-text">Нажмите, чтобы поделиться на Twitter (Открывается в новом окне)</span></a></li><li class="share-google-plus-1"><a rel="nofollow" data-shared="sharing-google-1477" class="share-google-plus-1 sd-button share-icon no-text" href="http://dotsandbrackets.com/hello-world-with-apache-kafka-ru/?share=google-plus-1&amp;nb=1" target="_blank" title="Нажмите, чтобы поделиться в Google+"><span></span><span class="sharing-screen-reader-text">Нажмите, чтобы поделиться в Google+ (Открывается в новом окне)</span></a></li><li class="share-linkedin"><a rel="nofollow" data-shared="sharing-linkedin-1477" class="share-linkedin sd-button share-icon no-text" href="http://dotsandbrackets.com/hello-world-with-apache-kafka-ru/?share=linkedin&amp;nb=1" target="_blank" title="Нажмите, чтобы поделиться на LinkedIn"><span></span><span class="sharing-screen-reader-text">Нажмите, чтобы поделиться на LinkedIn (Открывается в новом окне)</span></a></li><li class="share-end"></li></ul></div></div></div>	</div><!-- .entry-content -->
	
	<footer class="entry-meta"><span class="tag-links"><a href="http://dotsandbrackets.com/tag/apache-kafka/" rel="tag">Apache Kafka</a><a href="http://dotsandbrackets.com/tag/communication/" rel="tag">communication</a><a href="http://dotsandbrackets.com/tag/distributed-app/" rel="tag">distributed app</a><a href="http://dotsandbrackets.com/tag/message-broker/" rel="tag">message broker</a><a href="http://dotsandbrackets.com/tag/message-queue/" rel="tag">message queue</a></span></footer></article><!-- #post-## -->
	<nav class="navigation post-navigation" role="navigation">
		<h1 class="screen-reader-text">Навигация по записям</h1>
		<div class="nav-links">
			<a href="http://dotsandbrackets.com/quick-intro-to-apache-kafka-ru/" rel="prev"><span class="meta-nav">Предыдущая запись</span>Краткое введение в Apache Kafka</a><a href="http://dotsandbrackets.com/canadian-expenses/" rel="next"><span class="meta-nav">Следующая запись</span>На что уходят деньги в Канаде</a>		</div><!-- .nav-links -->
	</nav><!-- .navigation -->
	
<div id="comments" class="comments-area">

	
					<div id="respond" class="comment-respond">
			<h3 id="reply-title" class="comment-reply-title">Добавить комментарий <small><a rel="nofollow" id="cancel-comment-reply-link" href="http://dotsandbrackets.com/hello-world-with-apache-kafka-ru/#respond" style="display:none;">Отменить ответ</a></small></h3>				<form action="http://dotsandbrackets.com/wp-comments-post.php" method="post" id="commentform" class="comment-form" novalidate="">
					<p class="comment-notes"><span id="email-notes">Ваш e-mail не будет опубликован.</span> Обязательные поля помечены <span class="required">*</span></p><p class="comment-form-comment"><label for="comment">Комментарий</label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" aria-required="true" required="required"></textarea></p><p class="comment-form-author"><label for="author">Имя <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" aria-required="true" required="required"></p>
<p class="comment-form-email"><label for="email">E-mail <span class="required">*</span></label> <input id="email" name="email" type="email" value="" size="30" maxlength="100" aria-describedby="email-notes" aria-required="true" required="required"></p>
<p class="comment-form-url"><label for="url">Сайт</label> <input id="url" name="url" type="url" value="" size="30" maxlength="200"></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Отправить комментарий"> <input type="hidden" name="comment_post_ID" value="1477" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
</p><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="d35464f9d4"></p><p style="display: none;"></p>				<input type="hidden" id="ak_js" name="ak_js" value="1493105922758"></form>
					</div><!-- #respond -->
		
</div><!-- #comments -->
		</div><!-- #content -->
	</div><!-- #primary -->

<div id="secondary">
		<h2 class="site-description">Размышления об эмиграции, жизни, и вообще</h2>
	
	
		<div id="primary-sidebar" class="primary-sidebar widget-area" role="complementary">
		<aside id="search-2" class="widget widget_search"><form role="search" method="get" class="search-form" action="http://dotsandbrackets.com/">
				<label>
					<span class="screen-reader-text">Найти:</span>
					<input type="search" class="search-field" placeholder="Поиск…" value="" name="s">
				</label>
				<input type="submit" class="search-submit" value="Поиск">
			</form></aside>		<aside id="recent-posts-2" class="widget widget_recent_entries">		<h1 class="widget-title">Свежие записи</h1>		<ul>
					<li>
				<a href="http://dotsandbrackets.com/vagrant-create-consul-cluster-ru/">Создаём Consul кластер в Vagrant</a>
						</li>
					<li>
				<a href="http://dotsandbrackets.com/belarus-passport-reason-hire/">Белорусский паспорт как повод для найма</a>
						</li>
					<li>
				<a href="http://dotsandbrackets.com/consul-health-check-ru/">Проверка состояния сервисов в Consul</a>
						</li>
					<li>
				<a href="http://dotsandbrackets.com/my-books-from-childhood/">Взрослый взгляд на свои детские сказки</a>
						</li>
					<li>
				<a href="http://dotsandbrackets.com/using-consul-service-discovery-ru/">Поиск и регистрация сервисов с Consul</a>
						</li>
				</ul>
		</aside>		<aside id="categories-2" class="widget widget_categories"><h1 class="widget-title">Рубрики</h1>		<ul>
	<li class="cat-item cat-item-24"><a href="http://dotsandbrackets.com/category/life/">О жизни</a> (80)
</li>
	<li class="cat-item cat-item-8"><a href="http://dotsandbrackets.com/category/books/">О книгах</a> (8)
</li>
	<li class="cat-item cat-item-3"><a href="http://dotsandbrackets.com/category/development/">О программировании</a> (42)
</li>
		</ul>
</aside><aside id="calendar-2" class="widget widget_calendar"><h1 class="widget-title">Calendar</h1><div id="calendar_wrap" class="calendar_wrap"><table id="wp-calendar">
	<caption>Апрель 2017</caption>
	<thead>
	<tr>
		<th scope="col" title="Понедельник">Пн</th>
		<th scope="col" title="Вторник">Вт</th>
		<th scope="col" title="Среда">Ср</th>
		<th scope="col" title="Четверг">Чт</th>
		<th scope="col" title="Пятница">Пт</th>
		<th scope="col" title="Суббота">Сб</th>
		<th scope="col" title="Воскресенье">Вс</th>
	</tr>
	</thead>

	<tfoot>
	<tr>
		<td colspan="3" id="prev"><a href="http://dotsandbrackets.com/2017/03/">« Мар</a></td>
		<td class="pad">&nbsp;</td>
		<td colspan="3" id="next" class="pad">&nbsp;</td>
	</tr>
	</tfoot>

	<tbody>
	<tr>
		<td colspan="5" class="pad">&nbsp;</td><td>1</td><td><a href="http://dotsandbrackets.com/2017/04/02/" aria-label="Записи, опубликованные 02.04.2017">2</a></td>
	</tr>
	<tr>
		<td>3</td><td>4</td><td>5</td><td>6</td><td>7</td><td>8</td><td><a href="http://dotsandbrackets.com/2017/04/09/" aria-label="Записи, опубликованные 09.04.2017">9</a></td>
	</tr>
	<tr>
		<td>10</td><td>11</td><td>12</td><td>13</td><td>14</td><td>15</td><td><a href="http://dotsandbrackets.com/2017/04/16/" aria-label="Записи, опубликованные 16.04.2017">16</a></td>
	</tr>
	<tr>
		<td>17</td><td>18</td><td>19</td><td>20</td><td>21</td><td>22</td><td><a href="http://dotsandbrackets.com/2017/04/23/" aria-label="Записи, опубликованные 23.04.2017">23</a></td>
	</tr>
	<tr>
		<td>24</td><td id="today">25</td><td>26</td><td>27</td><td>28</td><td>29</td><td>30</td>
	</tr>
	</tbody>
	</table></div></aside>	</div><!-- #primary-sidebar -->
	</div><!-- #secondary -->

		</div><!-- #main -->

		<footer id="colophon" class="site-footer" role="contentinfo">

			
			<div class="site-info">
								<a href="https://ru.wordpress.org/">Сайт работает на WordPress</a>
			</div><!-- .site-info -->
		</footer><!-- #colophon -->
	</div><!-- #page -->

	
	<script type="text/javascript">
		window.WPCOM_sharing_counts = {"http:\/\/dotsandbrackets.com\/hello-world-with-apache-kafka-ru\/":1477};
	</script>
<script type="text/javascript" src="./Краткое введение в Apache Kafka - Dots and Brackets_ Блог_files/form.js"></script>
<script type="text/javascript" src="./Краткое введение в Apache Kafka - Dots and Brackets_ Блог_files/photon.js"></script>
<script type="text/javascript" src="./Краткое введение в Apache Kafka - Dots and Brackets_ Блог_files/devicepx-jetpack.js"></script>
<script type="text/javascript" src="./Краткое введение в Apache Kafka - Dots and Brackets_ Блог_files/comment-reply.min.js"></script>
<script type="text/javascript" src="./Краткое введение в Apache Kafka - Dots and Brackets_ Блог_files/functions.js"></script>
<script type="text/javascript" src="./Краткое введение в Apache Kafka - Dots and Brackets_ Блог_files/wp-embed.min.js"></script>
<script type="text/javascript">
/* <![CDATA[ */
var sharing_js_options = {"lang":"en","counts":"1"};
/* ]]> */
</script>
<script type="text/javascript" src="./Краткое введение в Apache Kafka - Dots and Brackets_ Блог_files/sharing.js"></script>
<script type="text/javascript">
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-facebook', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomfacebook', 'menubar=1,resizable=1,width=600,height=400' );
				return false;
			});
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-twitter', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomtwitter', 'menubar=1,resizable=1,width=600,height=350' );
				return false;
			});
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-google-plus-1', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomgoogle-plus-1', 'menubar=1,resizable=1,width=480,height=550' );
				return false;
			});
var windowOpen;
			jQuery( document.body ).on( 'click', 'a.share-linkedin', function() {
				// If there's another sharing window open, close it.
				if ( 'undefined' !== typeof windowOpen ) {
					windowOpen.close();
				}
				windowOpen = window.open( jQuery( this ).attr( 'href' ), 'wpcomlinkedin', 'menubar=1,resizable=1,width=580,height=450' );
				return false;
			});
</script>
<script type="text/javascript" src="./Краткое введение в Apache Kafka - Dots and Brackets_ Блог_files/e-201717.js" async="" defer=""></script>
<script type="text/javascript">
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:4.8.2',blog:'90619155',post:'1477',tz:'-4',srv:'dotsandbrackets.com'} ]);
	_stq.push([ 'clickTrackerInit', '90619155', '1477' ]);
</script>

<div id="wpsn-container" class="wpsn-container" style="position: absolute; top: 0px; left: 0px;"><span class="wpsn-preloadfont" style="visibility:hidden">a</span></div><div id="wpsn-popup-container" class="wpsn-popup-container" style="position: fixed; top: 0px; left: 0px; display: none;"></div><img src="http://pixel.wp.com/g.gif?v=ext&amp;j=1%3A4.8.2&amp;blog=90619155&amp;post=1477&amp;tz=-4&amp;srv=dotsandbrackets.com&amp;host=dotsandbrackets.com&amp;ref=http%3A%2F%2Fdotsandbrackets.com%2Fquick-intro-to-apache-kafka-ru%2F&amp;rand=0.3066637951619644" alt=":)" width="6" height="5" id="wpstats"></body></html>