
<!-- saved from url=(0033)https://habrahabr.ru/post/178665/ -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><script onerror="document.close();" type="text/javascript" src="./prepareCode"></script><!--1.0.4 - 233-06042016-01-->
<script type="text/javascript">
(function(URLs) {
	for (var i = 0; i < URLs.length && URLs[i]; i++) {
		if (!URLs[i].match(/adfox\.ru\/transparent\.gif$/)) {
			(function(url, img) {
				img.src = url;
			})(URLs[i], new Image());
		}
	}
})('https://banners.adfox.ru/transparent.gif'.split('|'));

    (function() {
        var 
            _pr1 = 830858404 || 1110929948,
            _async = !!830858404,
            _win = (830858404?parent:window),
            _width = ('100%'.indexOf('%')!=-1?'100%':parseInt('100%')+'px'),
            _height = ('100%'.indexOf('%')!=-1?'100%':parseInt('100%')+'px'),
            _clientStyle = '',
            _doc = _win.document,
            _container = null;

        if (!_async) {
            _doc.write('<div id="adfoxHtml5_pseudoPlaceholder_' + _pr1 + '">\n');
            _doc.write('    <iframe id="adfoxHtml5_iframe_' + _pr1 + '" marginwidth="0" marginheight="0" scrolling="no" frameborder="0"></iframe>\n');
            _doc.write('</div>\n');
        } else {
            _doc.getElementById('AdFox_banner_' + _pr1).innerHTML='<iframe id="adfoxHtml5_iframe_' + _pr1 + '" marginwidth="0" marginheight="0" scrolling="no" frameborder="0"></iframe>';
        }

        _container = _doc.getElementById('adfoxHtml5_iframe_' + _pr1);
        _container.style.cssText = 'width: '+_width+'; height: '+_height+';';
        _container.parentNode.style.cssText = 'width: ' + _width + '; height: ' + _height + '; position: relative;' + _clientStyle;
    })();
</script>
</head><body marginwidth="0" marginheight="0">
<script type="text/javascript">
    (function(){
        var
            _htmlContainer = document.getElementById('adfoxHtml5_s_tempContainer_1110929948'),
            _pr1 = 830858404 || 1110929948,
            _async = !!830858404,
            _win = (_async?parent:window),
            _interval,
            win = null,
            doc = null;

        function checkRemoveFrame() {
            var checkWin = false;
            try {
                if (document.all && !window.opera) {
                    checkWin = _win.frames['adfoxHtml5_iframe_'+_pr1];
                } else if (document.getElementById) {
                    checkWin = _win.document.getElementById('adfoxHtml5_iframe_'+_pr1).contentWindow;
                }
            } catch (e) {}
            if (checkWin == win || checkWin===false) {
                return;
            }
            _win.eval('(new Image()).src = \'https://ads.adfox.ru/249077/event?hash=bd2c809bcf5c08f2&pm=be&lts=etrohsp&pr=doycxrq&p5=dtujj&rand=bvsgeqb&p1=bvaax&p2=fjon&htmlRnd=\' + Math.random();');
            writeHTML();
        }

        function writeHTML() {
            try {
                if (document.all && !window.opera) {
                    win = _win.frames['adfoxHtml5_iframe_'+_pr1];
                } else if (document.getElementById) {
                    win = _win.document.getElementById('adfoxHtml5_iframe_'+_pr1).contentWindow;
                }
                doc = win.document;
            } catch (e) {}

            if (doc.readyState !== 'complete' && doc.readyState !== 'interactive') {
                _win.setTimeout(writeHTML, 50);
                return;
            }

            doc.write(_htmlContainer.value.replace(/<\\\/textarea>/g, '</textarea>'));
            win.setTimeout(function() {doc.close()}, 10);
            _win.clearInterval(_interval);
            _interval = _win.setInterval(checkRemoveFrame, 150);
        }
        writeHTML();
        _htmlContainer.parentNode.removeChild(_htmlContainer);

        if (_async) {
            self.adfoxRemoveBanner = function() {
                _win.clearInterval(_interval);
                _win.eval(''+
                    '(function() {\n'+
                    '    var _iframe = document.getElementById(\'AdFox_iframe_830858404\'),\n'+
                    '        _parent = _iframe.parentNode;\n'+
                    '    _parent.removeChild(_iframe);\n'+
                    '    _parent.appendChild(_iframe);\n'+
                    '})()'+
                '');
            }
            setTimeout(function() {document.close()}, 10);
        }
    })();
</script>
</body></html>