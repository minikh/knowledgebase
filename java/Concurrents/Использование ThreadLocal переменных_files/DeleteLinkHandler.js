var DeleteLinkHandler,__bind=function(fn,me){return function(){return fn.apply(me,arguments);};};DeleteLinkHandler=(function(){DeleteLinkHandler.prototype.defaultOnSuccess=function(data){return window.location=data;};function DeleteLinkHandler(selector,onSuccess){var that;this.selector=selector;this.onSuccess=onSuccess!=null?onSuccess:this.defaultOnSuccess;this.defaultOnSuccess=__bind(this.defaultOnSuccess,this);that=this;$(this.selector).click(function(){bootbox.confirm("Are you sure? This operation cannot be undone",(function(_this){return function(result){if(result){return $.ajax({url:$(_this).attr('href'),type:'DELETE'}).done(function(data){return that.onSuccess(data);}).fail(function(data){return console.log("Operation "+ $(_this).attr('href')+" failed: "+ data);});}};})(this));return false;});}
return DeleteLinkHandler;})();new DeleteLinkHandler('.delete-link');//# sourceMappingURL=DeleteLinkHandler.js.map
