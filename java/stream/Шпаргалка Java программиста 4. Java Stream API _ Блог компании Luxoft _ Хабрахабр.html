<!DOCTYPE html>
<!-- saved from url=(0048)https://habrahabr.ru/company/luxoft/blog/270383/ -->
<html lang="ru" class="no-js fonts-loaded"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
<meta content="width=1024" name="viewport">
<title>Шпаргалка Java программиста 4. Java Stream API / Блог компании Luxoft / Хабрахабр</title>

  <meta name="description" content="

Несмотря на то, что Java 8 вышла уже достаточно давно, далеко не все программисты используют её новые возможности, кого-то останавливает то, что рабочие проекты слишком сложно перевести с Java...">

  <meta name="keywords" content="java, stream, stream api, лямбы, функциональное программирование, многопоточность, java 8">
  <meta property="fb:app_id" content="444736788986613"> 
<meta property="og:type" content="article"> 
<meta property="og:url" content="https://habrahabr.ru/company/luxoft/blog/270383/"> 
<meta property="og:title" content="Шпаргалка Java программиста 4. Java Stream API">
	<meta property="og:image" content="https://habrastorage.org/files/0b7/b18/760/0b7b1876026c4aa78b926fe5a9027c72.jpg">
	<link rel="image_src" href="./Шпаргалка Java программиста 4. Java Stream API _ Блог компании Luxoft _ Хабрахабр_files/0b7b1876026c4aa78b926fe5a9027c72.jpg">
	
<meta property="og:description" content="Несмотря на то, что Java 8 вышла уже достаточно давно, далеко не все программисты используют её новые возможности, кого-то останавливает то, что рабочие...">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@habrahabr">
  <meta property="al:android:url" content="habrahabr://post/270383">
<meta property="al:android:app_name" content="Habrahabr">
<meta property="al:android:package" content="ru.habrahabr">
<meta property="al:windows_phone:url" content="habrahabr://post/270383">
<meta property="al:windows_phone:app_name" content="Habrahabr">
<meta property="al:windows_phone:app_id" content="460a6bd6-8955-470f-935e-9ea1726a6060">
  <link rel="canonical" href="https://habrahabr.ru/company/luxoft/blog/270383/">
  <link rel="alternate" media="only screen and (max-width: 640px)" href="https://m.habrahabr.ru/company/luxoft/blog/270383/">



<meta name="yandex-verification" content="71593b225aeafc4e">
<meta name="referrer" content="unsafe-url">
<meta name="pocket-site-verification" content="ed24b2b9721edf0a282c5b4a3232c4">


<style type="text/css">
  @font-face{font-family:'Fira Sans';font-style:normal;font-weight:400;src:url(/fonts/0/FiraSans/hg-FiraSans-Regular.eot);src:local("Fira Sans"),local("FiraSans-Regular"),url(/fonts/0/FiraSans/hg-FiraSans-Regular.eot?#iefix) format("embedded-opentype"),url(/fonts/0/FiraSans/hg-FiraSans-Regular.woff2) format("woff2"),url(/fonts/0/FiraSans/hg-FiraSans-Regular.woff) format("woff"),url(/fonts/0/FiraSans/hg-FiraSans-Regular.ttf) format("truetype")}@font-face{font-family:'Fira Sans';font-style:normal;font-weight:500;src:url(/fonts/0/FiraSans/hg-FiraSans-Medium.eot);src:local("Fira Sans Medium"),local("FiraSans-Medium"),url(/fonts/0/FiraSans/hg-FiraSans-Medium.eot?#iefix) format("embedded-opentype"),url(/fonts/0/FiraSans/hg-FiraSans-Medium.woff2) format("woff2"),url(/fonts/0/FiraSans/hg-FiraSans-Medium.woff) format("woff"),url(/fonts/0/FiraSans/hg-FiraSans-Medium.ttf) format("truetype")}
</style>

  <link href="./Шпаргалка Java программиста 4. Java Stream API _ Блог компании Luxoft _ Хабрахабр_files/company_post_show_common.css" rel="stylesheet" media="all">

<link href="./Шпаргалка Java программиста 4. Java Stream API _ Блог компании Luxoft _ Хабрахабр_files/global_main.css" rel="stylesheet" media="all">




<meta name="yandex-verification" content="67d46b975fa41645">

<meta content="Хабрахабр" name="apple-mobile-web-app-title">

<link rel="apple-touch-icon-precomposed" sizes="57x57" href="https://habrahabr.ru/images/favicons/apple-touch-icon-57x57.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="https://habrahabr.ru/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="https://habrahabr.ru/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="https://habrahabr.ru/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="https://habrahabr.ru/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="https://habrahabr.ru/images/favicons/apple-touch-icon-152x152.png">
<link rel="icon" type="image/png" href="https://habrahabr.ru/images/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="https://habrahabr.ru/images/favicons/favicon-16x16.png" sizes="16x16">
<meta name="application-name" content="Хабрахабр">
<meta name="msapplication-TileColor" content="#FFFFFF">
<meta name="msapplication-TileImage" content="mstile-144x144.png">

  <link title="Хабрахабр / Блог компании Luxoft / Комментарии к публикации «Шпаргалка Java программиста 4. Java Stream API»" type="application/rss+xml" rel="alternate" href="https://habrahabr.ru/rss/post/270383/">

<script type="text/javascript" async="" src="./Шпаргалка Java программиста 4. Java Stream API _ Блог компании Luxoft _ Хабрахабр_files/watch.js"></script><script type="text/javascript" async="" defer="" src="./Шпаргалка Java программиста 4. Java Stream API _ Блог компании Luxoft _ Хабрахабр_files/piwik.js"></script><script async="" src="./Шпаргалка Java программиста 4. Java Stream API _ Блог компании Luxoft _ Хабрахабр_files/analytics.js"></script><script>
  (function(){'use strict';var f,g=[];function l(a){g.push(a);1==g.length&&f()}function m(){for(;g.length;)g[0](),g.shift()}f=function(){setTimeout(m)};function n(a){this.a=p;this.b=void 0;this.f=[];var b=this;try{a(function(a){q(b,a)},function(a){r(b,a)})}catch(c){r(b,c)}}var p=2;function t(a){return new n(function(b,c){c(a)})}function u(a){return new n(function(b){b(a)})}function q(a,b){if(a.a==p){if(b==a)throw new TypeError;var c=!1;try{var d=b&&b.then;if(null!=b&&"object"==typeof b&&"function"==typeof d){d.call(b,function(b){c||q(a,b);c=!0},function(b){c||r(a,b);c=!0});return}}catch(e){c||r(a,e);return}a.a=0;a.b=b;v(a)}}
  function r(a,b){if(a.a==p){if(b==a)throw new TypeError;a.a=1;a.b=b;v(a)}}function v(a){l(function(){if(a.a!=p)for(;a.f.length;){var b=a.f.shift(),c=b[0],d=b[1],e=b[2],b=b[3];try{0==a.a?"function"==typeof c?e(c.call(void 0,a.b)):e(a.b):1==a.a&&("function"==typeof d?e(d.call(void 0,a.b)):b(a.b))}catch(h){b(h)}}})}n.prototype.g=function(a){return this.c(void 0,a)};n.prototype.c=function(a,b){var c=this;return new n(function(d,e){c.f.push([a,b,d,e]);v(c)})};
  function w(a){return new n(function(b,c){function d(c){return function(d){h[c]=d;e+=1;e==a.length&&b(h)}}var e=0,h=[];0==a.length&&b(h);for(var k=0;k<a.length;k+=1)u(a[k]).c(d(k),c)})}function x(a){return new n(function(b,c){for(var d=0;d<a.length;d+=1)u(a[d]).c(b,c)})};window.Promise||(window.Promise=n,window.Promise.resolve=u,window.Promise.reject=t,window.Promise.race=x,window.Promise.all=w,window.Promise.prototype.then=n.prototype.c,window.Promise.prototype["catch"]=n.prototype.g);}());

  (function(){function l(a,b){document.addEventListener?a.addEventListener("scroll",b,!1):a.attachEvent("scroll",b)}function m(a){document.body?a():document.addEventListener?document.addEventListener("DOMContentLoaded",function c(){document.removeEventListener("DOMContentLoaded",c);a()}):document.attachEvent("onreadystatechange",function k(){if("interactive"==document.readyState||"complete"==document.readyState)document.detachEvent("onreadystatechange",k),a()})};function q(a){this.a=document.createElement("div");this.a.setAttribute("aria-hidden","true");this.a.appendChild(document.createTextNode(a));this.b=document.createElement("span");this.c=document.createElement("span");this.h=document.createElement("span");this.f=document.createElement("span");this.g=-1;this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";
  this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;";this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;";this.b.appendChild(this.h);this.c.appendChild(this.f);this.a.appendChild(this.b);this.a.appendChild(this.c)}
  function w(a,b){a.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;left:-999px;white-space:nowrap;font:"+b+";"}function x(a){var b=a.a.offsetWidth,c=b+100;a.f.style.width=c+"px";a.c.scrollLeft=c;a.b.scrollLeft=a.b.scrollWidth+100;return a.g!==b?(a.g=b,!0):!1}function z(a,b){function c(){var a=k;x(a)&&null!==a.a.parentNode&&b(a.g)}var k=a;l(a.b,c);l(a.c,c);x(a)};function A(a,b){var c=b||{};this.family=a;this.style=c.style||"normal";this.weight=c.weight||"normal";this.stretch=c.stretch||"normal"}var B=null,C=null,D=null;function H(){if(null===C){var a=document.createElement("div");try{a.style.font="condensed 100px sans-serif"}catch(b){}C=""!==a.style.font}return C}function I(a,b){return[a.style,a.weight,H()?a.stretch:"","100px",b].join(" ")}
  A.prototype.load=function(a,b){var c=this,k=a||"BESbswy",y=b||3E3,E=(new Date).getTime();return new Promise(function(a,b){null===D&&(D=!!document.fonts);if(D){var J=new Promise(function(a,b){function e(){(new Date).getTime()-E>=y?b():document.fonts.load(I(c,'"'+c.family+'"'),k).then(function(c){1<=c.length?a():setTimeout(e,25)},function(){b()})}e()}),K=new Promise(function(a,c){setTimeout(c,y)});Promise.race([K,J]).then(function(){a(c)},function(){b(c)})}else m(function(){function r(){var b;if(b=
  -1!=f&&-1!=g||-1!=f&&-1!=h||-1!=g&&-1!=h)(b=f!=g&&f!=h&&g!=h)||(null===B&&(b=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),B=!!b&&(536>parseInt(b[1],10)||536===parseInt(b[1],10)&&11>=parseInt(b[2],10))),b=B&&(f==t&&g==t&&h==t||f==u&&g==u&&h==u||f==v&&g==v&&h==v)),b=!b;b&&(null!==d.parentNode&&d.parentNode.removeChild(d),clearTimeout(G),a(c))}function F(){if((new Date).getTime()-E>=y)null!==d.parentNode&&d.parentNode.removeChild(d),b(c);else{var a=document.hidden;if(!0===a||
  void 0===a)f=e.a.offsetWidth,g=n.a.offsetWidth,h=p.a.offsetWidth,r();G=setTimeout(F,50)}}var e=new q(k),n=new q(k),p=new q(k),f=-1,g=-1,h=-1,t=-1,u=-1,v=-1,d=document.createElement("div"),G=0;d.dir="ltr";w(e,I(c,"sans-serif"));w(n,I(c,"serif"));w(p,I(c,"monospace"));d.appendChild(e.a);d.appendChild(n.a);d.appendChild(p.a);document.body.appendChild(d);t=e.a.offsetWidth;u=n.a.offsetWidth;v=p.a.offsetWidth;F();z(e,function(a){f=a;r()});w(e,I(c,'"'+c.family+'",sans-serif'));z(n,function(a){g=a;r()});
  w(n,I(c,'"'+c.family+'",serif'));z(p,function(a){h=a;r()});w(p,I(c,'"'+c.family+'",monospace'))})})};"undefined"!==typeof module?module.exports=A:(window.FontFaceObserver=A,window.FontFaceObserver.prototype.load=A.prototype.load);}());

  (function( w ){
    if( w.document.documentElement.className.indexOf( "fonts-loaded" ) > -1 ){ return; }

    var html = document.documentElement;
    var FS400 = new w.FontFaceObserver("Fira Sans", { weight: 400 });
    var FS500 = new w.FontFaceObserver("Fira Sans", { weight: 500 });

    Promise.all([ FS400.check, FS500.check ]).then(function() {
      html.classList.add('fonts-loaded');
      sessionStorage.fontsLoaded = true;
      console.log('fonts-loaded');
    }).catch(function () {
      sessionStorage.fontsLoaded = false;
      console.log('fonts-unloaded');
    });

    if (sessionStorage.fontsLoaded) {
      html.classList.add('fonts-loaded');
    }
  }(this));
</script>
<script src="./Шпаргалка Java программиста 4. Java Stream API _ Блог компании Luxoft _ Хабрахабр_files/jquery-1.8.3.min.js"></script>
  
  <script>var N = 5; var ar_duo1 = Math.floor(Math.random()*N+1);</script>
  <script type="text/javascript" src="https://habracdn.net/habr/javascripts/1484309190/libs/adriver.core.2.js"></script>

<script src="https://habracdn.net/habr/javascripts/1484309190/_parts/advertising.js"></script>
<script type="text/javascript">
  if (typeof adriver == 'undefined'){ var adb1 = 'yes';}

      var user_type = 'readonly';

  var page_type = "publish_corp";

  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-726094-1',  'auto', { 'userId': 'b1c4fd66930aece4dc79074d219d74f4' });
  ga('create', 'UA-726094-24', 'auto', { 'userId': 'b1c4fd66930aece4dc79074d219d74f4', 'name': 'HGM' });

  ga('require', 'displayfeatures');
  ga('set', 'dimension1', user_type); // user type - guest/readonly/habrauser


  ga('set', 'dimension4', adb1);

  ga('set', 'dimension5', page_type);


   (function() {
     var win = window;
     var removeUtms = function(){
       var location = win.location;
       if (location.search.indexOf('utm_') != -1 && history.replaceState) {
         history.replaceState({}, '', window.location.toString().replace(/(\&|\?)utm([_a-z0-9=]+)/g, ""));
       }
     };
     ga('send', 'pageview', { 'hitCallback': removeUtms });
   })();

  ga('HGM.set', 'dimension1', user_type);
  ga('HGM.set', 'dimension2', "habrahabr");
  ga('HGM.send', 'pageview');
</script>

<script>
  var adcm_config ={
    id:1034,
    platformId: 34,
    profileId:'a206c0f13d6744fc749064de9c38b7d60ad8e482',
    tags: ['hub_funcprog', 'hub_webdev', 'hub_programming', 'hub_java', 'g_programming'],
    init: function () {
      window.adcm.call();
    }
  };
</script>
<script src="./Шпаргалка Java программиста 4. Java Stream API _ Блог компании Luxoft _ Хабрахабр_files/adcm.js" async=""></script>
  <script src="./Шпаргалка Java программиста 4. Java Stream API _ Блог компании Luxoft _ Хабрахабр_files/processor.js"></script></head>

  <body class="nl ui-selectable">
    <div class="layout">
      <div id="TMpanel">
  <div class="container">
    <div class="bmenu">
      <a href="https://tmfeed.ru/?utm_source=tm_habrahabr&amp;utm_medium=tm_top_panel&amp;utm_campaign=tm_promo">TM Feed</a>
      <a href="https://habrahabr.ru/?utm_source=tm_habrahabr&amp;utm_medium=tm_top_panel&amp;utm_campaign=tm_promo" class="current">Хабрахабр</a>
      <a href="https://geektimes.ru/?utm_source=tm_habrahabr&amp;utm_medium=tm_top_panel&amp;utm_campaign=tm_promo">Geektimes</a>
      <a href="https://toster.ru/?utm_source=tm_habrahabr&amp;utm_medium=tm_top_panel&amp;utm_campaign=tm_promo">Тостер</a>
      <a href="https://moikrug.ru/?utm_source=tm_habrahabr&amp;utm_medium=tm_top_panel&amp;utm_campaign=tm_promo">Мой круг</a>
      <a href="https://freelansim.ru/?utm_source=tm_habrahabr&amp;utm_medium=tm_top_panel&amp;utm_campaign=tm_promo">Фрилансим</a>
    </div>
  </div>
</div>

      <div class="layout__navbar">
        <div class="main-navbar">
  <div class="main-navbar__section main-navbar__section_left" data-style="display: flex;">
    <a href="https://habrahabr.ru/" class="logo">
      <svg class="icon-svg icon-svg_logo-habrahabr" width="181" height="32" viewBox="0 0 181 32" aria-hidden="true" aria-labelledby="title" version="1.1" role="img"><title>Хабрахабр</title><path d="M24.736 1.044h-8.582L12.53 6.168 8.91 1.044H.325l7.898 11.194L0 23.888h8.583l3.948-5.58 3.95 5.58h8.583l-8.256-11.65zM34.033 7.082c-3.133 0-6.036.88-8.256 2.61l2.87 3.428c1.502-.98 3.754-1.535 5.255-1.535 1.372 0 2.577.36 2.577 2.09v.49c-6.56 0-11.096 1.142-11.096 5.58 0 3.133 2.252 4.633 5.71 4.633 1.665 0 3.885-.913 5.386-2.61v2.12h6.07V12.696c0-4.765-4.73-5.613-8.516-5.613zm2.448 11.455c-.912 1.21-1.89 1.73-2.773 1.73-1.24 0-1.6-.654-1.6-1.274 0-1.533 1.96-2.087 4.373-2.087v1.63zM53.937 8.746c-1.47 0-3.818.62-4.863 1.894.294-2.448 2.023-3.655 5.32-4.308 1.534-.294 5.155-.98 7.18-1.402L60.463 0c-2.546.62-4.864 1.143-7.508 1.633-6.657 1.24-8.125 5.156-8.125 12.14 0 6.658 2.743 10.608 8.813 10.608 5.188 0 8.615-3.426 8.615-8.517 0-3.983-2.87-7.116-8.32-7.116zm-.39 10.28c-1.437 0-2.644-1.24-2.644-2.675s1.207-2.675 2.643-2.675c1.436 0 2.643 1.24 2.643 2.676s-1.208 2.677-2.644 2.677zM74.82 7.082c-1.664 0-3.46 1.044-4.21 2.61v-2.12h-6.07v22.974h6.07v-8.778c.752 1.567 2.546 2.61 4.21 2.61 4.765 0 7.343-3.883 7.343-8.648 0-4.764-2.577-8.647-7.343-8.647zm-1.957 11.552c-.88 0-1.697-.423-2.252-1.108v-3.622c.555-.653 1.373-1.076 2.253-1.076 1.567 0 2.905 1.273 2.905 2.905 0 1.564-1.338 2.902-2.905 2.902zM92.767 7.082c-3.133 0-6.038.88-8.256 2.61l2.872 3.428c1.5-.98 3.753-1.535 5.254-1.535 1.372 0 2.58.36 2.58 2.09v.49c-6.56 0-11.098 1.142-11.098 5.58 0 3.133 2.252 4.633 5.71 4.633 1.665 0 3.885-.913 5.387-2.61v2.12h6.068V12.696c0-4.765-4.732-5.613-8.516-5.613zm2.448 11.455c-.915 1.21-1.894 1.73-2.775 1.73-1.24 0-1.6-.654-1.6-1.274 0-1.533 1.96-2.087 4.375-2.087v1.63zM122.723 7.57h-7.703l-2.055 4.276-2.057-4.275h-7.7l5.58 7.997-5.874 8.32h7.702l2.35-4.306 2.35 4.308h7.702l-6.528-8.32zM132.967 7.082c-3.133 0-6.038.88-8.257 2.61l2.873 3.428c1.503-.98 3.753-1.535 5.255-1.535 1.37 0 2.58.36 2.58 2.09v.49c-6.56 0-11.098 1.142-11.098 5.58 0 3.133 2.252 4.633 5.71 4.633 1.665 0 3.885-.913 5.386-2.61v2.12h6.068V12.696c0-4.765-4.732-5.613-8.516-5.613zm2.448 11.455c-.913 1.21-1.894 1.73-2.775 1.73-1.24 0-1.6-.654-1.6-1.274 0-1.533 1.96-2.087 4.375-2.087v1.63zM152.87 8.746c-1.468 0-3.817.62-4.862 1.894.294-2.448 2.023-3.655 5.32-4.308 1.536-.294 5.157-.98 7.18-1.402L159.397 0c-2.546.62-4.864 1.143-7.506 1.633-6.657 1.24-8.125 5.156-8.125 12.14 0 6.658 2.742 10.608 8.81 10.608 5.19 0 8.617-3.426 8.617-8.517 0-3.983-2.873-7.116-8.323-7.116zm-.39 10.28c-1.437 0-2.643-1.24-2.643-2.675s1.206-2.675 2.643-2.675c1.436 0 2.643 1.24 2.643 2.676 0 1.437-1.207 2.677-2.643 2.677zM173.754 7.082c-1.664 0-3.46 1.044-4.21 2.61v-2.12h-6.07v22.974h6.07v-8.778c.75 1.567 2.546 2.61 4.21 2.61 4.764 0 7.343-3.883 7.343-8.648 0-4.764-2.58-8.647-7.343-8.647zm-1.958 11.552c-.88 0-1.697-.423-2.252-1.108v-3.622c.554-.653 1.37-1.076 2.252-1.076 1.565 0 2.905 1.273 2.905 2.905 0 1.564-1.34 2.902-2.904 2.902z"></path></svg>
    </a>
    <ul class="nav-links" id="navbar-links">
  <li class="nav-links__item">
    <a href="https://habrahabr.ru/" class="nav-links__item-link ">Публикации</a>
  </li>
  <li class="nav-links__item">
    <a href="https://habrahabr.ru/hubs/" class="nav-links__item-link ">Хабы</a>
  </li>
  <li class="nav-links__item">
    <a href="https://habrahabr.ru/companies/" class="nav-links__item-link ">Компании</a>
  </li>
  <li class="nav-links__item">
    <a href="https://habrahabr.ru/users/" class="nav-links__item-link ">Пользователи</a>
  </li>
  <li class="nav-links__item">
    <a href="https://habrahabr.ru/sandbox/" class="nav-links__item-link ">Песочница</a>
  </li>
</ul>
    <form action="https://habrahabr.ru/search/#h" method="get" class="search-form" id="search-form">
  <!-- Я вернулся братиш, после стольких лет разлуки:) -->
  <button type="button" class="btn btn_navbar_search" id="search-form-btn">
    <svg class="icon-svg icon-svg_navbar-search" width="32" height="32" viewBox="0 0 32 32" aria-hidden="true" version="1.1" role="img"><path d="M21.416 13.21c0 4.6-3.65 8.34-8.14 8.34S5.11 17.81 5.11 13.21c0-4.632 3.65-8.373 8.167-8.373 4.488 0 8.14 3.772 8.14 8.372zm1.945 7.083c1.407-2.055 2.155-4.57 2.155-7.084C25.515 6.277 20.04.665 13.277.665S1.04 6.278 1.04 13.21c0 6.93 5.475 12.542 12.237 12.542 2.454 0 4.907-.797 6.942-2.208l7.6 7.79 3.14-3.22-7.6-7.82z"></path></svg>
  </button>
  <label class="search-form__field-wrapper">
    <input type="text" name="q" class="search-form__field" id="search-form-field" placeholder="Поиск" tabindex="-1">
    <button type="button" class="btn btn_search-clear" id="search-form-clear">
      <svg class="icon-svg icon-svg_navbar-close-search" width="31" height="32" viewBox="0 0 31 32" aria-hidden="true" version="1.1" role="img"><path d="M26.67 0L15.217 11.448 3.77 0 0 3.77l11.447 11.45L0 26.666l3.77 3.77L15.218 18.99l11.45 11.448 3.772-3.77-11.448-11.45L30.44 3.772z"></path></svg>

    </button>
  </label>
</form>
  </div>

  <div class="main-navbar__section main-navbar__section_right" data-style="display: flex;">

      <a href="https://habrahabr.ru/tracker/" class="btn btn_x-large btn_navbar_tracker">
        <svg class="icon-svg icon-svg_navbar-tracker" width="29" height="32" viewBox="0 0 29 32" aria-hidden="true" version="1.1" role="img"><path d="M14.313.25c1.38 0 2.5 1.12 2.5 2.5s-1.12 2.5-2.5 2.5-2.5-1.12-2.5-2.5 1.12-2.5 2.5-2.5zM16.224 26.75c-.192 1-.976 1.667-1.912 1.667s-1.72-.667-1.912-1.667H9.312c.216 3 2.363 5 5 5s4.784-2 5-5h-3.088zM28.313 24.75c0 1.105-.895 2-2 2h-24c-1.105 0-2-.895-2-2s.895-2 2-2h24c1.105 0 2 .895 2 2z"></path><path d="M7.313 22.75v-8c0-3.86 3.14-7 7-7s7 3.14 7 7v8h4v-8c0-6.075-4.925-11-11-11s-11 4.925-11 11v8h4z"></path></svg>

      </a>


      <a href="https://habrahabr.ru/sandbox/add/" class="btn btn_x-large btn_navbar_write-topic">
        <span class="btn__text">Написать</span>
        <svg class="icon-svg icon-svg_navbar-pencil" width="33" height="32" viewBox="0 0 33 32" aria-hidden="true" version="1.1" role="img"><path d="M7.038 27.08L5.6 25.617c-.284.757-.57 1.513-.856 2.27.764-.27 1.53-.538 2.294-.807zm7.956-2.8c-.51-.282-.997-.63-1.437-1.045-.82-.775-1.373-1.665-1.625-2.57-.012-.012-.026-.02-.038-.033-1.187-.24-2.355-.84-3.31-1.744-.114-.107-.216-.22-.32-.33-.6 1.595-1.203 3.19-1.806 4.786l2.876 2.928c1.886-.664 3.772-1.328 5.66-1.99zM1.057 29.932l5.798-15.358c.01-.024.023-.043.033-.066.06-.193.164-.383.337-.56l12.43-12.65c1.246-1.27 3.18.697 1.932 1.966L9.573 15.492c.098.424.412.92.873 1.358.628.594 1.408.972 2.155 1.08 2.982-3.032 5.962-6.066 8.942-9.1 1.247-1.27 3.18.698 1.933 1.967l-8.92 9.08c.107.416.415.896.863 1.32.904.855 2.125 1.273 3.108 1.066l.004.02c3.646-3.713 7.293-7.424 10.94-11.135 1.246-1.27 3.18.698 1.932 1.967L19.4 25.332c-.11.11-.225.19-.34.254-.15.175-.345.322-.606.414L3.066 31.415c-.98.556-2.506-.164-2.008-1.483z"></path></svg>
      </a>

      <div class="dropdown dropdown_user">
        <button type="button" class="btn btn_x-large btn_navbar_user-dropdown" data-toggle="dropdown" aria-haspopup="true" role="button" aria-expanded="false" tabindex="0" title="minikh_v">
            <img src="./Шпаргалка Java программиста 4. Java Stream API _ Блог компании Luxoft _ Хабрахабр_files/5b1ba25b049137dc894afeedd285a468.png" width="36" height="36" alt="user avatar">
        </button>
        <div class="dropdown-container dropdown-container_white" aria-hidden="true" role="menu">
  <a href="https://habrahabr.ru/users/minikh_v/" class="dropdown__user-info user-info">
    <span class="user-info__nickname">minikh_v</span><br>
    <span class="user-info__special">Профиль</span>
  </a><br>
  <ul class="n-dropdown-menu n-dropdown-menu_profile">
    <li class="n-dropdown-menu__item">
      <a href="https://habrahabr.ru/users/minikh_v/topics/" class="n-dropdown-menu__item-link">Публикации</a>
    </li>
      <li class="n-dropdown-menu__item">
        <a href="https://habrahabr.ru/conversations/" class="n-dropdown-menu__item-link">Диалоги </a>
      </li>
    <li class="n-dropdown-menu__item">
      <a href="https://habrahabr.ru/users/minikh_v/favorites/" class="n-dropdown-menu__item-link">Избранное</a>
    </li>
    <li class="n-dropdown-menu__item n-dropdown-menu__item_border">
      <a href="https://habrahabr.ru/auth/settings/profile/" class="n-dropdown-menu__item-link">Настройки</a>
    </li>
    <li class="n-dropdown-menu__item">
      <a href="https://habrahabr.ru/logout/minikh_v/2509448381/" class="n-dropdown-menu__item-link">Выйти</a>
    </li>
  </ul>
</div>
      </div>

  </div>
</div>
      </div>
      <div class="layout__base">
        

            <div class="company_top_banner">
      <a href="http://www.luxoft.ru/careers/" target="_blank"><img src="./Шпаргалка Java программиста 4. Java Stream API _ Блог компании Luxoft _ Хабрахабр_files/9adfb657090a604dc9f0c82269f8a212.png" alt=""></a>
  </div>
    <div style="position:absolute;left:-9999px;top:0;">
      <img src="./Шпаргалка Java программиста 4. Java Stream API _ Блог компании Luxoft _ Хабрахабр_files/39690200" alt="">
    </div>

  <div class="profile-header">

  <div class=" profile-header__summary author-info author-info_profile" id="company_938">
      <a href="https://habrahabr.ru/company/luxoft/" class="author-info__image">
          <img src="./Шпаргалка Java программиста 4. Java Stream API _ Блог компании Luxoft _ Хабрахабр_files/b4472ef43c7d2d2f538d83568723d839.png" class="author-info__image-pic">
      </a>

      <div class="author-info__desc">
        <div class="author-info__username">
          <a href="https://habrahabr.ru/company/luxoft/" class="author-info__name">Luxoft</a>
        </div>

        <div class="author-info__specialization">
            Компания
        </div>
      </div>

  </div>

  <div class="profile-header__stats">
    <div class="user-rating">
      <div class="user-rating__value">87,08</div>
      <div class="user-rating__label" title="Хабраиндекс - абстрактный показатель популярности компании на Хабрахабре">рейтинг</div>
    </div>
  </div>

    <div class="profile-header__buttons">

        <button type="button" id="addCompanyMember" title="Подписаться на компанию" class="btn  btn_blue btn_large hidden" data-id="938">Подписаться</button>
        <button type="button" id="removeCompanyMember" title="Отписаться от компании" class="btn btn_blue btn_large btn_subscribed " data-id="938"> Подписан </button>

    </div>
</div>
  <div class="column-wrapper">
    <div class="content_left">
        <div class="tabs">
    <ul class="tabs-menu tabs-menu_habrahabr">
          <li class="tabs-menu__item tabs-menu__item_company-profile tabs-menu__item_inline">
            <a href="https://habrahabr.ru/company/luxoft/profile/" class="tab-item tab-item_stacked ">
              <span class="tab-item__value stats">
                <span class="stats__counters stats__counters_big">
                  <strong class="counter"></strong>
                </span>
                <span class="stats__value">Профиль</span>
            </span></a>
          </li>
          <li class="tabs-menu__item tabs-menu__item_company-profile tabs-menu__item_inline">
            <a href="https://habrahabr.ru/company/luxoft/blog/" class="tab-item tab-item_stacked tab-item_current">
              <span class="tab-item__value stats">
                <span class="stats__counters stats__counters_big">
                  <strong class="counter">144</strong>
                </span>
                <span class="stats__value">Блог</span>
            </span></a>
          </li>
          <li class="tabs-menu__item tabs-menu__item_company-profile tabs-menu__item_inline">
            <a href="https://habrahabr.ru/company/luxoft/vacancies/" class="tab-item tab-item_stacked ">
              <span class="tab-item__value stats">
                <span class="stats__counters stats__counters_big">
                  <strong class="counter">0</strong>
                </span>
                <span class="stats__value">Вакансии</span>
            </span></a>
          </li>
          <li class="tabs-menu__item tabs-menu__item_company-profile tabs-menu__item_inline">
            <a href="https://habrahabr.ru/company/luxoft/fans/" class="tab-item tab-item_stacked ">
              <span class="tab-item__value stats">
                <span class="stats__counters stats__counters_big">
                  <strong class="counter">1,6k</strong>
                </span>
                <span class="stats__value">Подписчики</span>
            </span></a>
          </li>
    </ul>

  </div>

      <div class="company_post">
        
    <div class="post post_full" id="post_270383">
  <div class="post__header">
    <span class="post__time_published">
       18 ноября 2015 в 16:43 
    </span>

    <h1 class="post__title">
      <a href="https://habrahabr.ru/flows/develop/" class="post__flow" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;flow&#39;, &#39;post page&#39;, &#39;Разработка&#39;); }">Разработка</a><span class="post__title-arrow">&nbsp;→</span>
      <span>Шпаргалка Java программиста 4. Java Stream API</span>
      







<span class="flag flag_tutorial" title="Обучающий материал">tutorial</span>



    </h1>

      <div class="hubs">
          <a href="https://habrahabr.ru/hub/funcprog/" class="hub subscribed" title="Вы подписаны на этот хаб" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;hub&#39;, &#39;post page&#39;, &#39;Функциональное программирование&#39;); }">Функциональное программирование</a><span class="profiled_hub" title="Профильный хаб">*</span>, 
          <a href="https://habrahabr.ru/hub/webdev/" class="hub subscribed" title="Вы подписаны на этот хаб" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;hub&#39;, &#39;post page&#39;, &#39;Разработка веб-сайтов&#39;); }">Разработка веб-сайтов</a><span class="profiled_hub" title="Профильный хаб">*</span>, 
          <a href="https://habrahabr.ru/hub/programming/" class="hub subscribed" title="Вы подписаны на этот хаб" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;hub&#39;, &#39;post page&#39;, &#39;Программирование&#39;); }">Программирование</a><span class="profiled_hub" title="Профильный хаб">*</span>, 
          <a href="https://habrahabr.ru/hub/java/" class="hub subscribed" title="Вы подписаны на этот хаб" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;hub&#39;, &#39;post page&#39;, &#39;Java&#39;); }">Java</a><span class="profiled_hub" title="Профильный хаб">*</span>, 
          <a href="https://habrahabr.ru/company/luxoft/" class="hub subscribed" title="Вы подписаны на этот хаб" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;hub&#39;, &#39;post page&#39;, &#39;Блог компании Luxoft&#39;); }">Блог компании Luxoft</a>
      </div>
  </div>

  <div class="post__body post__body_full">
    <div class="content html_format"><a href="http://habrahabr.ru/post/270383/"><img src="./Шпаргалка Java программиста 4. Java Stream API _ Блог компании Luxoft _ Хабрахабр_files/0b7b1876026c4aa78b926fe5a9027c72.jpg"></a><br>
<br>
Несмотря на то, что Java 8 вышла уже достаточно давно, далеко не все программисты используют её новые возможности, кого-то останавливает то, что рабочие проекты слишком сложно перевести с Java 7 или даже Java 6, кого-то использование в своих проектах GWT, кто-то делает проекты под Android и не хочет или не может использовать сторонние библиотеки для реализации лямбд и Stream Api. Однако знание лямбд и Stream Api для программиста Java зачастую требуют на собеседованиях, ну и просто будет полезно при переходе на проект где используется Java 8. Я хотел бы предложить вам краткую шпаргалку по Stream Api с практическими примерами реализации различных задач с новым функциональным подходом. Знания лямбд и функционального программирования не потребуется (я постарался дать примеры так, чтобы все было понятно), уровень от самого базового знания Java и выше. <br>
<br>
Также, так как это шпаргалка, статья может использоваться, чтобы быстро вспомнить как работает та или иная особенность Java Stream Api. Краткое перечисление возможностей основных функций дано в начале статьи.<br>
<br>
<a name="habracut"></a><br>
<div class="spoiler"><b class="spoiler_title">Для тех кто совсем не знает что такое Stream Api</b><div class="spoiler_text">Stream API это новый способ работать со структурами данных в функциональном стиле. Чаще всего с помощью stream в Java 8 работают с коллекциями, но на самом деле этот механизм может использоваться для самых различных данных. <br>
<br>
Stream Api позволяет писать обработку структур данных в стиле SQL, то если раньше задача получить сумму всех нечетных чисел из коллекции решалась следующим кодом: <br>
<pre><code class="java hljs">        Integer sumOddOld = <span class="hljs-number">0</span>; 
        <span class="hljs-keyword">for</span>(Integer i: collection) {
            <span class="hljs-keyword">if</span>(i % <span class="hljs-number">2</span> != <span class="hljs-number">0</span>) {
                sumOddOld += i;
            }
        }
</code></pre><br>
То с помощью Stream Api можно решить такую задачу в функциональном стиле: <br>
<pre><code class="java hljs">       Integer sumOdd = collection.stream().filter(o -&gt; o % <span class="hljs-number">2</span> != <span class="hljs-number">0</span>).reduce((s1, s2) -&gt; s1 + s2).orElse(<span class="hljs-number">0</span>);
</code></pre><br>
Более того, Stream Api позволяет решать задачу параллельно лишь изменив stream() на parallelStream() без всякого лишнего кода, т.е. <br>
<pre><code class="java hljs">       Integer sumOdd = collection.parallelStream().filter(o -&gt; o % <span class="hljs-number">2</span> != <span class="hljs-number">0</span>).reduce((s1, s2) -&gt; s1 + s2).orElse(<span class="hljs-number">0</span>);
</code></pre><br>
Уже делает код параллельным, без всяких семафоров, синхронизаций, рисков взаимных блокировок и т.п. <br>
</div></div><br>
<br>
<div class="spoiler"><b class="spoiler_title">Общее оглавление 'Шпаргалок'</b><div class="spoiler_text"><a href="https://habrahabr.ru/post/265061/">1. JPA и Hibernate в вопросах и ответах</a><br>
<a href="https://habrahabr.ru/post/266821/">2. Триста пятьдесят самых популярных не мобильных Java opensource проектов на github</a><br>
<a href="https://habrahabr.ru/company/luxoft/blog/256877/">3. Коллекции в Java (стандартные, guava, apache, trove, gs-collections и другие</a><br>
<a href="https://habrahabr.ru/company/luxoft/blog/270383/">4. Java Stream API</a><br>
<a href="https://habrahabr.ru/company/luxoft/blog/272025/">5. Двести пятьдесят русскоязычных обучающих видео докладов и лекций о Java</a><br>
<a href="https://habrahabr.ru/company/luxoft/blog/280784/">6. Список полезных ссылок для Java программиста</a> <br>
7 Типовые задачи<br>
&nbsp;&nbsp; <a href="https://habrahabr.ru/post/278233/">7.1 Оптимальный путь преобразования InputStream в строку</a><br>
&nbsp;&nbsp; <a href="https://habrahabr.ru/post/278313/">7.2 Самый производительный способ обхода Map'ы, подсчет количества вхождений подстроки</a><br>
<a href="https://habrahabr.ru/company/luxoft/blog/280782/">8. Библиотеки для работы с Json (Gson, Fastjson, LoganSquare, Jackson, JsonPath и другие) </a><br>
</div></div><br>
<br>
Давайте начнем с начала, а именно с создания объектов stream в Java 8.<br>
<br>
<h2><b>I. Способы создания стримов</b></h2><br>
Перечислим несколько способов создать стрим <br>
<table>
<tbody><tr>
<th width="170">Способ создания стрима</th>
<th width="180">Шаблон создания</th>
<th>Пример</th>
</tr>
<tr>
<td>1. Классический: Создание стрима из коллекции </td>
<td>collection.<b>stream</b>()</td>
<td><pre><code class="java hljs">Collection&lt;String&gt; collection = Arrays.asList(<span class="hljs-string">"a1"</span>, <span class="hljs-string">"a2"</span>, <span class="hljs-string">"a3"</span>);
        Stream&lt;String&gt; streamFromCollection = collection.stream();
</code></pre></td>
</tr>
<tr>
<td>2. Создание стрима из значений</td>
<td><b>Stream.of</b>(<i>значение1</i>,… <i>значениеN</i>)</td>
<td><pre><code class="java hljs">Stream&lt;String&gt; streamFromValues = Stream.of(<span class="hljs-string">"a1"</span>, <span class="hljs-string">"a2"</span>, <span class="hljs-string">"a3"</span>);
</code></pre></td>
</tr>
<tr>
<td>3. Создание стрима из массива</td>
<td><b>Arrays.stream</b>(<i>массив</i>)</td>
<td><pre><code class="java hljs">String[] array = {<span class="hljs-string">"a1"</span>,<span class="hljs-string">"a2"</span>,<span class="hljs-string">"a3"</span>};                     
 Stream&lt;String&gt; streamFromArrays = Arrays.stream(array);
</code></pre></td>
</tr>
<tr>
<td>4. Создание стрима из файла (каждая строка в файле будет отдельным элементом в стриме)</td>
<td><b>Files.lines</b>(<i>путь_к_файлу</i>)</td>
<td><pre><code class="java hljs">Stream&lt;String&gt; streamFromFiles = Files.lines(Paths.get(<span class="hljs-string">"file.txt"</span>))
</code></pre></td>
</tr>
<tr>
<td>5. Создание стрима из строки</td>
<td>«строка».<b>chars</b>()</td>
<td><pre><code class="java hljs">IntStream streamFromString = <span class="hljs-string">"123"</span>.chars()
</code></pre></td>
</tr>
<tr>
<td>6. С помощью Stream.builder</td>
<td>Stream.<b>builder</b>().<b>add</b>(...)....<b>build</b>()</td>
<td><pre><code class="java hljs">Stream.builder().add(<span class="hljs-string">"a1"</span>).add(<span class="hljs-string">"a2"</span>).add(<span class="hljs-string">"a3"</span>).build()
</code></pre></td>
</tr>
<tr>
<td>7. Создание параллельного стрима</td>
<td>collection.<b>parallelStream</b>()</td>
<td><pre><code class="java hljs">Stream&lt;String&gt; stream = collection.parallelStream();
</code></pre><br>
 </td>
</tr>
<tr>
<td>8. Создание бесконечных стрима с помощью Stream.iterate <br>
</td>
<td><b>Stream.iterate</b>(<i>начальное_условие</i>, <i>выражение_генерации</i>)</td>
<td><pre><code class="java hljs">Stream&lt;Integer&gt; streamFromIterate = Stream.iterate(<span class="hljs-number">1</span>, n -&gt; n + <span class="hljs-number">1</span>)
</code></pre></td>
</tr>
<tr>
<td>9. Создание бесконечных стрима с помощью Stream.generate</td>
<td><b>Stream.generate</b>(<i>выражение_генерации</i>)</td>
<td><pre><code class="java hljs">Stream&lt;String&gt; streamFromGenerate = Stream.generate(() -&gt; <span class="hljs-string">"a1"</span>)
</code></pre></td>
</tr>
</tbody></table><br>
В принципе, кроме последних двух способов создания стрима, все не отличается от обычных способов создания коллекций. Последние два способа служат для генерации бесконечных стримов, в iterate задается начальное условие и выражение получение следующего значения из предыдущего, то есть Stream.iterate(1, n -&gt; n + 1) будет выдавать значения 1, 2, 3, 4,… N. Stream.generate служит для генерации константных и случайных значений, он просто выдает значения соответствующие выражению, в данном примере, он будет выдавать бесконечное количество значений «a1».<br>
<div class="spoiler spoiler_open"><b class="spoiler_title">Для тех кто не знает лямбды</b><div class="spoiler_text" style="display: block;"> Выражение n -&gt; n + 1, это просто аналог выражения Integer func(Integer n) { return n+1;}, а выражение () -&gt; «a1» аналог выражения String func() { return «a1»;} обернутых в анонимный класс. <br>
</div></div> <br>
<div class="spoiler spoiler_open"><b class="spoiler_title">Более подробные примеры</b><div class="spoiler_text" style="display: block;">Так же этот пример можно найти на <a href="https://github.com/Vedenin/java_in_examples/blob/master/stream_api/src/com/github/vedenin/rus/stream_api/BuildTests.java">github</a>'e<br>
<pre><code class="java hljs">        System.out.println(<span class="hljs-string">"Test buildStream start"</span>);

        <span class="hljs-comment">// Создание стрима из значений</span>
        Stream&lt;String&gt; streamFromValues = Stream.of(<span class="hljs-string">"a1"</span>, <span class="hljs-string">"a2"</span>, <span class="hljs-string">"a3"</span>);
        System.out.println(<span class="hljs-string">"streamFromValues = "</span> + streamFromValues.collect(Collectors.toList())); <span class="hljs-comment">// напечатает streamFromValues = [a1, a2, a3]</span>

        <span class="hljs-comment">// Создание стрима из массива</span>
        String[] array = {<span class="hljs-string">"a1"</span>,<span class="hljs-string">"a2"</span>,<span class="hljs-string">"a3"</span>};
        Stream&lt;String&gt; streamFromArrays = Arrays.stream(array);
        System.out.println(<span class="hljs-string">"streamFromArrays = "</span> + streamFromArrays.collect(Collectors.toList())); <span class="hljs-comment">// напечатает streamFromArrays = [a1, a2, a3]</span>

        Stream&lt;String&gt; streamFromArrays1 = Stream.of(array);
        System.out.println(<span class="hljs-string">"streamFromArrays1 = "</span> + streamFromArrays1.collect(Collectors.toList())); <span class="hljs-comment">// напечатает streamFromArrays = [a1, a2, a3]</span>

        <span class="hljs-comment">// Создание стрима из файла (каждая запись в файле будет отдельной строкой в стриме)</span>
        File file = <span class="hljs-keyword">new</span> File(<span class="hljs-string">"1.tmp"</span>);
        file.deleteOnExit();
        PrintWriter out = <span class="hljs-keyword">new</span> PrintWriter(file);
        out.println(<span class="hljs-string">"a1"</span>);
        out.println(<span class="hljs-string">"a2"</span>);
        out.println(<span class="hljs-string">"a3"</span>);
        out.close();

        Stream&lt;String&gt; streamFromFiles = Files.lines(Paths.get(file.getAbsolutePath()));
        System.out.println(<span class="hljs-string">"streamFromFiles = "</span> + streamFromFiles.collect(Collectors.toList())); <span class="hljs-comment">// напечатает streamFromFiles = [a1, a2, a3]</span>

        <span class="hljs-comment">// Создание стрима из коллекции</span>
        Collection&lt;String&gt; collection = Arrays.asList(<span class="hljs-string">"a1"</span>, <span class="hljs-string">"a2"</span>, <span class="hljs-string">"a3"</span>);
        Stream&lt;String&gt; streamFromCollection = collection.stream();
        System.out.println(<span class="hljs-string">"streamFromCollection = "</span> + streamFromCollection.collect(Collectors.toList())); <span class="hljs-comment">// напечатает streamFromCollection = [a1, a2, a3]</span>

        <span class="hljs-comment">// Создание числового стрима из строки</span>
        IntStream streamFromString = <span class="hljs-string">"123"</span>.chars();
        System.out.print(<span class="hljs-string">"streamFromString = "</span>);
        streamFromString.forEach((e)-&gt;System.out.print(e + <span class="hljs-string">" , "</span>)); <span class="hljs-comment">// напечатает streamFromString = 49 , 50 , 51 ,</span>
        System.out.println();

        <span class="hljs-comment">// С помощью Stream.builder</span>
        Stream.Builder&lt;String&gt; builder = Stream.builder();
        Stream&lt;String&gt; streamFromBuilder = builder.add(<span class="hljs-string">"a1"</span>).add(<span class="hljs-string">"a2"</span>).add(<span class="hljs-string">"a3"</span>).build();
        System.out.println(<span class="hljs-string">"streamFromBuilder = "</span> + streamFromBuilder.collect((Collectors.toList()))); <span class="hljs-comment">// напечатает streamFromFiles = [a1, a2, a3]</span>

        <span class="hljs-comment">// Создание бесконечных стримов</span>
        <span class="hljs-comment">// С помощью Stream.iterate</span>
        Stream&lt;Integer&gt; streamFromIterate = Stream.iterate(<span class="hljs-number">1</span>, n -&gt; n + <span class="hljs-number">2</span>);
        System.out.println(<span class="hljs-string">"streamFromIterate = "</span> + streamFromIterate.limit(<span class="hljs-number">3</span>).collect(Collectors.toList())); <span class="hljs-comment">// напечатает streamFromIterate = [1, 3, 5]</span>

        <span class="hljs-comment">// С помощью Stream.generate</span>
        Stream&lt;String&gt; streamFromGenerate = Stream.generate(() -&gt; <span class="hljs-string">"a1"</span>);
        System.out.println(<span class="hljs-string">"streamFromGenerate = "</span> + streamFromGenerate.limit(<span class="hljs-number">3</span>).collect(Collectors.toList())); <span class="hljs-comment">// напечатает streamFromGenerate = [a1, a1, a1]</span>

        <span class="hljs-comment">// Создать пустой стрим</span>
        Stream&lt;String&gt; streamEmpty = Stream.empty();
        System.out.println(<span class="hljs-string">"streamEmpty = "</span> + streamEmpty.collect(Collectors.toList())); <span class="hljs-comment">// напечатает streamEmpty = []</span>

        <span class="hljs-comment">// Создать параллельный стрим из коллекции</span>
        Stream&lt;String&gt; parallelStream = collection.parallelStream();
        System.out.println(<span class="hljs-string">"parallelStream = "</span> + parallelStream.collect(Collectors.toList())); <span class="hljs-comment">// напечатает parallelStream = [a1, a2, a3]</span>
</code></pre><br>
</div></div><br>
<br>
<h2><b>II. Методы работы со стримами</b></h2><br>
Java Stream API предлагает два вида методов: <br>
1. Конвейерные — возвращают другой stream, то есть работают как builder, <br>
2. Терминальные — возвращают другой объект, такой как коллекция, примитивы, объекты, Optional и т.д.<br>
<br>
<div class="spoiler spoiler_open"><b class="spoiler_title">О том чем отличаются конвейерные и терминальные методы</b><div class="spoiler_text" style="display: block;"><b>Общее правило</b>: у stream'a может быть сколько угодно вызовов конвейерных вызовов и в конце один терминальный, при этом все конвейерные методы выполняются лениво и пока не будет вызван терминальный метод никаких действий на самом деле не происходит, так же как создать объект Thread или Runnable, но не вызвать у него start.<br>
<br>
В целом, этот механизм похож на конструирования SQL запросов, может быть сколько угодно вложенных Select'ов и только один результат в итоге. Например, в выражении collection.stream().filter((s) -&gt; s.contains(«1»)).skip(2).findFirst(), filter и skip — конвейерные, а findFirst — терминальный, он возвращает объект Optional и это заканчивает работу со stream'ом.<br>
</div></div><br>
<br>
<h3><b>2.1 Краткое описание конвейерных методов работы со стримами</b></h3><br>
<table>
<tbody><tr>
<th width="140">Метод stream</th>
<th>Описание</th>
<th width="420">Пример</th>
</tr>
<tr>
<td><b>filter</b></td>
<td>Отфильтровывает записи, возвращает только записи, соответствующие условию</td>
<td>collection.stream().filter(«a1»::equals).count()</td>
</tr>
<tr>
<td><b>skip</b></td>
<td>Позволяет пропустить N первых элементов</td>
<td>collection.stream().skip(collection.size() — 1).findFirst().orElse(«1»)</td>
</tr>
<tr>
<td><b>distinct</b></td>
<td>Возвращает стрим без дубликатов (для метода equals)</td>
<td>collection.stream().distinct().collect(Collectors.toList())</td>
</tr>
<tr>
<td><b>map</b></td>
<td>Преобразует каждый элемент стрима</td>
<td>collection.stream().map((s) -&gt; s + "_1").collect(Collectors.toList())</td>
</tr>
<tr>
<td><b>peek</b></td>
<td>Возвращает тот же стрим, но применяет функцию к каждому элементу стрима</td>
<td>collection.stream().map(String::toUpperCase).peek((e) -&gt; System.out.print("," + e)).<br>
 collect(Collectors.toList())</td>
</tr>
<tr>
<td><b>limit</b></td>
<td>Позволяет ограничить выборку определенным количеством первых элементов</td>
<td>collection.stream().limit(2).collect(Collectors.toList())</td>
</tr>
<tr>
<td><b>sorted</b></td>
<td>Позволяет сортировать значения либо в натуральном порядке, либо задавая Comparator</td>
<td>collection.stream().sorted().collect(Collectors.toList())</td>
</tr>
<tr>
<td><b>mapToInt</b>, <br>
<b>mapToDouble</b>, <br>
<b>mapToLong</b></td>
<td>Аналог map, но возвращает числовой стрим (то есть стрим из числовых примитивов)</td>
<td>collection.stream().mapToInt((s) -&gt; Integer.parseInt(s)).toArray()</td>
</tr>
<tr>
<td><b>flatMap</b>,<br>
<b>flatMapToInt</b>,<br>
<b>flatMapToDouble</b>,<br>
<b>flatMapToLong</b></td>
<td>Похоже на map, но может создавать из одного элемента несколько</td>
<td>collection.stream().flatMap((p) -&gt; Arrays.asList(p.split(",")).stream()).toArray(String[]::new)</td>
</tr>
</tbody></table><br>
<br>
<h3><b>2.2 Краткое описание терминальных методов работы со стримами</b></h3><br>
<table>
<tbody><tr>
<th width="120">Метод stream</th>
<th>Описание</th>
<th width="450">Пример</th>
</tr>
<tr>
<td><b>findFirst</b></td>
<td>Возвращает первый элемент из стрима (возвращает Optional)</td>
<td>collection.stream().findFirst().orElse(«1»)</td>
</tr>
<tr>
<td><b>findAny</b></td>
<td>Возвращает любой подходящий элемент из стрима (возвращает Optional)</td>
<td>collection.stream().findAny().orElse(«1»)</td>
</tr>
<tr>
<td><b>collect</b></td>
<td>Представление результатов в виде коллекций и других структур данных</td>
<td>collection.stream().filter((s) -&gt; s.contains(«1»)).collect(Collectors.toList())</td>
</tr>
<tr>
<td><b>count</b></td>
<td>Возвращает количество элементов в стриме</td>
<td>collection.stream().filter(«a1»::equals).count()</td>
</tr>
<tr>
<td><b>anyMatch</b></td>
<td>Возвращает true, если условие выполняется хотя бы для одного элемента</td>
<td>collection.stream().anyMatch(«a1»::equals)</td>
</tr>
<tr>
<td><b>noneMatch</b></td>
<td>Возвращает true, если условие не выполняется ни для одного элемента</td>
<td>collection.stream().noneMatch(«a8»::equals)</td>
</tr>
<tr>
<td><b>allMatch</b></td>
<td>Возвращает true, если условие выполняется для всех элементов</td>
<td>collection.stream().allMatch((s) -&gt; s.contains(«1»))</td>
</tr>
<tr>
<td><b>min</b></td>
<td>Возвращает минимальный элемент, в качестве условия использует компаратор</td>
<td>collection.stream().min(String::compareTo).get()</td>
</tr>
<tr>
<td><b>max</b></td>
<td>Возвращает максимальный элемент, в качестве условия использует компаратор</td>
<td>collection.stream().max(String::compareTo).get()</td>
</tr>
<tr>
<td><b>forEach</b></td>
<td>Применяет функцию к каждому объекту стрима, порядок при параллельном выполнении не гарантируется</td>
<td>set.stream().forEach((p) -&gt; p.append("_1"));</td>
</tr>
<tr>
<td><b>forEachOrdered</b></td>
<td>Применяет функцию к каждому объекту стрима, сохранение порядка элементов гарантирует</td>
<td>list.stream().forEachOrdered((p) -&gt; p.append("_new"));</td>
</tr>
<tr>
<td><b>toArray</b></td>
<td>Возвращает массив значений стрима</td>
<td>collection.stream().map(String::toUpperCase).toArray(String[]::new);</td>
</tr>
<tr>
<td><b>reduce</b></td>
<td>Позволяет выполнять агрегатные функции на всей коллекцией и возвращать один результат</td>
<td>collection.stream().reduce((s1, s2) -&gt; s1 + s2).orElse(0)</td>
</tr>
</tbody></table><br>
Обратите внимание методы findFirst, findAny, anyMatch это short-circuiting методы, то есть обход стримов организуется таким образом чтобы найти подходящий элемент максимально быстро, а не обходить весь изначальный стрим.<br>
<br>
<h3><b>2.3 Краткое описание дополнительных методов у числовых стримов</b></h3><br>
<table>
<tbody><tr>
<th width="100">Метод stream</th>
<th>Описание</th>
<th width="450">Пример</th>
</tr>
<tr>
<td><b>sum</b></td>
<td>Возвращает сумму всех чисел</td>
<td>collection.stream().mapToInt((s) -&gt; Integer.parseInt(s)).sum()</td>
</tr>
<tr>
<td><b>average</b></td>
<td>Возвращает среднее арифметическое всех чисел</td>
<td>collection.stream().mapToInt((s) -&gt; Integer.parseInt(s)).average()</td>
</tr>
<tr>
<td><b>mapToObj</b></td>
<td>Преобразует числовой стрим обратно в объектный</td>
<td>intStream.mapToObj((id) -&gt; new Key(id)).toArray()</td>
</tr>
</tbody></table><br>
<br>
<h3><b>2.4 Несколько других полезных методов стримов</b></h3><br>
<table>
<tbody><tr>
<th width="100">Метод stream</th>
<th>Описание</th>
</tr>
<tr>
<td><b>isParallel</b></td>
<td>Узнать является ли стрим параллельным </td>
</tr>
<tr>
<td><b>parallel</b></td>
<td>Вернуть параллельный стрим, если стрим уже параллельный, то может вернуть самого себя</td>
</tr>
<tr>
<td><b>sequential</b></td>
<td>Вернуть последовательный стрим, если стрим уже последовательный, то может вернуть самого себя</td>
</tr>
</tbody></table><br>
С помощью, методов parallel и sequential можно определять какие операции могут быть параллельными, а какие только последовательными. Так же из любого последовательного стрима можно сделать параллельный и наоборот, то есть: <br>
<pre><code class="java hljs">collection.stream().
peek(...). <span class="hljs-comment">// операция последовательна</span>
parallel().
map(...). <span class="hljs-comment">// операция может выполняться параллельно,</span>
sequential().
reduce(...) <span class="hljs-comment">// операция снова последовательна </span>
</code></pre> <br>
<br>
<b>Внимание</b>: крайне не рекомендуется использовать параллельные стримы для сколько-нибудь долгих операций (получение данных из базы, сетевых соединений), так как все параллельные стримы работают c одним пулом fork/join и такие долгие операции могут остановить работу всех параллельных стримов в JVM из-за того отсутствия доступных потоков в пуле, т.е. параллельные стримы стоит использовать лишь для коротких операций, где счет идет на миллисекунды, но не для тех где счет может идти на секунды и минуты. <br>
<br>
<h2><b>III. Примеры работы с методами стримов</b></h2><br>
Рассмотрим работу с методами на различных задачах, обычно требующихся при работе с коллекциями.<br>
<br>
<h3><b>3.1 Примеры использования filter, findFirst, findAny, skip, limit и count</b></h3><br>
<b>Условие</b>: дана коллекция строк Arrays.asList(«a1», «a2», «a3», «a1»), давайте посмотрим как её можно обрабатывать используя методы filter, findFirst, findAny, skip и count:<br>
<table>
<tbody><tr>
<th width="300">Задача</th>
<th>Код примера</th>
<th width="90">Результат</th>
</tr>
<tr>
<td>Вернуть количество вхождений объекта «a1»</td>
<td>collection.stream().filter(«a1»::equals).count()</td>
<td>2</td>
</tr>
<tr>
<td>Вернуть первый элемент коллекции или 0, если коллекция пуста</td>
<td>collection.stream().findFirst().orElse(«0»)</td>
<td>a1</td>
</tr>
<tr>
<td>Вернуть последний элемент коллекции или «empty», если коллекция пуста</td>
<td>collection.stream().skip(collection.size() — 1).findAny().orElse(«empty»)</td>
<td>a1</td>
</tr>
<tr>
<td>Найти элемент в коллекции равный «a3» или кинуть ошибку</td>
<td>collection.stream().filter(«a3»::equals).findFirst().get()</td>
<td>a3</td>
</tr>
<tr>
<td>Вернуть третий элемент коллекции по порядку</td>
<td>collection.stream().skip(2).findFirst().get()</td>
<td>a3</td>
</tr>
<tr>
<td>Вернуть два элемента начиная со второго</td>
<td>collection.stream().skip(1).limit(2).toArray()</td>
<td>[a2, a3]</td>
</tr>
<tr>
<td>Выбрать все элементы по шаблону</td>
<td>collection.stream().filter((s) -&gt; s.contains(«1»)).collect(Collectors.toList())</td>
<td>[a1, a1]</td>
</tr>
</tbody></table><br>
<b>Обратите внимание</b>, что методы findFirst и findAny возвращают новый тип Optional, появившийся в Java 8, для того чтобы избежать NullPointerException. Метод filter удобно использовать для выборки лишь определенного множества значений, а метод skip позволяет пропускать определенное количество элементов.<br>
<div class="spoiler"><b class="spoiler_title">Если вы не знаете лямбды</b><div class="spoiler_text">Выражение «a3»::equals это аналог boolean func(s) { return «a3».equals(s);}, а (s) -&gt; s.contains(«1») это аналог boolean func(s) { return s.contains(«1»);} обернутых в анонимный класс.<br>
</div></div><br>
<b>Условие</b>: дана коллекция класс People (с полями name — имя, age — возраст, sex — пол), вида Arrays.asList( new People(«Вася», 16, Sex.MAN), new People(«Петя», 23, Sex.MAN), new People(«Елена», 42, Sex.WOMEN), new People(«Иван Иванович», 69, Sex.MAN)). Давайте посмотрим примеры как работать с таким классом: <br>
<br>
<table>
<tbody><tr>
<th width="300">Задача</th>
<th>Код примера</th>
<th width="90">Результат</th>
</tr>
<tr>
<td>Выбрать мужчин-военнообязанных (от 18 до 27 лет)</td>
<td>peoples.stream().filter((p)-&gt; p.getAge() &gt;= 18 &amp;&amp; p.getAge() &lt; 27<br>
 &amp;&amp; p.getSex() == Sex.MAN).collect(Collectors.toList())</td>
<td>[{name='Петя', age=23, sex=MAN}]</td>
</tr>
<tr>
<td>Найти средний возраст среди мужчин</td>
<td>peoples.stream().filter((p) -&gt; p.getSex() == Sex.MAN).<br>
 mapToInt(People::getAge).average().getAsDouble()</td>
<td>36.0</td>
</tr>
<tr>
<td>Найти кол-во потенциально работоспособных людей в выборке (т.е. от 18 лет и учитывая что женщины выходят в 55 лет, а мужчина в 60)</td>
<td>peoples.stream().filter((p) -&gt; p.getAge() &gt;= 18).filter(<br>
 (p) -&gt; (p.getSex() == Sex.WOMEN &amp;&amp; p.getAge() &lt; 55) || (p.getSex() == Sex.MAN &amp;&amp; p.getAge() &lt; 60)).count()</td>
<td>2</td>
</tr>
</tbody></table><br>
<div class="spoiler"><b class="spoiler_title">Детальные примеры</b><div class="spoiler_text">Также этот пример можно найти на github'e: <a href="https://github.com/Vedenin/java_in_examples/blob/master/stream_api/src/com/github/vedenin/rus/stream_api/FiterAndCountTests.java">первый класс</a> и <a href="https://github.com/Vedenin/java_in_examples/blob/master/stream_api/src/com/github/vedenin/rus/stream_api/LimitAndSkipTests.java">второй класс</a><br>
<pre><code class="java hljs">    <span class="hljs-comment">// filter - возвращает stream, в котором есть только элементы, соответствующие условию фильтра</span>
    <span class="hljs-comment">// count - возвращает количество элементов в стриме</span>
    <span class="hljs-comment">// collect - преобразует stream в коллекцию или другую структуру данных</span>
    <span class="hljs-comment">// mapToInt - преобразовать объект в числовой стрим (стрим, содержащий числа)</span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testFilterAndCount</span><span class="hljs-params">()</span> </span>{
        System.out.println();
        System.out.println(<span class="hljs-string">"Test filter and count start"</span>);
        Collection&lt;String&gt; collection = Arrays.asList(<span class="hljs-string">"a1"</span>, <span class="hljs-string">"a2"</span>, <span class="hljs-string">"a3"</span>, <span class="hljs-string">"a1"</span>);
        Collection&lt;People&gt; peoples = Arrays.asList(
                <span class="hljs-keyword">new</span> People(<span class="hljs-string">"Вася"</span>, <span class="hljs-number">16</span>, Sex.MAN),
                <span class="hljs-keyword">new</span> People(<span class="hljs-string">"Петя"</span>, <span class="hljs-number">23</span>, Sex.MAN),
                <span class="hljs-keyword">new</span> People(<span class="hljs-string">"Елена"</span>, <span class="hljs-number">42</span>, Sex.WOMEN),
                <span class="hljs-keyword">new</span> People(<span class="hljs-string">"Иван Иванович"</span>, <span class="hljs-number">69</span>, Sex.MAN)
        );

        <span class="hljs-comment">// Вернуть количество вхождений объекта</span>
        <span class="hljs-keyword">long</span> count = collection.stream().filter(<span class="hljs-string">"a1"</span>::equals).count();
        System.out.println(<span class="hljs-string">"count = "</span> + count); <span class="hljs-comment">// напечатает count = 2</span>

        <span class="hljs-comment">// Выбрать все элементы по шаблону</span>
        List&lt;String&gt; select = collection.stream().filter((s) -&gt; s.contains(<span class="hljs-string">"1"</span>)).collect(Collectors.toList());
        System.out.println(<span class="hljs-string">"select = "</span> + select); <span class="hljs-comment">// напечатает select = [a1, a1]</span>

        <span class="hljs-comment">// Выбрать мужчин-военнообязанных </span>
        List&lt;People&gt; militaryService = peoples.stream().filter((p)-&gt; p.getAge() &gt;= <span class="hljs-number">18</span> &amp;&amp; p.getAge() &lt; <span class="hljs-number">27</span>
                &amp;&amp; p.getSex() == Sex.MAN).collect(Collectors.toList());
        System.out.println(<span class="hljs-string">"militaryService = "</span> + militaryService); <span class="hljs-comment">// напечатает militaryService = [{name='Петя', age=23, sex=MAN}]</span>

        <span class="hljs-comment">// Найти средний возраст среди мужчин</span>
        <span class="hljs-keyword">double</span> manAverageAge = peoples.stream().filter((p) -&gt; p.getSex() == Sex.MAN).
                mapToInt(People::getAge).average().getAsDouble();
        System.out.println(<span class="hljs-string">"manAverageAge = "</span> + manAverageAge); <span class="hljs-comment">// напечатает manAverageAge = 36.0</span>

        <span class="hljs-comment">// Найти кол-во потенциально работоспособных людей в выборке (т.е. от 18 лет и учитывая что женщины выходят в 55 лет, а мужчина в 60)</span>
        <span class="hljs-keyword">long</span> peopleHowCanWork = peoples.stream().filter((p) -&gt; p.getAge() &gt;= <span class="hljs-number">18</span>).filter(
                (p) -&gt; (p.getSex() == Sex.WOMEN &amp;&amp; p.getAge() &lt; <span class="hljs-number">55</span>) || (p.getSex() == Sex.MAN &amp;&amp; p.getAge() &lt; <span class="hljs-number">60</span>)).count();
        System.out.println(<span class="hljs-string">"peopleHowCanWork = "</span> + peopleHowCanWork); <span class="hljs-comment">// напечатает manAverageAge = 2</span>

    }

   <span class="hljs-comment">// findFirst - возвращает первый Optional элемент из стрима</span>
    <span class="hljs-comment">// skip - пропускает N первых элементов (где N параметр метода)</span>
    <span class="hljs-comment">// collect преобразует stream в коллекцию или другую структуру данных</span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testFindFirstSkipCount</span><span class="hljs-params">()</span> </span>{
        Collection&lt;String&gt; collection = Arrays.asList(<span class="hljs-string">"a1"</span>, <span class="hljs-string">"a2"</span>, <span class="hljs-string">"a3"</span>, <span class="hljs-string">"a1"</span>);

        System.out.println(<span class="hljs-string">"Test findFirst and skip start"</span>);
        <span class="hljs-comment">// вернуть первый элемент коллекции</span>
        String first = collection.stream().findFirst().orElse(<span class="hljs-string">"1"</span>);
        System.out.println(<span class="hljs-string">"first = "</span> + first); <span class="hljs-comment">// напечатает first = a1</span>

        <span class="hljs-comment">// вернуть последний элемент коллекции</span>
        String last = collection.stream().skip(collection.size() - <span class="hljs-number">1</span>).findAny().orElse(<span class="hljs-string">"1"</span>);
        System.out.println(<span class="hljs-string">"last = "</span> + last ); <span class="hljs-comment">// напечатает last = a1</span>

        <span class="hljs-comment">// найти элемент в коллекции</span>
        String find = collection.stream().filter(<span class="hljs-string">"a3"</span>::equals).findFirst().get();
        System.out.println(<span class="hljs-string">"find = "</span> + find); <span class="hljs-comment">// напечатает find = a3</span>

        <span class="hljs-comment">// вернуть третий элемент коллекции по порядку</span>
        String third = collection.stream().skip(<span class="hljs-number">2</span>).findFirst().get();
        System.out.println(<span class="hljs-string">"third = "</span> + third); <span class="hljs-comment">// напечатает third = a3</span>

        System.out.println();
        System.out.println(<span class="hljs-string">"Test collect start"</span>);
        <span class="hljs-comment">// выбрать все элементы по шаблону</span>
        List&lt;String&gt; select = collection.stream().filter((s) -&gt; s.contains(<span class="hljs-string">"1"</span>)).collect(Collectors.toList());
        System.out.println(<span class="hljs-string">"select = "</span> + select); <span class="hljs-comment">// напечатает select = [a1, a1]</span>
    }

    <span class="hljs-comment">// Метод Limit позволяет ограничить выборку определенным количеством первых элементов</span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testLimit</span><span class="hljs-params">()</span> </span>{
        System.out.println();
        System.out.println(<span class="hljs-string">"Test limit start"</span>);
        Collection&lt;String&gt; collection = Arrays.asList(<span class="hljs-string">"a1"</span>, <span class="hljs-string">"a2"</span>, <span class="hljs-string">"a3"</span>, <span class="hljs-string">"a1"</span>);

        <span class="hljs-comment">// Вернуть первые два элемента</span>
        List&lt;String&gt; limit = collection.stream().limit(<span class="hljs-number">2</span>).collect(Collectors.toList());
        System.out.println(<span class="hljs-string">"limit = "</span> + limit); <span class="hljs-comment">// напечатает limit = [a1, a2]</span>

        <span class="hljs-comment">// Вернуть два элемента начиная со второго</span>
        List&lt;String&gt; fromTo = collection.stream().skip(<span class="hljs-number">1</span>).limit(<span class="hljs-number">2</span>).collect(Collectors.toList());
        System.out.println(<span class="hljs-string">"fromTo = "</span> + fromTo); <span class="hljs-comment">// напечатает fromTo = [a2, a3]</span>

        <span class="hljs-comment">// вернуть последний элемент коллекции</span>
        String last = collection.stream().skip(collection.size() - <span class="hljs-number">1</span>).findAny().orElse(<span class="hljs-string">"1"</span>);
        System.out.println(<span class="hljs-string">"last = "</span> + last ); <span class="hljs-comment">// напечатает last = a1</span>
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">enum</span> Sex {
        MAN,
        WOMEN
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">People</span> </span>{
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String name;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Integer age;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Sex sex;

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">People</span><span class="hljs-params">(String name, Integer age, Sex sex)</span> </span>{
            <span class="hljs-keyword">this</span>.name = name;
            <span class="hljs-keyword">this</span>.age = age;
            <span class="hljs-keyword">this</span>.sex = sex;
        }

        <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span> </span>{
            <span class="hljs-keyword">return</span> name;
        }

        <span class="hljs-function"><span class="hljs-keyword">public</span> Integer <span class="hljs-title">getAge</span><span class="hljs-params">()</span> </span>{
            <span class="hljs-keyword">return</span> age;
        }

        <span class="hljs-function"><span class="hljs-keyword">public</span> Sex <span class="hljs-title">getSex</span><span class="hljs-params">()</span> </span>{
            <span class="hljs-keyword">return</span> sex;
        }

        <span class="hljs-meta">@Override</span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-string">"{"</span> +
                    <span class="hljs-string">"name='"</span> + name + <span class="hljs-string">'\''</span> +
                    <span class="hljs-string">", age="</span> + age +
                    <span class="hljs-string">", sex="</span> + sex +
                    <span class="hljs-string">'}'</span>;
        }
    }
</code></pre><br>
</div></div><br>
<br>
<h3><b>3.2 Примеры использования distinct</b></h3><br>
Метод distinct возвращает stream без дубликатов, при этом для упорядоченного стрима (например, коллекция на основе list) порядок стабилен, для неупорядоченного — порядок не гарантируется. Рассмотрим результаты работы над коллекцией Collection ordered = Arrays.asList(«a1», «a2», «a2», «a3», «a1», «a2», «a2») и Collection nonOrdered = new HashSet&lt;&gt;(ordered).<br>
<table>
<tbody><tr>
<th width="300">Задача</th>
<th>Код примера</th>
<th width="150">Результат</th>
</tr>
<tr>
<td>Получение коллекции без дубликатов из неупорядоченного стрима</td>
<td>nonOrdered.stream().distinct().collect(Collectors.toList())</td>
<td>[a1, a2, a3] — <br>
порядок не гарантируется</td>
</tr>
<tr>
<td>Получение коллекции без дубликатов из упорядоченного стрима</td>
<td>ordered.stream().distinct().collect(Collectors.toList());</td>
<td>[a1, a2, a3] — <br>
порядок гарантируется</td>
</tr>
</tbody></table><br>
<br>
<b>Обратите внимание:</b><br>
1. Если вы используете distinct с классом, у которого переопределен equals, обязательно так же корректно переопределить hashCode в соответствие с контрактом equals/hashCode (самое главное чтобы hashCode для всех equals объектов, возвращал одинаковое значение), иначе distinct может не удалить дубликаты (аналогично, как при использовании HashSet/HashMap),<br>
2. Если вы используете параллельные стримы и вам не важен порядок элементов после удаления дубликатов — намного лучше для производительности сделать сначала стрим неупорядоченным с помощь unordered(), а уже потом применять distinct(), так как подержание стабильности сортировки при параллельном стриме довольно затратно по ресурсам и distinct() на упорядоченным стриме будет выполнятся значительно дольше чем при неупорядоченном,<br>
<br>
<div class="spoiler"><b class="spoiler_title">Детальные примеры</b><div class="spoiler_text">Так же этот пример можно найти на <a href="https://github.com/Vedenin/java_in_examples/blob/master/stream_api/src/com/github/vedenin/rus/stream_api/DistinctTests.java">github'e</a><br>
<pre><code class="java hljs"><span class="hljs-comment">// Метод distinct возвращает stream без дубликатов, при этом для упорядоченного стрима (например, коллекция на основе list) порядок стабилен , для неупорядоченного - порядок не гарантируется</span>
    <span class="hljs-comment">// Метод collect преобразует stream в коллекцию или другую структуру данных</span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testDistinct</span><span class="hljs-params">()</span> </span>{
        System.out.println();
        System.out.println(<span class="hljs-string">"Test distinct start"</span>);
        Collection&lt;String&gt; ordered = Arrays.asList(<span class="hljs-string">"a1"</span>, <span class="hljs-string">"a2"</span>, <span class="hljs-string">"a2"</span>, <span class="hljs-string">"a3"</span>, <span class="hljs-string">"a1"</span>, <span class="hljs-string">"a2"</span>, <span class="hljs-string">"a2"</span>);
        Collection&lt;String&gt; nonOrdered = <span class="hljs-keyword">new</span> HashSet&lt;&gt;(ordered);

        <span class="hljs-comment">// Получение коллекции без дубликатов</span>
        List&lt;String&gt; distinct = nonOrdered.stream().distinct().collect(Collectors.toList());
        System.out.println(<span class="hljs-string">"distinct = "</span> + distinct); <span class="hljs-comment">// напечатает distinct = [a1, a2, a3] - порядок не гарантируется</span>

        List&lt;String&gt; distinctOrdered = ordered.stream().distinct().collect(Collectors.toList());
        System.out.println(<span class="hljs-string">"distinctOrdered = "</span> + distinctOrdered); <span class="hljs-comment">// напечатает distinct = [a1, a2, a3] - порядок гарантируется</span>
    }
</code></pre><br>
</div></div><br>
<br>
<h3><b>3.3 Примеры использования Match функций (anyMatch, allMatch, noneMatch)</b></h3><br>
<b>Условие</b>: дана коллекция строк Arrays.asList(«a1», «a2», «a3», «a1»), давайте посмотрим, как её можно обрабатывать используя Match функции <br>
<br>
<table>
<tbody><tr>
<th width="300">Задача</th>
<th>Код примера</th>
<th width="90">Результат</th>
</tr>
<tr>
<td>Найти существуют ли хоть один «a1» элемент в коллекции</td>
<td>collection.stream().anyMatch(«a1»::equals)</td>
<td>true</td>
</tr>
<tr>
<td>Найти существуют ли хоть один «a8» элемент в коллекции</td>
<td>collection.stream().anyMatch(«a8»::equals)</td>
<td>false</td>
</tr>
<tr>
<td>Найти есть ли символ «1» у всех элементов коллекции</td>
<td>collection.stream().allMatch((s) -&gt; s.contains(«1»))</td>
<td>false</td>
</tr>
<tr>
<td>Проверить что не существуют ни одного «a7» элемента в коллекции</td>
<td>collection.stream().noneMatch(«a7»::equals)</td>
<td>true</td>
</tr>
</tbody></table><br>
<div class="spoiler"><b class="spoiler_title">Детальные примеры</b><div class="spoiler_text">Также этот пример можно найти на <a href="https://github.com/Vedenin/java_in_examples/blob/master/stream_api/src/com/github/vedenin/rus/stream_api/FindAndMatchTests.java">github'e</a><br>
<pre><code class="java hljs">    <span class="hljs-comment">// Метод anyMatch - возвращает true, если условие выполняется хотя бы для одного элемента</span>
    <span class="hljs-comment">// Метод noneMatch - возвращает true, если условие не выполняется ни для одного элемента</span>
    <span class="hljs-comment">// Метод allMatch - возвращает true, если условие выполняется для всех элементов</span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testMatch</span><span class="hljs-params">()</span> </span>{
        System.out.println();
        System.out.println(<span class="hljs-string">"Test anyMatch, allMatch, noneMatch  start"</span>);
        Collection&lt;String&gt; collection = Arrays.asList(<span class="hljs-string">"a1"</span>, <span class="hljs-string">"a2"</span>, <span class="hljs-string">"a3"</span>, <span class="hljs-string">"a1"</span>);

        <span class="hljs-comment">// найти существуют ли хоть одно совпадение с шаблоном в коллекции</span>
        <span class="hljs-keyword">boolean</span> isAnyOneTrue = collection.stream().anyMatch(<span class="hljs-string">"a1"</span>::equals);
        System.out.println(<span class="hljs-string">"anyOneTrue "</span> + isAnyOneTrue); <span class="hljs-comment">// напечатает true</span>
        <span class="hljs-keyword">boolean</span> isAnyOneFalse = collection.stream().anyMatch(<span class="hljs-string">"a8"</span>::equals);
        System.out.println(<span class="hljs-string">"anyOneFlase "</span> + isAnyOneFalse); <span class="hljs-comment">// напечатает false</span>

        <span class="hljs-comment">// найти существуют ли все совпадения с шаблоном в коллекции</span>
        <span class="hljs-keyword">boolean</span> isAll = collection.stream().allMatch((s) -&gt; s.contains(<span class="hljs-string">"1"</span>));
        System.out.println(<span class="hljs-string">"isAll "</span> + isAll); <span class="hljs-comment">// напечатает false</span>

        <span class="hljs-comment">// сравнение на неравенство</span>
        <span class="hljs-keyword">boolean</span> isNotEquals = collection.stream().noneMatch(<span class="hljs-string">"a7"</span>::equals);
        System.out.println(<span class="hljs-string">"isNotEquals "</span> + isNotEquals); <span class="hljs-comment">// напечатает true</span>
    }
</code></pre><br>
</div></div><br>
<br>
<h3><b>3.4 Примеры использования Map функций (map, mapToInt, FlatMap, FlatMapToInt)</b></h3><br>
<b>Условие</b>: даны две коллекции collection1 = Arrays.asList(«a1», «a2», «a3», «a1») и collection2 = Arrays.asList(«1,2,0», «4,5»), давайте посмотрим как её можно обрабатывать используя различные map функции<br>
<br>
<table>
<tbody><tr>
<th width="300">Задача</th>
<th>Код примера</th>
<th width="90">Результат</th>
</tr>
<tr>
<td>Добавить "_1" к каждому элементу первой коллекции</td>
<td>collection1.stream().map((s) -&gt; s + "_1").collect(Collectors.toList())</td>
<td>[a1_1, a2_1, a3_1, a1_1]</td>
</tr>
<tr>
<td>В первой коллекции убрать первый символ и вернуть массив чисел (int[]) </td>
<td>collection1.stream().mapToInt((s) -&gt; Integer.parseInt(s.substring(1))).toArray()</td>
<td>[1, 2, 3, 1]</td>
</tr>
<tr>
<td>Из второй коллекции получить все числа, перечисленные через запятую из всех элементов</td>
<td>collection2.stream().flatMap((p) -&gt; Arrays.asList(p.split(",")).stream()).toArray(String[]::new)</td>
<td>[1, 2, 0, 4, 5]</td>
</tr>
<tr>
<td>Из второй коллекции получить сумму всех чисел, перечисленных через запятую</td>
<td>collection2.stream().flatMapToInt((p) -&gt; Arrays.asList(p.split(",")).stream().mapToInt(Integer::parseInt)).sum()</td>
<td>12</td>
</tr>
</tbody></table><br>
Обратите внимание: все map функции могут вернуть объект другого типа (класса), то есть map может работать со стримом строк, а на выходе дать Stream из значений Integer или получать класс людей People, а возвращать класс Office, где эти люди работают и т.п., flatMap (flatMapToInt и т.п.) на выходе должны возвращать стрим с одним, несколькими или ни одним элементов для каждого элемента входящего стрима (см. последние два примера). <br>
<br>
<div class="spoiler"><b class="spoiler_title">Детальные примеры</b><div class="spoiler_text">Так же этот пример можно найти на <a href="https://github.com/Vedenin/java_in_examples/blob/master/stream_api/src/com/github/vedenin/rus/stream_api/MapTests.java">github'e</a><br>
<pre><code class="java hljs">    <span class="hljs-comment">// Метод Map изменяет выборку по определенному правилу, возвращает stream с новой выборкой</span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testMap</span><span class="hljs-params">()</span> </span>{
        System.out.println();
        System.out.println(<span class="hljs-string">"Test map start"</span>);
        Collection&lt;String&gt; collection = Arrays.asList(<span class="hljs-string">"a1"</span>, <span class="hljs-string">"a2"</span>, <span class="hljs-string">"a3"</span>, <span class="hljs-string">"a1"</span>);
        <span class="hljs-comment">// Изменение всех элементов коллекции</span>
        List&lt;String&gt; transform = collection.stream().map((s) -&gt; s + <span class="hljs-string">"_1"</span>).collect(Collectors.toList());
        System.out.println(<span class="hljs-string">"transform = "</span> + transform); <span class="hljs-comment">// напечатает transform = [a1_1, a2_1, a3_1, a1_1]</span>

        <span class="hljs-comment">// убрать первый символ и вернуть числа</span>
        List&lt;Integer&gt; number = collection.stream().map((s) -&gt; Integer.parseInt(s.substring(<span class="hljs-number">1</span>))).collect(Collectors.toList());
        System.out.println(<span class="hljs-string">"number = "</span> + number); <span class="hljs-comment">// напечатает transform = [1, 2, 3, 1]</span>

    }

    <span class="hljs-comment">// Метод MapToInt - изменяет выборку по определенному правилу, возвращает stream с новой числовой выборкой</span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testMapToInt</span><span class="hljs-params">()</span> </span>{
        System.out.println();
        System.out.println(<span class="hljs-string">"Test mapToInt start"</span>);
        Collection&lt;String&gt; collection = Arrays.asList(<span class="hljs-string">"a1"</span>, <span class="hljs-string">"a2"</span>, <span class="hljs-string">"a3"</span>, <span class="hljs-string">"a1"</span>);
        <span class="hljs-comment">// убрать первый символ и вернуть числа</span>
        <span class="hljs-keyword">int</span>[] number = collection.stream().mapToInt((s) -&gt; Integer.parseInt(s.substring(<span class="hljs-number">1</span>))).toArray();
        System.out.println(<span class="hljs-string">"number = "</span> + Arrays.toString(number)); <span class="hljs-comment">// напечатает number = [1, 2, 3, 1]</span>

    }

    <span class="hljs-comment">// Метод FlatMap - похоже на Map - только вместо одного значения, он возвращает целый stream значений</span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testFlatMap</span><span class="hljs-params">()</span> </span>{
        System.out.println();
        System.out.println(<span class="hljs-string">"Test flat map start"</span>);
        Collection&lt;String&gt; collection = Arrays.asList(<span class="hljs-string">"1,2,0"</span>, <span class="hljs-string">"4,5"</span>);
        <span class="hljs-comment">// получить все числовые значения, которые хранятся через запятую в collection</span>
        String[] number = collection.stream().flatMap((p) -&gt; Arrays.asList(p.split(<span class="hljs-string">","</span>)).stream()).toArray(String[]::<span class="hljs-keyword">new</span>);
        System.out.println(<span class="hljs-string">"number = "</span> + Arrays.toString(number)); <span class="hljs-comment">// напечатает number = [1, 2, 0, 4, 5]</span>
    }

    <span class="hljs-comment">// Метод FlatMapToInt - похоже на MapToInt - только вместо одного значения, он возвращает целый stream значений</span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testFlatMapToInt</span><span class="hljs-params">()</span> </span>{
        System.out.println();
        System.out.println(<span class="hljs-string">"Test flat map start"</span>);
        Collection&lt;String&gt; collection = Arrays.asList(<span class="hljs-string">"1,2,0"</span>, <span class="hljs-string">"4,5"</span>);
        <span class="hljs-comment">// получить сумму всех числовые значения, которые хранятся через запятую в collection</span>
        <span class="hljs-keyword">int</span> sum = collection.stream().flatMapToInt((p) -&gt; Arrays.asList(p.split(<span class="hljs-string">","</span>)).stream().mapToInt(Integer::parseInt)).sum();
        System.out.println(<span class="hljs-string">"sum = "</span> + sum); <span class="hljs-comment">// напечатает sum = 12</span>
    }
</code></pre><br>
</div></div><br>
<br>
<h3><b>3.5 Примеры использования Sorted функции</b></h3><br>
<b>Условие</b>: даны две коллекции коллекция строк Arrays.asList(«a1», «a4», «a3», «a2», «a1», «a4») и коллекция людей класса People (с полями name — имя, age — возраст, sex — пол), вида Arrays.asList( new People(«Вася», 16, Sex.MAN), new People(«Петя», 23, Sex.MAN), new People(«Елена», 42, Sex.WOMEN), new People(«Иван Иванович», 69, Sex.MAN)). Давайте посмотрим примеры как их можно сортировать: <br>
<br>
<table>
<tbody><tr>
<th width="300">Задача</th>
<th>Код примера</th>
<th width="130">Результат</th>
</tr>
<tr>
<td>Отсортировать коллекцию строк по алфавиту</td>
<td>collection.stream().sorted().collect(Collectors.toList())</td>
<td>[a1, a1, a2, a3, a4, a4]</td>
</tr>
<tr>
<td>Отсортировать коллекцию строк по алфавиту в обратном порядке</td>
<td>collection.stream().sorted((o1, o2) -&gt; -o1.compareTo(o2)).collect(Collectors.toList())</td>
<td>[a4, a4, a3, a2, a1, a1]</td>
</tr>
<tr>
<td>Отсортировать коллекцию строк по алфавиту и убрать дубликаты</td>
<td>collection.stream().sorted().distinct().collect(Collectors.toList())</td>
<td>[a1, a2, a3, a4]</td>
</tr>
<tr>
<td>Отсортировать коллекцию строк по алфавиту в обратном порядке и убрать дубликаты</td>
<td>collection.stream().sorted((o1, o2) -&gt; -o1.compareTo(o2)).distinct().collect(Collectors.toList())</td>
<td>[a4, a3, a2, a1]</td>
</tr>
<tr>
<td>Отсортировать коллекцию людей по имени в обратном алфавитном порядке</td>
<td>peoples.stream().sorted((o1,o2) -&gt; -o1.getName().compareTo(o2.getName())).collect(Collectors.toList())</td>
<td>[{'Петя'}, {'Иван Иванович'}, {'Елена'}, {'Вася'}]<br>
</td>
</tr>
<tr>
<td>Отсортировать коллекцию людей сначала по полу, а потом по возрасту</td>
<td>peoples.stream().sorted((o1, o2) -&gt; o1.getSex() != o2.getSex()? o1.getSex().<br>
 compareTo(o2.getSex()): o1.getAge().compareTo(o2.getAge())).collect(Collectors.toList())</td>
<td>[{'Вася'}, {'Петя'}, {'Иван Иванович'}, {'Елена'}]</td>
</tr>
</tbody></table><br>
<br>
<div class="spoiler"><b class="spoiler_title">Детальные примеры</b><div class="spoiler_text">Так же этот пример можно найти на <a href="https://github.com/Vedenin/java_in_examples/blob/master/stream_api/src/com/github/vedenin/rus/stream_api/SortedTests.java">github'e</a><br>
<pre><code class="java hljs">    <span class="hljs-comment">// Метод Sorted позволяет сортировать значения либо в натуральном порядке, либо задавая Comparator</span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testSorted</span><span class="hljs-params">()</span> </span>{
        System.out.println();
        System.out.println(<span class="hljs-string">"Test sorted start"</span>);

        <span class="hljs-comment">// ************ Работа со строками</span>
        Collection&lt;String&gt; collection = Arrays.asList(<span class="hljs-string">"a1"</span>, <span class="hljs-string">"a4"</span>, <span class="hljs-string">"a3"</span>, <span class="hljs-string">"a2"</span>, <span class="hljs-string">"a1"</span>, <span class="hljs-string">"a4"</span>);

        <span class="hljs-comment">// отсортировать значения по алфавиту</span>
        List&lt;String&gt; sorted = collection.stream().sorted().collect(Collectors.toList());
        System.out.println(<span class="hljs-string">"sorted = "</span> + sorted); <span class="hljs-comment">// напечатает sorted = [a1, a1, a2, a3, a4, a4]</span>

        <span class="hljs-comment">// отсортировать значения по алфавиту и убрать дубликаты</span>
        List&lt;String&gt; sortedDistinct = collection.stream().sorted().distinct().collect(Collectors.toList());
        System.out.println(<span class="hljs-string">"sortedDistinct = "</span> + sortedDistinct); <span class="hljs-comment">// напечатает sortedDistinct = [a1, a2, a3, a4]</span>

        <span class="hljs-comment">// отсортировать значения по алфавиту в обратном порядке</span>
        List&lt;String&gt; sortedReverse = collection.stream().sorted((o1, o2) -&gt; -o1.compareTo(o2)).collect(Collectors.toList());
        System.out.println(<span class="hljs-string">"sortedReverse = "</span> + sortedReverse); <span class="hljs-comment">// напечатает sortedReverse = [a4, a4, a3, a2, a1, a1]</span>

        <span class="hljs-comment">// отсортировать значения по алфавиту в обратном порядке  и убрать дубликаты</span>
        List&lt;String&gt; distinctReverse = collection.stream().sorted((o1, o2) -&gt; -o1.compareTo(o2)).distinct().collect(Collectors.toList());
        System.out.println(<span class="hljs-string">"distinctReverse = "</span> + distinctReverse); <span class="hljs-comment">// напечатает sortedReverse = [a4, a3, a2, a1]</span>

        <span class="hljs-comment">// ************ Работа с объектами</span>
        <span class="hljs-comment">// Зададим коллекцию людей</span>
        Collection&lt;People&gt; peoples = Arrays.asList(
                <span class="hljs-keyword">new</span> People(<span class="hljs-string">"Вася"</span>, <span class="hljs-number">16</span>, Sex.MAN),
                <span class="hljs-keyword">new</span> People(<span class="hljs-string">"Петя"</span>, <span class="hljs-number">23</span>, Sex.MAN),
                <span class="hljs-keyword">new</span> People(<span class="hljs-string">"Елена"</span>, <span class="hljs-number">42</span>, Sex.WOMEN),
                <span class="hljs-keyword">new</span> People(<span class="hljs-string">"Иван Иванович"</span>, <span class="hljs-number">69</span>, Sex.MAN)
        );

        <span class="hljs-comment">// Отсортировать по имени в обратном алфавитном порядке</span>
        Collection&lt;People&gt; byName = peoples.stream().sorted((o1,o2) -&gt; -o1.getName().compareTo(o2.getName())).collect(Collectors.toList());
        System.out.println(<span class="hljs-string">"byName = "</span> + byName); <span class="hljs-comment">// byName = [{name='Петя', age=23, sex=MAN}, {name='Иван Иванович', age=69, sex=MAN}, {name='Елена', age=42, sex=WOMEN}, {name='Вася', age=16, sex=MAN}]</span>

        <span class="hljs-comment">// Отсортировать сначала по полу, а потом по возрасту</span>
        Collection&lt;People&gt; bySexAndAge = peoples.stream().sorted((o1, o2) -&gt; o1.getSex() != o2.getSex() ? o1.getSex().
                compareTo(o2.getSex()) : o1.getAge().compareTo(o2.getAge())).collect(Collectors.toList());
        System.out.println(<span class="hljs-string">"bySexAndAge = "</span> + bySexAndAge); <span class="hljs-comment">// bySexAndAge = [{name='Вася', age=16, sex=MAN}, {name='Петя', age=23, sex=MAN}, {name='Иван Иванович', age=69, sex=MAN}, {name='Елена', age=42, sex=WOMEN}]</span>
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">enum</span> Sex {
        MAN,
        WOMEN
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">People</span> </span>{
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String name;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Integer age;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Sex sex;

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">People</span><span class="hljs-params">(String name, Integer age, Sex sex)</span> </span>{
            <span class="hljs-keyword">this</span>.name = name;
            <span class="hljs-keyword">this</span>.age = age;
            <span class="hljs-keyword">this</span>.sex = sex;
        }

        <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span> </span>{
            <span class="hljs-keyword">return</span> name;
        }

        <span class="hljs-function"><span class="hljs-keyword">public</span> Integer <span class="hljs-title">getAge</span><span class="hljs-params">()</span> </span>{
            <span class="hljs-keyword">return</span> age;
        }

        <span class="hljs-function"><span class="hljs-keyword">public</span> Sex <span class="hljs-title">getSex</span><span class="hljs-params">()</span> </span>{
            <span class="hljs-keyword">return</span> sex;
        }

        <span class="hljs-meta">@Override</span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-string">"{"</span> +
                    <span class="hljs-string">"name='"</span> + name + <span class="hljs-string">'\''</span> +
                    <span class="hljs-string">", age="</span> + age +
                    <span class="hljs-string">", sex="</span> + sex +
                    <span class="hljs-string">'}'</span>;
        }

        <span class="hljs-meta">@Override</span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">equals</span><span class="hljs-params">(Object o)</span> </span>{
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> == o) <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
            <span class="hljs-keyword">if</span> (!(o <span class="hljs-keyword">instanceof</span> People)) <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
            People people = (People) o;
            <span class="hljs-keyword">return</span> Objects.equals(name, people.name) &amp;&amp;
                    Objects.equals(age, people.age) &amp;&amp;
                    Objects.equals(sex, people.sex);
        }

        <span class="hljs-meta">@Override</span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">hashCode</span><span class="hljs-params">()</span> </span>{
            <span class="hljs-keyword">return</span> Objects.hash(name, age, sex);
        }
    }
</code></pre><br>
</div></div><br>
<br>
<h3><b>3.6 Примеры использования Max и Min функций</b></h3><br>
<b>Условие</b>: дана коллекция строк Arrays.asList(«a1», «a2», «a3», «a1»), и коллекция класса Peoples из прошлых примеров про Sorted и Filter функции.<br>
<br>
<table>
<tbody><tr>
<th width="300">Задача</th>
<th>Код примера</th>
<th width="90">Результат</th>
</tr>
<tr>
<td>Найти максимальное значение среди коллекции строк</td>
<td>collection.stream().max(String::compareTo).get()</td>
<td>a3</td>
</tr>
<tr>
<td>Найти минимальное значение среди коллекции строк</td>
<td>collection.stream().min(String::compareTo).get()</td>
<td>a1</td>
</tr>
<tr>
<td>Найдем человека с максимальным возрастом</td>
<td>peoples.stream().max((p1, p2) -&gt; p1.getAge().compareTo(p2.getAge())).get()</td>
<td>{name='Иван Иванович', age=69, sex=MAN}</td>
</tr>
<tr>
<td>Найдем человека с минимальным возрастом</td>
<td>peoples.stream().min((p1, p2) -&gt; p1.getAge().compareTo(p2.getAge())).get()</td>
<td>{name='Вася', age=16, sex=MAN}</td>
</tr>
</tbody></table><br>
<br>
<div class="spoiler"><b class="spoiler_title">Детальные примеры</b><div class="spoiler_text">Так же этот пример можно найти на <a href="https://github.com/Vedenin/java_in_examples/blob/master/stream_api/src/com/github/vedenin/rus/stream_api/MaxMinTests.java">github'e</a><br>
<pre><code class="java hljs">    <span class="hljs-comment">// Метод max вернет максимальный элемент, в качестве условия использует компаратор</span>
    <span class="hljs-comment">// Метод min вернет минимальный элемент, в качестве условия использует компаратор</span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testMinMax</span><span class="hljs-params">()</span> </span>{
        System.out.println();
        System.out.println(<span class="hljs-string">"Test min and max start"</span>);
        <span class="hljs-comment">// ************ Работа со строками</span>
        Collection&lt;String&gt; collection = Arrays.asList(<span class="hljs-string">"a1"</span>, <span class="hljs-string">"a2"</span>, <span class="hljs-string">"a3"</span>, <span class="hljs-string">"a1"</span>);

        <span class="hljs-comment">// найти максимальное значение</span>
        String max = collection.stream().max(String::compareTo).get();
        System.out.println(<span class="hljs-string">"max "</span> + max); <span class="hljs-comment">// напечатает a3</span>

        <span class="hljs-comment">// найти минимальное значение</span>
        String min = collection.stream().min(String::compareTo).get();
        System.out.println(<span class="hljs-string">"min "</span> + min); <span class="hljs-comment">// напечатает a1</span>

        <span class="hljs-comment">// ************ Работа со сложными объектами</span>

        <span class="hljs-comment">// Зададим коллекцию людей</span>
        Collection&lt;People&gt; peoples = Arrays.asList(
                <span class="hljs-keyword">new</span> People(<span class="hljs-string">"Вася"</span>, <span class="hljs-number">16</span>, Sex.MAN),
                <span class="hljs-keyword">new</span> People(<span class="hljs-string">"Петя"</span>, <span class="hljs-number">23</span>, Sex.MAN),
                <span class="hljs-keyword">new</span> People(<span class="hljs-string">"Елена"</span>, <span class="hljs-number">42</span>, Sex.WOMEN),
                <span class="hljs-keyword">new</span> People(<span class="hljs-string">"Иван Иванович"</span>, <span class="hljs-number">69</span>, Sex.MAN)
        );

        <span class="hljs-comment">// найти человека с максимальным возрастом</span>
        People older = peoples.stream().max((p1, p2) -&gt; p1.getAge().compareTo(p2.getAge())).get();
        System.out.println(<span class="hljs-string">"older "</span> + older); <span class="hljs-comment">// напечатает {name='Иван Иванович', age=69, sex=MAN}</span>

        <span class="hljs-comment">// найти человека с минимальным возрастом</span>
        People younger = peoples.stream().min((p1, p2) -&gt; p1.getAge().compareTo(p2.getAge())).get();
        System.out.println(<span class="hljs-string">"younger "</span> + younger); <span class="hljs-comment">// напечатает {name='Вася', age=16, sex=MAN}</span>
    }


    <span class="hljs-keyword">private</span> <span class="hljs-keyword">enum</span> Sex {
        MAN,
        WOMEN
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">People</span> </span>{
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String name;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Integer age;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Sex sex;

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">People</span><span class="hljs-params">(String name, Integer age, Sex sex)</span> </span>{
            <span class="hljs-keyword">this</span>.name = name;
            <span class="hljs-keyword">this</span>.age = age;
            <span class="hljs-keyword">this</span>.sex = sex;
        }

        <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span> </span>{
            <span class="hljs-keyword">return</span> name;
        }

        <span class="hljs-function"><span class="hljs-keyword">public</span> Integer <span class="hljs-title">getAge</span><span class="hljs-params">()</span> </span>{
            <span class="hljs-keyword">return</span> age;
        }

        <span class="hljs-function"><span class="hljs-keyword">public</span> Sex <span class="hljs-title">getSex</span><span class="hljs-params">()</span> </span>{
            <span class="hljs-keyword">return</span> sex;
        }

        <span class="hljs-meta">@Override</span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-string">"{"</span> +
                    <span class="hljs-string">"name='"</span> + name + <span class="hljs-string">'\''</span> +
                    <span class="hljs-string">", age="</span> + age +
                    <span class="hljs-string">", sex="</span> + sex +
                    <span class="hljs-string">'}'</span>;
        }

        <span class="hljs-meta">@Override</span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">equals</span><span class="hljs-params">(Object o)</span> </span>{
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> == o) <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
            <span class="hljs-keyword">if</span> (!(o <span class="hljs-keyword">instanceof</span> People)) <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
            People people = (People) o;
            <span class="hljs-keyword">return</span> Objects.equals(name, people.name) &amp;&amp;
                    Objects.equals(age, people.age) &amp;&amp;
                    Objects.equals(sex, people.sex);
        }

        <span class="hljs-meta">@Override</span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">hashCode</span><span class="hljs-params">()</span> </span>{
            <span class="hljs-keyword">return</span> Objects.hash(name, age, sex);
        }
    }
</code></pre><br>
</div></div><br>
<br>
<h3><b>3.7 Примеры использования ForEach и Peek функций</b></h3><br>
Обе ForEach и Peek по сути делают одно и тоже, меняют свойства объектов в стриме, единственная разница между ними в том что ForEach терминальная и она заканчивает работу со стримом, в то время как Peek конвейерная и работа со стримом продолжается. Например, есть коллекция: <pre><code class="java hljs">        Collection&lt;StringBuilder&gt; list = Arrays.asList(<span class="hljs-keyword">new</span> StringBuilder(<span class="hljs-string">"a1"</span>), <span class="hljs-keyword">new</span> StringBuilder(<span class="hljs-string">"a2"</span>), <span class="hljs-keyword">new</span> StringBuilder(<span class="hljs-string">"a3"</span>));
</code></pre><br>
И нужно добавить к каждому элементу "_new", то для ForEach код будет <br>
<pre><code class="java hljs">        list.stream().forEachOrdered((p) -&gt; p.append(<span class="hljs-string">"_new"</span>)); <span class="hljs-comment">// list - содержит [a1_new, a2_new, a3_new]</span>
</code></pre><br>
а для peek код будет <br>
 <pre><code class="java hljs">  List&lt;StringBuilder&gt; newList = list.stream().peek((p) -&gt; p.append(<span class="hljs-string">"_new"</span>)).collect(Collectors.toList()); <span class="hljs-comment">// и list и newList содержат [a1_new, a2_new, a3_new]</span>
</code></pre><br>
<br>
<div class="spoiler"><b class="spoiler_title">Детальные примеры</b><div class="spoiler_text">Так же этот пример можно найти на <a href="https://github.com/Vedenin/java_in_examples/blob/master/stream_api/src/com/github/vedenin/rus/stream_api/ForEachAndPeekTests.java">github'e</a><br>
<pre><code class="java hljs">    <span class="hljs-comment">// Метод ForEach применяет указанный метод к каждому элементу стрима и заканчивает работу со стримом</span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testForEach</span><span class="hljs-params">()</span> </span>{
        System.out.println();
        System.out.println(<span class="hljs-string">"For each start"</span>);
        Collection&lt;String&gt; collection = Arrays.asList(<span class="hljs-string">"a1"</span>, <span class="hljs-string">"a2"</span>, <span class="hljs-string">"a3"</span>, <span class="hljs-string">"a1"</span>);
        <span class="hljs-comment">// Напечатать отладочную информацию по каждому элементу стрима</span>
        System.out.print(<span class="hljs-string">"forEach = "</span>);
        collection.stream().map(String::toUpperCase).forEach((e) -&gt; System.out.print(e + <span class="hljs-string">","</span>)); <span class="hljs-comment">// напечатает forEach = A1,A2,A3,A1,</span>
        System.out.println();

        Collection&lt;StringBuilder&gt; list = Arrays.asList(<span class="hljs-keyword">new</span> StringBuilder(<span class="hljs-string">"a1"</span>), <span class="hljs-keyword">new</span> StringBuilder(<span class="hljs-string">"a2"</span>), <span class="hljs-keyword">new</span> StringBuilder(<span class="hljs-string">"a3"</span>));
        list.stream().forEachOrdered((p) -&gt; p.append(<span class="hljs-string">"_new"</span>));
        System.out.println(<span class="hljs-string">"forEachOrdered = "</span> + list); <span class="hljs-comment">// напечатает forEachOrdered = [a1_new, a2_new, a3_new]</span>
    }

    <span class="hljs-comment">// Метод Peek возвращает тот же стрим, но при этом применяет указанный метод к каждому элементу стрима</span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testPeek</span><span class="hljs-params">()</span> </span>{
        System.out.println();
        System.out.println(<span class="hljs-string">"Test peek start"</span>);
        Collection&lt;String&gt; collection = Arrays.asList(<span class="hljs-string">"a1"</span>, <span class="hljs-string">"a2"</span>, <span class="hljs-string">"a3"</span>, <span class="hljs-string">"a1"</span>);
        <span class="hljs-comment">// Напечатать отладочную информацию по каждому элементу стрима</span>
        System.out.print(<span class="hljs-string">"peak1 = "</span>);
        List&lt;String&gt; peek = collection.stream().map(String::toUpperCase).peek((e) -&gt; System.out.print(e + <span class="hljs-string">","</span>)).
                collect(Collectors.toList());
        System.out.println(); <span class="hljs-comment">// напечатает peak1 = A1,A2,A3,A1,</span>
        System.out.println(<span class="hljs-string">"peek2 = "</span> + peek); <span class="hljs-comment">// напечатает peek2 = [A1, A2, A3, A1]</span>

        Collection&lt;StringBuilder&gt; list = Arrays.asList(<span class="hljs-keyword">new</span> StringBuilder(<span class="hljs-string">"a1"</span>), <span class="hljs-keyword">new</span> StringBuilder(<span class="hljs-string">"a2"</span>), <span class="hljs-keyword">new</span> StringBuilder(<span class="hljs-string">"a3"</span>));
        List&lt;StringBuilder&gt; newList = list.stream().peek((p) -&gt; p.append(<span class="hljs-string">"_new"</span>)).collect(Collectors.toList());
        System.out.println(<span class="hljs-string">"newList = "</span> + newList); <span class="hljs-comment">// напечатает newList = [a1_new, a2_new, a3_new]</span>
    }
</code></pre><br>
</div></div><br>
<br>
<h3><b>3.8 Примеры использования Reduce функции</b></h3><br>
Метод reduce позволяет выполнять агрегатные функции на всей коллекцией (такие как сумма, нахождение минимального или максимального значение и т.п.), он возвращает одно значение для стрима, функция получает два аргумента — значение полученное на прошлых шагах и текущее значение.<br>
<br>
<b>Условие</b>: Дана коллекция чисел Arrays.asList(1, 2, 3, 4, 2) выполним над ними несколько действий используя reduce.<br>
<br>
<table>
<tbody><tr>
<th width="300">Задача</th>
<th>Код примера</th>
<th width="90">Результат</th>
</tr>
<tr>
<td>Получить сумму чисел или вернуть 0</td>
<td>collection.stream().reduce((s1, s2) -&gt; s1 + s2).orElse(0)</td>
<td>12</td>
</tr>
<tr>
<td>Вернуть максимум или -1</td>
<td>collection.stream().reduce(Integer::max).orElse(-1)</td>
<td>4</td>
</tr>
<tr>
<td>Вернуть сумму нечетных чисел или 0</td>
<td>collection.stream().filter(o -&gt; o % 2 != 0).reduce((s1, s2) -&gt; s1 + s2).orElse(0)</td>
<td>4</td>
</tr>
</tbody></table><br>
<br>
<div class="spoiler"><b class="spoiler_title">Детальные примеры</b><div class="spoiler_text">Также этот пример можно найти на <a href="https://github.com/Vedenin/java_in_examples/blob/master/stream_api/src/com/github/vedenin/rus/stream_api/ReduceTests.java">github'e</a><br>
<pre><code class="java hljs">    <span class="hljs-comment">// Метод reduce позволяет выполнять агрегатные функции на всей коллекцией (такие как сумма, нахождение минимального или максимального значение и т.п.)</span>
    <span class="hljs-comment">// Он возвращает одно Optional значение</span>
    <span class="hljs-comment">// map - преобразует один объект в другой (например, класс одного тип в другой)</span>
    <span class="hljs-comment">// mapToInt - преобразование объектов в числовой стрим (стрим, состоящий из значений int)</span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testReduce</span><span class="hljs-params">()</span> </span>{
        System.out.println();
        System.out.println(<span class="hljs-string">"Test reduce start"</span>);

        <span class="hljs-comment">// ************ Работа с числовыми объектами</span>
        Collection&lt;Integer&gt; collection = Arrays.asList(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">2</span>);

        <span class="hljs-comment">// Вернуть сумму</span>
        Integer sum = collection.stream().reduce((s1, s2) -&gt; s1 + s2).orElse(<span class="hljs-number">0</span>); <span class="hljs-comment">// через stream Api</span>
        Integer sumOld = <span class="hljs-number">0</span>; <span class="hljs-comment">// по старому методу</span>
        <span class="hljs-keyword">for</span>(Integer i: collection) {
            sumOld += i;
        }
        System.out.println(<span class="hljs-string">"sum = "</span> + sum + <span class="hljs-string">" : "</span> + sumOld); <span class="hljs-comment">// напечатает sum = 12 : 12</span>


        <span class="hljs-comment">// Вернуть максимум</span>
        Integer max1 = collection.stream().reduce((s1, s2) -&gt; s1 &gt; s2 ? s1 : s2).orElse(<span class="hljs-number">0</span>); <span class="hljs-comment">// через stream Api</span>
        Integer max2 = collection.stream().reduce(Integer::max).orElse(<span class="hljs-number">0</span>); <span class="hljs-comment">// через stream Api используя Integer::max</span>
        Integer maxOld = <span class="hljs-keyword">null</span>; <span class="hljs-comment">// по старому методу</span>
        <span class="hljs-keyword">for</span>(Integer i: collection) {
            maxOld = maxOld != <span class="hljs-keyword">null</span> &amp;&amp; maxOld &gt; i? maxOld: i;
        }
        maxOld = maxOld == <span class="hljs-keyword">null</span>? <span class="hljs-number">0</span> : maxOld;
        System.out.println(<span class="hljs-string">"max = "</span> + max1 + <span class="hljs-string">" : "</span> + max2 + <span class="hljs-string">" : "</span> + maxOld); <span class="hljs-comment">// напечатает max1 = 4 : 4 : 4</span>

        <span class="hljs-comment">// Вернуть минимум</span>
        Integer min = collection.stream().reduce((s1, s2) -&gt; s1 &lt; s2 ? s1 : s2).orElse(<span class="hljs-number">0</span>); <span class="hljs-comment">// через stream Api</span>
        Integer minOld = <span class="hljs-keyword">null</span>; <span class="hljs-comment">// по старому методу</span>
        <span class="hljs-keyword">for</span>(Integer i: collection) {
            minOld = minOld != <span class="hljs-keyword">null</span> &amp;&amp; minOld &lt; i? minOld: i;
        }
        minOld = minOld == <span class="hljs-keyword">null</span>? <span class="hljs-number">0</span> : minOld;
        System.out.println(<span class="hljs-string">"min = "</span> + min+ <span class="hljs-string">" : "</span> + minOld); <span class="hljs-comment">// напечатает min = 1 : 1</span>

        <span class="hljs-comment">// Вернуть последний элемент</span>
        Integer last = collection.stream().reduce((s1, s2) -&gt; s2).orElse(<span class="hljs-number">0</span>); <span class="hljs-comment">// через stream Api</span>
        Integer lastOld = <span class="hljs-keyword">null</span>; <span class="hljs-comment">// по старому методу</span>
        <span class="hljs-keyword">for</span>(Integer i: collection) {
            lastOld = i;
        }
        lastOld = lastOld == <span class="hljs-keyword">null</span>? <span class="hljs-number">0</span> : lastOld;
        System.out.println(<span class="hljs-string">"last = "</span> + last + <span class="hljs-string">" : "</span> + lastOld); <span class="hljs-comment">// напечатает last = 2 : 2</span>

        <span class="hljs-comment">// Вернуть сумму чисел, которые больше 2</span>
        Integer sumMore2 = collection.stream().filter(o -&gt; o &gt; <span class="hljs-number">2</span>).reduce((s1, s2) -&gt; s1 + s2).orElse(<span class="hljs-number">0</span>);     <span class="hljs-comment">// через stream Api</span>
        Integer sumMore2Old = <span class="hljs-number">0</span>; <span class="hljs-comment">// по старому методу</span>
        <span class="hljs-keyword">for</span>(Integer i: collection) {
            <span class="hljs-keyword">if</span>(i &gt; <span class="hljs-number">2</span>) {
                sumMore2Old += i;
            }
        }
        System.out.println(<span class="hljs-string">"sumMore2 = "</span> + sumMore2 + <span class="hljs-string">" : "</span> + sumMore2Old); <span class="hljs-comment">// напечатает sumMore2 = 7 : 7</span>

        <span class="hljs-comment">// Вернуть сумму нечетных чисел</span>
        Integer sumOdd = collection.stream().filter(o -&gt; o % <span class="hljs-number">2</span> != <span class="hljs-number">0</span>).reduce((s1, s2) -&gt; s1 + s2).orElse(<span class="hljs-number">0</span>); <span class="hljs-comment">// через stream Api</span>
        Integer sumOddOld = <span class="hljs-number">0</span>; <span class="hljs-comment">// по старому методу</span>
        <span class="hljs-keyword">for</span>(Integer i: collection) {
            <span class="hljs-keyword">if</span>(i % <span class="hljs-number">2</span> != <span class="hljs-number">0</span>) {
                sumOddOld += i;
            }
        }
        System.out.println(<span class="hljs-string">"sumOdd = "</span> + sumOdd + <span class="hljs-string">" : "</span> + sumOddOld); <span class="hljs-comment">// напечатает sumOdd = 4 : 4</span>

        <span class="hljs-comment">// ************ Работа со сложными объектами</span>

        <span class="hljs-comment">// Зададим коллекцию людей</span>
        Collection&lt;People&gt; peoples = Arrays.asList(
                <span class="hljs-keyword">new</span> People(<span class="hljs-string">"Вася"</span>, <span class="hljs-number">16</span>, Sex.MAN),
                <span class="hljs-keyword">new</span> People(<span class="hljs-string">"Петя"</span>, <span class="hljs-number">23</span>, Sex.MAN),
                <span class="hljs-keyword">new</span> People(<span class="hljs-string">"Елена"</span>, <span class="hljs-number">42</span>, Sex.WOMEN),
                <span class="hljs-keyword">new</span> People(<span class="hljs-string">"Иван Иванович"</span>, <span class="hljs-number">69</span>, Sex.MAN)
        );

        <span class="hljs-comment">// Найдем самого старшего мужчину</span>
        <span class="hljs-keyword">int</span> oldMan = peoples.stream().filter((p) -&gt; p.getSex() == Sex.MAN).map(People::getAge).reduce((s1, s2) -&gt; s1 &gt; s2 ? s1 : s2).get();
        System.out.println(<span class="hljs-string">"oldMan = "</span> + oldMan); <span class="hljs-comment">// напечатает 69</span>

        <span class="hljs-comment">// Найдем самого минимальный возраст человека у которого есть бука е в имени</span>
        <span class="hljs-keyword">int</span> younger = peoples.stream().filter((p) -&gt; p.getName().contains(<span class="hljs-string">"е"</span>)).mapToInt(People::getAge).reduce((s1, s2) -&gt; s1 &lt; s2 ? s1 : s2).orElse(<span class="hljs-number">0</span>);
        System.out.println(<span class="hljs-string">"younger = "</span> + younger); <span class="hljs-comment">// напечатает 23</span>
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">enum</span> Sex {
        MAN,
        WOMEN
    }

    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">People</span> </span>{
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> String name;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Integer age;
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">final</span> Sex sex;

        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">People</span><span class="hljs-params">(String name, Integer age, Sex sex)</span> </span>{
            <span class="hljs-keyword">this</span>.name = name;
            <span class="hljs-keyword">this</span>.age = age;
            <span class="hljs-keyword">this</span>.sex = sex;
        }

        <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getName</span><span class="hljs-params">()</span> </span>{
            <span class="hljs-keyword">return</span> name;
        }

        <span class="hljs-function"><span class="hljs-keyword">public</span> Integer <span class="hljs-title">getAge</span><span class="hljs-params">()</span> </span>{
            <span class="hljs-keyword">return</span> age;
        }

        <span class="hljs-function"><span class="hljs-keyword">public</span> Sex <span class="hljs-title">getSex</span><span class="hljs-params">()</span> </span>{
            <span class="hljs-keyword">return</span> sex;
        }

        <span class="hljs-meta">@Override</span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">toString</span><span class="hljs-params">()</span> </span>{
            <span class="hljs-keyword">return</span> <span class="hljs-string">"{"</span> +
                    <span class="hljs-string">"name='"</span> + name + <span class="hljs-string">'\''</span> +
                    <span class="hljs-string">", age="</span> + age +
                    <span class="hljs-string">", sex="</span> + sex +
                    <span class="hljs-string">'}'</span>;
        }

        <span class="hljs-meta">@Override</span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">boolean</span> <span class="hljs-title">equals</span><span class="hljs-params">(Object o)</span> </span>{
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> == o) <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
            <span class="hljs-keyword">if</span> (!(o <span class="hljs-keyword">instanceof</span> People)) <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
            People people = (People) o;
            <span class="hljs-keyword">return</span> Objects.equals(name, people.name) &amp;&amp;
                    Objects.equals(age, people.age) &amp;&amp;
                    Objects.equals(sex, people.sex);
        }

        <span class="hljs-meta">@Override</span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">hashCode</span><span class="hljs-params">()</span> </span>{
            <span class="hljs-keyword">return</span> Objects.hash(name, age, sex);
        }
    }
</code></pre><br>
</div></div><br>
<br>
<h3><b>3.9 Примеры использования toArray и collect функции</b></h3><br>
Если с toArray все просто, можно либо вызвать toArray() получить Object[], либо toArray(T[]::new) — получив массив типа T, то collect позволяет много возможностей преобразовать значение в коллекцию, map'у или любой другой тип. Для этого используются статические методы из Collectors, например преобразование в List будет stream.collect(Collectors.toList()). <br>
<br>
Давайте рассмотрим статические методы из Collectors: <br>
<table>
<tbody><tr>
<th width="200">Метод</th>
<th>Описание</th>
</tr>
<tr>
<td>toList, toCollection, toSet</td>
<td>представляют стрим в виде списка, коллекции или множества</td>
</tr>
<tr>
<td>toConcurrentMap, toMap</td>
<td>позволяют преобразовать стрим в map</td>
</tr>
<tr>
<td>averagingInt, averagingDouble, averagingLong</td>
<td>возвращают среднее значение</td>
</tr>
<tr>
<td>summingInt, summingDouble, summingLong</td>
<td>возвращает сумму</td>
</tr>
<tr>
<td>summarizingInt, summarizingDouble, summarizingLong</td>
<td>возвращают SummaryStatistics с разными агрегатными значениями</td>
</tr>
<tr>
<td>partitioningBy</td>
<td>разделяет коллекцию на две части по соответствию условию и возвращает их как Map&lt;Boolean, List&gt;</td>
</tr>
<tr>
<td>groupingBy</td>
<td>разделяет коллекцию на несколько частей и возвращает Map&lt;N, List&lt;T&gt;&gt;</td>
</tr>
<tr>
<td>mapping</td>
<td>дополнительные преобразования значений для сложных Collector'ов</td>
</tr>
</tbody></table><br>
<br>
Теперь давайте рассмотрим работу с collect и toArray на примерах: <br>
<b>Условие:</b> Дана коллекция чисел Arrays.asList(1, 2, 3, 4), рассмотрим работу collect и toArray с ней<br>
<table>
<tbody><tr>
<th width="300">Задача</th>
<th>Код примера</th>
<th width="150">Результат</th>
</tr>
<tr>
<td>Получить сумму нечетных чисел</td>
<td>numbers.stream().collect(Collectors.summingInt(((p) -&gt; p % 2 == 1? p: 0)))</td>
<td>4</td>
</tr>
<tr>
<td>Вычесть от каждого элемента 1 и получить среднее</td>
<td>numbers.stream().collect(Collectors.averagingInt((p) -&gt; p — 1))</td>
<td>1.5</td>
</tr>
<tr>
<td>Прибавить к числам 3 и получить статистику</td>
<td>numbers.stream().collect(Collectors.summarizingInt((p) -&gt; p + 3))</td>
<td>IntSummaryStatistics{count=4, sum=22, min=4, average=5.5, max=7}</td>
</tr>
<tr>
<td>Разделить числа на четные и нечетные</td>
<td>numbers.stream().collect(Collectors.partitioningBy((p) -&gt; p % 2 == 0))</td>
<td>{false=[1, 3], true=[2, 4]}</td>
</tr>
</tbody></table><br>
<br>
<b>Условие:</b> Дана коллекция строк Arrays.asList(«a1», «b2», «c3», «a1»), рассмотрим работу collect и toArray с ней<br>
<table>
<tbody><tr>
<th width="300">Задача</th>
<th>Код примера</th>
<th width="120">Результат</th>
</tr>
<tr>
<td>Получение списка без дубликатов</td>
<td>strings.stream().distinct().collect(Collectors.toList())</td>
<td>[a1, b2, c3]</td>
</tr>
<tr>
<td>Получить массив строк без дубликатов и в верхнем регистре</td>
<td>strings.stream().distinct().map(String::toUpperCase).toArray(String[]::new)</td>
<td>{A1, B2, C3}</td>
</tr>
<tr>
<td>Объединить все элементы в одну строку через разделитель: и обернуть тегами &lt;b&gt;… &lt;/b&gt;</td>
<td>strings.stream().collect(Collectors.joining(": ", "&lt;b&gt; ", " &lt;/b&gt;"))</td>
<td>&lt;b&gt; a1: b2: c3: a1 &lt;/b&gt;</td>
</tr>
<tr>
<td>Преобразовать в map, где первый символ ключ, второй символ значение</td>
<td>strings.stream().distinct().collect(Collectors.toMap((p) -&gt; p.substring(0, 1), (p) -&gt; p.substring(1, 2)))</td>
<td>{a=1, b=2, c=3}</td>
</tr>
<tr>
<td>Преобразовать в map, сгруппировав по первому символу строки</td>
<td>strings.stream().collect(Collectors.groupingBy((p) -&gt; p.substring(0, 1)))</td>
<td>{a=[a1, a1], b=[b2], c=[c3]}</td>
</tr>
<tr>
<td>Преобразовать в map, сгруппировав по первому символу строки и объединим вторые символы через :</td>
<td>strings.stream().collect(Collectors.groupingBy((p) -&gt; p.substring(0, 1), Collectors.mapping((p) -&gt; p.substring(1, 2), Collectors.joining(":"))))</td>
<td>{a=1:1, b=2, c=3}</td>
</tr>
</tbody></table><br>
<br>
<div class="spoiler"><b class="spoiler_title">Детальные примеры</b><div class="spoiler_text">Также примеры можно найти на <a href="https://github.com/Vedenin/java_in_examples/blob/master/stream_api/src/com/github/vedenin/rus/stream_api/CollectAndToArrayTests.java">github'e</a><br>
<pre><code class="java hljs">    <span class="hljs-comment">// Метод collect преобразует stream в коллекцию или другую структуру данных</span>
    <span class="hljs-comment">// Полезные статические методы из Collectors:</span>
    <span class="hljs-comment">// toList, toCollection, toSet - представляют стрим в виде списка, коллекции или множества</span>
    <span class="hljs-comment">// toConcurrentMap, toMap - позволяют преобразовать стрим в map, используя указанные функции</span>
    <span class="hljs-comment">// averagingInt, averagingDouble, averagingLong - возвращают среднее значение</span>
    <span class="hljs-comment">// summingInt, summingDouble, summingLong - возвращает сумму</span>
    <span class="hljs-comment">// summarizingInt, summarizingDouble, summarizingLong - возвращают SummaryStatistics с разными агрегатными значениями</span>
    <span class="hljs-comment">// partitioningBy - разделяет коллекцию на две части по соответствию условию и возвращает их как Map&lt;Boolean, List&gt;</span>
    <span class="hljs-comment">// groupingBy - разделить коллекцию по условию и вернуть Map&lt;N, List&lt;T&gt;&gt;, где T - тип последнего стрима, N - значение разделителя</span>
    <span class="hljs-comment">// mapping - дополнительные преобразования значений для сложных Collector'ов</span>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testCollect</span><span class="hljs-params">()</span> </span>{
        System.out.println();
        System.out.println(<span class="hljs-string">"Test distinct start"</span>);

        <span class="hljs-comment">// ******** Работа со строками</span>
        Collection&lt;String&gt; strings = Arrays.asList(<span class="hljs-string">"a1"</span>, <span class="hljs-string">"b2"</span>, <span class="hljs-string">"c3"</span>, <span class="hljs-string">"a1"</span>);

        <span class="hljs-comment">// Получение списка из коллекции строк без дубликатов</span>
        List&lt;String&gt; distinct = strings.stream().distinct().collect(Collectors.toList());
        System.out.println(<span class="hljs-string">"distinct = "</span> + distinct); <span class="hljs-comment">// напечатает distinct = [a1, b2, c3]</span>

        <span class="hljs-comment">// Получение массива уникальных значений из коллекции строк</span>
        String[] array = strings.stream().distinct().map(String::toUpperCase).toArray(String[]::<span class="hljs-keyword">new</span>);
        System.out.println(<span class="hljs-string">"array = "</span> + Arrays.asList(array)); <span class="hljs-comment">// напечатает array = [A1, B2, C3]</span>

        <span class="hljs-comment">// Объединить все элементы в одну строку через разделитель : и обернуть тегами &lt;b&gt; ... &lt;/b&gt;</span>
        String join = strings.stream().collect(Collectors.joining(<span class="hljs-string">" : "</span>, <span class="hljs-string">"&lt;b&gt; "</span>, <span class="hljs-string">" &lt;/b&gt;"</span>));
        System.out.println(<span class="hljs-string">"join = "</span> + join); <span class="hljs-comment">// напечатает &lt;b&gt; a1 : b2 : c3 : a1 &lt;/b&gt;</span>

        <span class="hljs-comment">// Преобразовать в map, где первый символ ключ, второй символ значение</span>
        Map&lt;String, String&gt; map = strings.stream().distinct().collect(Collectors.toMap((p) -&gt; p.substring(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>), (p) -&gt; p.substring(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>)));
        System.out.println(<span class="hljs-string">"map = "</span> + map); <span class="hljs-comment">// напечатает map = {a=1, b=2, c=3}</span>

        <span class="hljs-comment">// Преобразовать в map, сгруппировав по первому символу строки</span>
        Map&lt;String, List&lt;String&gt;&gt; groups = strings.stream().collect(Collectors.groupingBy((p) -&gt; p.substring(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>)));
        System.out.println(<span class="hljs-string">"groups = "</span> + groups); <span class="hljs-comment">// напечатает groups = {a=[a1, a1], b=[b2], c=[c3]}</span>

        <span class="hljs-comment">// Преобразовать в map, сгруппировав по первому символу строки и в качестве значения взять второй символ объединим через :</span>
        Map&lt;String, String&gt; groupJoin = strings.stream().collect(Collectors.groupingBy((p) -&gt; p.substring(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>), Collectors.mapping((p) -&gt; p.substring(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>), Collectors.joining(<span class="hljs-string">":"</span>))));
        System.out.println(<span class="hljs-string">"groupJoin = "</span> + groupJoin); <span class="hljs-comment">// напечатает groupJoin = groupJoin = {a=1/1, b=2, c=3}</span>

        <span class="hljs-comment">// ******** Работа с числами</span>
        Collection&lt;Integer&gt; numbers = Arrays.asList(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>);

        <span class="hljs-comment">// Получить сумму нечетных чисел</span>
        <span class="hljs-keyword">long</span> sumOdd = numbers.stream().collect(Collectors.summingInt(((p) -&gt; p % <span class="hljs-number">2</span> == <span class="hljs-number">1</span> ? p : <span class="hljs-number">0</span>)));
        System.out.println(<span class="hljs-string">"sumOdd = "</span> + sumOdd); <span class="hljs-comment">// напечатает sumEven = 4</span>

        <span class="hljs-comment">// Вычесть к каждого элемента 1 и получить среднее</span>
        <span class="hljs-keyword">double</span> average = numbers.stream().collect(Collectors.averagingInt((p) -&gt; p - <span class="hljs-number">1</span>));
        System.out.println(<span class="hljs-string">"average = "</span> + average); <span class="hljs-comment">// напечатает average = 1.5</span>

        <span class="hljs-comment">// Прибавить к числам 3 и получить статистику</span>
        IntSummaryStatistics statistics = numbers.stream().collect(Collectors.summarizingInt((p) -&gt; p + <span class="hljs-number">3</span>));
        System.out.println(<span class="hljs-string">"statistics = "</span> + statistics); <span class="hljs-comment">// напечатает statistics = IntSummaryStatistics{count=4, sum=22, min=4, average=5.500000, max=7}</span>

        <span class="hljs-comment">// Получить сумму четных чисел через IntSummaryStatistics</span>
        <span class="hljs-keyword">long</span> sumEven = numbers.stream().collect(Collectors.summarizingInt((p) -&gt; p % <span class="hljs-number">2</span> == <span class="hljs-number">0</span> ? p : <span class="hljs-number">0</span>)).getSum();
        System.out.println(<span class="hljs-string">"sumEven = "</span> + sumEven); <span class="hljs-comment">// напечатает sumEven = 6</span>

        <span class="hljs-comment">// Разделить числа на четные и нечетные</span>
        Map&lt;Boolean, List&lt;Integer&gt;&gt; parts = numbers.stream().collect(Collectors.partitioningBy((p) -&gt; p % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>));
        System.out.println(<span class="hljs-string">"parts = "</span> + parts); <span class="hljs-comment">// напечатает parts = {false=[1, 3], true=[2, 4]}</span>
    }
</code></pre><br>
</div></div><br>
<br>
<h3><b>3.10 Пример создания собственного Collector'a</b></h3><br>
Кроме Collector'ов уже определенных в Collectors можно так же создать собственный Collector, Давайте рассмотрим пример как его можно создать. <br>
<br>
Метод определения пользовательского Collector'a: <br>
<br>
<pre><code class="java hljs">Collector&lt;Тип_источника, Тип_аккумулятора, Тип_результата&gt; сollector =  Collector.of(
                метод_инициализации_аккумулятора,
                метод_обработки_каждого_элемента,
                метод_соединения_двух_аккумуляторов,
                [метод_последней_обработки_аккумулятора]
        );
</code></pre><br>
<br>
Как видно из кода выше, для реализации своего Collector'a нужно определить три или четыре метода (метод_последней_обработки_аккумулятора не обязателен). Рассмотрим следующий кода, который мы писали до Java 8, чтобы объединить все строки коллекции: <br>
<br>
<pre><code class="java hljs">        StringBuilder b = <span class="hljs-keyword">new</span> StringBuilder(); <span class="hljs-comment">// метод_инициализации_аккумулятора</span>
        <span class="hljs-keyword">for</span>(String s: strings) {
            b.append(s).append(<span class="hljs-string">" , "</span>); <span class="hljs-comment">// метод_обработки_каждого_элемента,</span>
        }
        String joinBuilderOld = b.toString(); <span class="hljs-comment">// метод_последней_обработки_аккумулятора</span>
</code></pre><br>
<br>
И аналогичный код, который будет написан в Java 8<br>
<br>
<pre><code class="java hljs">String joinBuilder = strings.stream().collect(
   Collector.of(
                StringBuilder::<span class="hljs-keyword">new</span>, <span class="hljs-comment">// метод_инициализации_аккумулятора</span>
                (b ,s) -&gt; b.append(s).append(<span class="hljs-string">" , "</span>), <span class="hljs-comment">// метод_обработки_каждого_элемента,</span>
                (b1, b2) -&gt; b1.append(b2).append(<span class="hljs-string">" , "</span>), <span class="hljs-comment">// метод_соединения_двух_аккумуляторов</span>
                StringBuilder::toString <span class="hljs-comment">// метод_последней_обработки_аккумулятора</span>
        )
);
</code></pre><br>
<br>
В общем-то, три метода легко понять из кода выше, их мы писали практически при каждой обработки коллекций, но вот что такое метод_соединения_двух_аккумуляторов? Это метод который нужен для параллельной обработки Collector'a, в данном случае при параллельном стриме коллекция может быть разделенной на две части (или больше частей), в каждой из которых будет свой аккумулятор StringBuilder и потом необходимо будет их объединить, то код до Java 8 при 2 потоках будет таким:<br>
<br>
<pre><code class="java hljs">        StringBuilder b1 = <span class="hljs-keyword">new</span> StringBuilder(); <span class="hljs-comment">// метод_инициализации_аккумулятора_1        </span>
        <span class="hljs-keyword">for</span>(String s: stringsPart1) { <span class="hljs-comment">//  stringsPart1 - первая часть коллекции strings</span>
            b1.append(s).append(<span class="hljs-string">" , "</span>); <span class="hljs-comment">// метод_обработки_каждого_элемента,</span>
        }

        StringBuilder b2 = <span class="hljs-keyword">new</span> StringBuilder(); <span class="hljs-comment">// метод_инициализации_аккумулятора_2        </span>
        <span class="hljs-keyword">for</span>(String s: stringsPart2) { <span class="hljs-comment">//  stringsPart2 - вторая часть коллекции strings</span>
            b2.append(s).append(<span class="hljs-string">" , "</span>); <span class="hljs-comment">// метод_обработки_каждого_элемента,</span>
        }

        StringBuilder b = b1.append(b2).append(<span class="hljs-string">" , "</span>), <span class="hljs-comment">// метод_соединения_двух_аккумуляторов</span>

        String joinBuilderOld = b.toString(); <span class="hljs-comment">// метод_последней_обработки_аккумулятора</span>
</code></pre><br>
<br>
Напишем свой аналог Collectors.toList() для работы со строковым стримом:<br>
<pre><code class="java hljs"> <span class="hljs-comment">// Напишем свой аналог toList </span>
        Collector&lt;String, List&lt;String&gt;, List&lt;String&gt;&gt; toList = Collector.of(
                ArrayList::<span class="hljs-keyword">new</span>, <span class="hljs-comment">// метод инициализации аккумулятора</span>
                List::add, <span class="hljs-comment">// метод обработки каждого элемента</span>
                (l1, l2) -&gt; { l1.addAll(l2); <span class="hljs-keyword">return</span> l1; } <span class="hljs-comment">// метод соединения двух аккумуляторов при параллельном выполнении</span>
        );
<span class="hljs-comment">// Используем его для получение списка строк без дубликатов из стрима</span>
        List&lt;String&gt; distinct1 = strings.stream().distinct().collect(toList);
</code></pre><br>
<br>
<div class="spoiler"><b class="spoiler_title">Детальные примеры</b><div class="spoiler_text">Так же примеры можно найти на <a href="https://github.com/Vedenin/java_in_examples/blob/master/stream_api/src/com/github/vedenin/rus/stream_api/CollectAndToArrayTests.java">github'e</a><br>
<pre><code class="java hljs">        <span class="hljs-comment">// Напишем собственный Collector, который будет выполнять объединение строк с помощью StringBuilder</span>
        Collector&lt;String,StringBuilder, String&gt; stringBuilderCollector =  Collector.of(
                StringBuilder::<span class="hljs-keyword">new</span>, <span class="hljs-comment">// метод инициализации аккумулятора</span>
                (b ,s) -&gt; b.append(s).append(<span class="hljs-string">" , "</span>), <span class="hljs-comment">// метод обработки каждого элемента</span>
                (b1, b2) -&gt; b1.append(b2).append(<span class="hljs-string">" , "</span>), <span class="hljs-comment">// метод соединения двух аккумуляторов при параллельном выполнении</span>
                StringBuilder::toString <span class="hljs-comment">// метод, выполняющийся в самом конце</span>
        );
        String joinBuilder = strings.stream().collect(stringBuilderCollector);
        System.out.println(<span class="hljs-string">"joinBuilder = "</span> + joinBuilder); <span class="hljs-comment">// напечатает joinBuilder = a1 , b2 , c3 , a1 ,</span>

        <span class="hljs-comment">// Аналог Collector'а выше стилем JDK7 и ниже</span>
        StringBuilder b = <span class="hljs-keyword">new</span> StringBuilder(); <span class="hljs-comment">// метод инициализации аккумулятора</span>
        <span class="hljs-keyword">for</span>(String s: strings) {
            b.append(s).append(<span class="hljs-string">" , "</span>); <span class="hljs-comment">// метод обработки каждого элемента</span>
        }
        String joinBuilderOld = b.toString(); <span class="hljs-comment">// метод, выполняющийся в самом конце</span>
        System.out.println(<span class="hljs-string">"joinBuilderOld = "</span> + joinBuilderOld); <span class="hljs-comment">// напечатает joinBuilderOld = a1 , b2 , c3 , a1 ,</span>

        <span class="hljs-comment">// Напишем свой аналог toList для получение списка из коллекции строк без дубликатов</span>
        Collector&lt;String, List&lt;String&gt;, List&lt;String&gt;&gt; toList = Collector.of(
                ArrayList::<span class="hljs-keyword">new</span>, <span class="hljs-comment">// метод инициализации аккумулятора</span>
                List::add, <span class="hljs-comment">// метод обработки каждого элемента</span>
                (l1, l2) -&gt; { l1.addAll(l2); <span class="hljs-keyword">return</span> l1; } <span class="hljs-comment">// метод соединения двух аккумуляторов при параллельном выполнении</span>
        );
        List&lt;String&gt; distinct1 = strings.stream().distinct().collect(toList);
        System.out.println(<span class="hljs-string">"distinct1 = "</span> + distinct1); <span class="hljs-comment">// напечатает distinct1 = [a1, b2, c3]</span>
</code></pre><br>
</div></div><br>
<h2><b>IV. Заключение</b></h2><br>
Вот и все. Надеюсь, моя небольшая шпаргалка по работе со stream api была для вас полезной. Все исходники есть на <a href="https://github.com/Vedenin/java_collections_overview/tree/master/src/com/github/vedenin/rus/stream_api">github'е</a>, удачи в написании хорошего кода.<br>
<br>
<b>P.S.</b> Список других статей, где можно прочитать дополнительно про Stream Api:<br>
1. <a href="http://www.oracle.com/technetwork/articles/java/ma14-java-se-8-streams-2177646.html">Processing Data with Java SE 8 Streams, Part 1</a> от Oracle,<br>
2. <a href="http://www.oracle.com/technetwork/articles/java/architect-streams-pt2-2227132.html">Processing Data with Java SE 8 Streams, Part 2</a> от Oracle,<br>
3. <a href="http://prologistic.com.ua/polnoe-rukovodstvo-po-java-8-stream.html">Полное руководство по Java 8 Stream</a><br>
<br>
<b>P.P.S.</b> Так же советую посмотреть мой opensource проект <a href="https://github.com/Vedenin/useful-java-links/tree/master/link-rus">useful-java-links</a> — возможно, наиболее полная коллекция полезных Java библиотек, фреймворков и русскоязычного обучающего видео. Так же есть аналогичная <a href="https://github.com/Vedenin/useful-java-links/">английская версия</a> этого проекта и начинаю opensource <a href="https://github.com/Vedenin/useful-java-links/tree/master/helloworlds">подпроект Hello world</a> по подготовке коллекции простых примеров для разных Java библиотек в одном maven проекте (буду благодарен за любую помощь).<br>
<br>
<div class="spoiler"><b class="spoiler_title">Общее оглавление 'Шпаргалок'</b><div class="spoiler_text"><a href="https://habrahabr.ru/post/265061/">1. JPA и Hibernate в вопросах и ответах</a><br>
<a href="https://habrahabr.ru/post/266821/">2. Триста пятьдесят самых популярных не мобильных Java opensource проектов на github</a><br>
<a href="https://habrahabr.ru/company/luxoft/blog/256877/">3. Коллекции в Java (стандартные, guava, apache, trove, gs-collections и другие</a><br>
<a href="https://habrahabr.ru/company/luxoft/blog/270383/">4. Java Stream API</a><br>
<a href="https://habrahabr.ru/company/luxoft/blog/272025/">5. Двести пятьдесят русскоязычных обучающих видео докладов и лекций о Java</a><br>
<a href="https://habrahabr.ru/company/luxoft/blog/280784/">6. Список полезных ссылок для Java программиста</a> <br>
7 Типовые задачи<br>
&nbsp;&nbsp; <a href="https://habrahabr.ru/post/278233/">7.1 Оптимальный путь преобразования InputStream в строку</a><br>
&nbsp;&nbsp; <a href="https://habrahabr.ru/post/278313/">7.2 Самый производительный способ обхода Map'ы, подсчет количества вхождений подстроки</a><br>
<a href="https://habrahabr.ru/company/luxoft/blog/280782/">8. Библиотеки для работы с Json (Gson, Fastjson, LoganSquare, Jackson, JsonPath и другие) </a><br>
</div></div></div>
      <div class="polling">
    
  <form action="https://habrahabr.ru/json/polling/" class="poll" method="post">
    <div class="poll_title">Используете ли вы уже Stream Api?</div>
    <input type="hidden" name="post_id" value="270383">
    <input type="hidden" name="polling_question_id" value="14223">

    <table class="answer">
        <tbody><tr>
          <td class="input">
              <input type="radio" id="vv69733" class="radio js-field-data" name="variant[]" value="69733">

          </td>

          <td class="label">
            <label for="vv69733">Да, уже в production</label>
          </td>
        </tr>
        <tr>
          <td class="input">
              <input type="radio" id="vv69735" class="radio js-field-data" name="variant[]" value="69735">

          </td>

          <td class="label">
            <label for="vv69735">Да, но только в личных проектах</label>
          </td>
        </tr>
        <tr>
          <td class="input">
              <input type="radio" id="vv69737" class="radio js-field-data" name="variant[]" value="69737">

          </td>

          <td class="label">
            <label for="vv69737">Очень ограничено</label>
          </td>
        </tr>
        <tr>
          <td class="input">
              <input type="radio" id="vv69739" class="radio js-field-data" name="variant[]" value="69739">

          </td>

          <td class="label">
            <label for="vv69739">Лишь планируем использовать</label>
          </td>
        </tr>
        <tr>
          <td class="input">
              <input type="radio" id="vv69741" class="radio js-field-data" name="variant[]" value="69741">

          </td>

          <td class="label">
            <label for="vv69741">Нет, предпочитаю старый подход</label>
          </td>
        </tr>
        <tr>
          <td class="input">
              <input type="radio" id="vv69743" class="radio js-field-data" name="variant[]" value="69743">

          </td>

          <td class="label">
            <label for="vv69743">Нет, но хотел бы</label>
          </td>
        </tr>
        <tr>
          <td class="input">
              <input type="radio" id="vv69745" class="radio js-field-data" name="variant[]" value="69745">

          </td>

          <td class="label">
            <label for="vv69745">Нет, и мне все равно использовать или нет</label>
          </td>
        </tr>
        <tr>
          <td class="input">
              <input type="radio" id="vv69747" class="radio js-field-data" name="variant[]" value="69747">

          </td>

          <td class="label">
            <label for="vv69747">Я вообще не пишу на Java</label>
          </td>
        </tr>
    </tbody></table>

      <div class="buttons">
        <input type="button" onclick="posts_poll(this.form, this, &#39;poll&#39;, &#39;14223&#39;)" value="голосовать">
        <input type="button" onclick="posts_poll(this.form, this, &#39;decline&#39;, &#39;14223&#39;)" value="воздержаться">
      </div>

    <p class="total">Проголосовало 603 человека. Воздержалось 104 человека.</p>
  </form>


  </div>

    <div class="post__tags">
  <ul class="tags icon_tag">
      <li><a href="https://habrahabr.ru/search/?q=%5Bjava%5D&amp;target_type=posts" rel="tag">java</a>, </li>
      <li><a href="https://habrahabr.ru/search/?q=%5Bstream%5D&amp;target_type=posts" rel="tag">stream</a>, </li>
      <li><a href="https://habrahabr.ru/search/?q=%5Bstream%20api%5D&amp;target_type=posts" rel="tag">stream api</a>, </li>
      <li><a href="https://habrahabr.ru/search/?q=%5B%D0%BB%D1%8F%D0%BC%D0%B1%D1%8B%5D&amp;target_type=posts" rel="tag">лямбы</a>, </li>
      <li><a href="https://habrahabr.ru/search/?q=%5B%D1%84%D1%83%D0%BD%D0%BA%D1%86%D0%B8%D0%BE%D0%BD%D0%B0%D0%BB%D1%8C%D0%BD%D0%BE%D0%B5%20%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5%5D&amp;target_type=posts" rel="tag">функциональное программирование</a>, </li>
      <li><a href="https://habrahabr.ru/search/?q=%5B%D0%BC%D0%BD%D0%BE%D0%B3%D0%BE%D0%BF%D0%BE%D1%82%D0%BE%D1%87%D0%BD%D0%BE%D1%81%D1%82%D1%8C%5D&amp;target_type=posts" rel="tag">многопоточность</a>, </li>
      <li><a href="https://habrahabr.ru/search/?q=%5Bjava%208%5D&amp;target_type=posts" rel="tag">java 8</a></li>
  </ul>
</div>
  </div>
</div>


        <div class="post-additionals">
            <div class="infopanel_wrapper js-user_">
    <ul class="postinfo-panel postinfo-panel_post" id="infopanel_post_270383">

          <li class="postinfo-panel__item">
            <div class="voting-wjt voting-wjt_infopanel js-voting  ">
                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Срок голосования истек.">
                  <span>↑</span>
                </button>

              <div class="voting-wjt__counter voting-wjt__counter_positive  js-mark">
                  <span class="voting-wjt__counter-score js-score" title="Общий рейтинг 29: ↑27 и ↓2">+25</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Срок голосования истек.">
                  <span>↓</span>
                </button>

            </div>
          </li>

      <li class="postinfo-panel__item">
        <div class="views-count_post" title="Просмотры публикации">122k</div>
      </li>

      <li class="postinfo-panel__item">
        <div class="favorite-wjt favorite">
            <button type="button" class="favorite-wjt__button add" title="Добавить в избранное" onclick="return posts_add_to_favorite(this, &#39;2&#39;, 270383);">
              <span>В избранное</span>
            </button>
          <span class="favorite-wjt__counter js-favs_count" title="Количество пользователей, добавивших публикацию в избранное">733</span>
        </div>
      </li>




      <li class="postinfo-panel__item postinfo-panel__item_align-right">
          <!-- шеринг в соцсети -->
          <ul class="post-share">
            <li class="post-share__item">
              <a href="https://twitter.com/intent/tweet?text=%D0%A8%D0%BF%D0%B0%D1%80%D0%B3%D0%B0%D0%BB%D0%BA%D0%B0+Java+%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%81%D1%82%D0%B0+4.+Java+Stream+API+https://habr.ru/p/270383/+via+%40habrahabr+%23habr" class="post-share__item-link twitter" onclick="window.open(this.href, &#39;Опубликовать ссылку  в Twitter&#39;, &#39;width=800,height=300,resizable=yes,toolbar=0,status=0&#39;); return false" title="Опубликовать ссылку в Twitter"></a>
            </li>
            <li class="post-share__item">
              <a href="https://vk.com/share.php?url=https://habrahabr.ru/company/luxoft/blog/270383/" class="post-share__item-link vkontakte" title="Опубликовать ссылку во ВКонтакте" onclick="window.open(this.href, &#39;Опубликовать ссылку во Вконтакте&#39;, &#39;width=800,height=300,toolbar=0,status=0&#39;); return false"></a>
            </li>
            <li class="post-share__item">
              <a href="https://www.facebook.com/sharer/sharer.php?u=https://habrahabr.ru/company/luxoft/blog/270383/" class="post-share__item-link facebook" title="Опубликовать ссылку в Facebook" onclick="window.open(this.href, &#39;Опубликовать ссылку в Facebook&#39;, &#39;width=640,height=436,toolbar=0,status=0&#39;); return false"></a>
            </li>
            <li class="post-share__item">
              <a href="https://getpocket.com/edit?url=https://habrahabr.ru/company/luxoft/blog/270383/&amp;title=%D0%A8%D0%BF%D0%B0%D1%80%D0%B3%D0%B0%D0%BB%D0%BA%D0%B0%20Java%20%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%81%D1%82%D0%B0%204.%20Java%20Stream%20API" target="_blank" class="post-share__item-link pocket" title="Добавить ссылку в Pocket"></a>
            </li>
          </ul>

      </li>
    </ul>
  </div>

              <form action="https://habrahabr.ru/conversations/vedenin1980/" method="GET" class="form form_admin-causes hidden" id="admin_causes">
    <input type="hidden" name="moderation" value="270383">
    <fieldset class="form__fieldset form__fieldset_admin-causes">
      <legend class="form__legend">Выберите рекомендации для отправки автору:</legend>
      <label class="form__label form__label_block">
        <input type="checkbox" class="form__input form__input_checkbox" name="id[]" value="1">
        <span class="form__label-text">Указан только блог</span>
      </label>
      <label class="form__label form__label_block">
        <input type="checkbox" class="form__input form__input_checkbox" name="id[]" value="2">
        <span class="form__label-text">Орфографические ошибки</span>
      </label>
      <label class="form__label form__label_block">
        <input type="checkbox" class="form__input form__input_checkbox" name="id[]" value="3">
        <span class="form__label-text">Пунктуационные ошибки</span>
      </label>
      <label class="form__label form__label_block">
        <input type="checkbox" class="form__input form__input_checkbox" name="id[]" value="4">
        <span class="form__label-text">Отступы</span>
      </label>
      <label class="form__label form__label_block">
        <input type="checkbox" class="form__input form__input_checkbox" name="id[]" value="5">
        <span class="form__label-text">Текст-простыня</span>
      </label>
      <label class="form__label form__label_block">
        <input type="checkbox" class="form__input form__input_checkbox" name="id[]" value="6">
        <span class="form__label-text">Короткие предложения</span>
      </label>
      <label class="form__label form__label_block">
        <input type="checkbox" class="form__input form__input_checkbox" name="id[]" value="7">
        <span class="form__label-text">Смайлики</span>
      </label>
      <label class="form__label form__label_block">
        <input type="checkbox" class="form__input form__input_checkbox" name="id[]" value="8">
        <span class="form__label-text">Много форматирования</span>
      </label>
      <label class="form__label form__label_block">
        <input type="checkbox" class="form__input form__input_checkbox" name="id[]" value="9">
        <span class="form__label-text">Картинки</span>
      </label>
      <label class="form__label form__label_block">
        <input type="checkbox" class="form__input form__input_checkbox" name="id[]" "="" value="10">
        <span class="form__label-text">Ссылки</span>
      </label>
    </fieldset>

    <button type="submit" class="btn btn_medium btn_grey">Отправить</button>
  </form>

                <div class="post-type">
    <span class="post-type_nowrap">
      <span class="post-type__label post-type__label_author">Автор:</span>
      <a href="https://habrahabr.ru/users/vedenin1980" class="post-type__value post-type__value_author" title="Веденин Вячеслав">@vedenin1980</a>



    </span>
  </div>

  <div class="author-info " id="company_938">
      <a href="https://habrahabr.ru/company/luxoft" class="author-info__image">
          <img src="./Шпаргалка Java программиста 4. Java Stream API _ Блог компании Luxoft _ Хабрахабр_files/b4472ef43c7d2d2f538d83568723d839.png" class="author-info__image-pic">
      </a>

      <div class="author-info__desc">
        <div class="author-info__username">

          <a href="https://habrahabr.ru/company/luxoft" class="author-info__name">Luxoft</a>

          <div class="user-rating">
            <span class="user-rating__label">рейтинг</span>
            <span class="user-rating__value">87,08</span>
          </div>
            <div class="author-info__buttons buttons">
              <button type="button" data-company_id="938" class="btn btn_subscribe_company btn_subscribed js-remove_company_member ">Подписан</button>
              <button type="button" data-company_id="938" class="btn btn_subscribe_company js-add_company_member hidden">Подписаться</button>
            </div>
        </div>


          <ul class="author-info__contacts user-contacts">
                <li class="user-contacts__item"><a href="http://luxoft.com/" target="_blank">Сайт</a></li>
                <li class="user-contacts__item"><a href="http://twitter.com/luxoft" target="_blank">Twitter</a></li>
          </ul>
      </div>

  </div>

        </div>

        

          

    <div class="similar-posts">
      <h2 class="similar-posts__title">Похожие публикации</h2>

      <ul class="content-list content-list_posts">
          <li class="content-list__item">
            <div class="post-preview">
              <div class="post-preview__rating">+29</div>
              <div class="post-preview__desc">
                <a class="post-preview__link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;similar_posts&#39;, &#39;common&#39;); }" href="https://habrahabr.ru/post/272025/">Шпаргалка Java-программиста 5. Двести пятьдесят русскоязычных обучающих видео докладов и лекций о Java</a>
                <span class="post-preview__attrs inline-list inline-list_attrs">
                  <span class="inline-list__item views-count">98,6k</span>
                  <span class="inline-list__item favorites-count">1206</span>
                  <span class="inline-list__item comments-count">26</span>
                </span>
              </div>
            </div>
          </li>
          <li class="content-list__item">
            <div class="post-preview">
              <div class="post-preview__rating">+8</div>
              <div class="post-preview__desc">
                <a class="post-preview__link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;similar_posts&#39;, &#39;common&#39;); }" href="https://habrahabr.ru/post/272725/">DEV Labs 2015. Финальная онлайн конференция года. Java и JavaScript</a>
                <span class="post-preview__attrs inline-list inline-list_attrs">
                  <span class="inline-list__item views-count">3,8k</span>
                  <span class="inline-list__item favorites-count">18</span>
                  <span class="inline-list__item comments-count">0</span>
                </span>
              </div>
            </div>
          </li>
          <li class="content-list__item">
            <div class="post-preview">
              <div class="post-preview__rating">+57</div>
              <div class="post-preview__desc">
                <a class="post-preview__link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;similar_posts&#39;, &#39;common&#39;); }" href="https://habrahabr.ru/post/256877/">Шпаргалка Java программиста 3. Коллекции в Java (стандартные, guava, apache, trove, gs-collections и другие)</a>
                <span class="post-preview__attrs inline-list inline-list_attrs">
                  <span class="inline-list__item views-count">107k</span>
                  <span class="inline-list__item favorites-count">1128</span>
                  <span class="inline-list__item comments-count">39</span>
                </span>
              </div>
            </div>
          </li>
      </ul>
    </div>


        

        
<form action="https://habrahabr.ru/json/favorites/" method="post" id="edit_tags_form" class="hidden">
  <input type="hidden" name="action" value="add">
  <input type="hidden" name="ti" value="0">
  <input type="hidden" name="tt" value="0">
  <label>Пометьте топик понятными вам метками, если хотите</label>
  <input type="text" name="tags_string" class="tags_string" autocomplete="off">
  <div class="description">Метки лучше разделять запятой. Например: <i>общение, социальные сети, myspace.com, подростки, мердок</i></div>
  <input type="submit" value="Сохранить" class="submit"> или <a href="https://habrahabr.ru/company/luxoft/blog/270383/#" class="close" onclick="return close_edit_tags()">закрыть</a>
</form>


            <div class="comments_list " id="comments">
    <h2 class="title ">
      Комментарии (<span id="comments_count">17</span>)
          <span class="subscribe_comments">
      отслеживать новые:
      <label><input type="checkbox" id="subscribe_comments" rel="{target_type:&#39;2&#39;,target_id:270383 }"> в почте</label>
      <label><input type="checkbox" id="tracker_comments" rel="{target_type:&#39;2&#39;,target_id:270383 }"> в трекере</label>
    </span>

    </h2>

    

    

    <ul id="comments-list">
      
  <li class="comment_item" id="comment_8658411">
    
    <span class="parent_id" data-parent_id="0"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8658411">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <span class="comment-item__user-info" rel="user-popover" data-user-login="burjui">
            <a href="https://habrahabr.ru/users/burjui/" class="comment-item__avatar">
                <img src="./Шпаргалка Java программиста 4. Java Stream API _ Блог компании Luxoft _ Хабрахабр_files/fc72ab83365007635ab126459e925156_small.jpg" alt="" class="comment-item__avatar-img">
            </a>
            <a href="https://habrahabr.ru/users/burjui/" class="comment-item__username">burjui</a>
          </span>

          <time class="comment-item__time_published">
            19 ноября 2015 в 00:10
          </time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/company/luxoft/blog/270383/#comment_8658411" class="icon_comment-anchor" title="Ссылка на комментарий"></a>

                <a href="https://habrahabr.ru/company/luxoft/blog/270383/#" class="icon_comment-favorite add" onclick="return comments_add_to_favorite(this, &#39;3&#39;, 8658411 )" title="В избранное"></a>

            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8658411" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark voting-wjt__counter_positive ">
                <span class="voting-wjt__counter-score js-score" title="Всего 2: ↑2 и ↓0">+2</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только пользователи с полноценным аккаунтом"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только пользователи с полноценным аккаунтом"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Проголосовал за production, но использую не Java 8 Stream, а библиотеку totallylazy ( https://github.com/bodar/totallylazy ) в сочетании с gradle-retrolambda, т.к. пишу под Android. Помимо Stream, которые там называются Sequence, там ещё много полезностей — в том числе, Option и Either.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">
              <a href="https://habrahabr.ru/company/luxoft/blog/270383/#reply" class="reply_link" onclick="return comment_show_reply_form(8658411 )">ответить</a>

        </div>
    </div>

    <ul class="reply_comments" id="reply_comments_8658411">
      
  <li class="comment_item" id="comment_8659129">
    
    <span class="parent_id" data-parent_id="8658411"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8659129">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <span class="comment-item__user-info" rel="user-popover" data-user-login="NonGrate">
            <a href="https://habrahabr.ru/users/NonGrate/" class="comment-item__avatar">
                <img src="./Шпаргалка Java программиста 4. Java Stream API _ Блог компании Luxoft _ Хабрахабр_files/5bfe3eb4da899722ffcc4845ac750af3_small.jpg" alt="" class="comment-item__avatar-img">
            </a>
            <a href="https://habrahabr.ru/users/NonGrate/" class="comment-item__username">NonGrate</a>
          </span>

          <time class="comment-item__time_published">
            19 ноября 2015 в 14:55
          </time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/company/luxoft/blog/270383/#comment_8659129" class="icon_comment-anchor" title="Ссылка на комментарий"></a>

                <a href="https://habrahabr.ru/company/luxoft/blog/270383/#" class="icon_comment-favorite add" onclick="return comments_add_to_favorite(this, &#39;3&#39;, 8659129 )" title="В избранное"></a>

              <span class="icon_comment-tree js-comment_tree" data-id="8659129" data-parent_id="8658411" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/company/luxoft/blog/270383/#comment_8658411" class="icon_comment-parent js-comment_parent" data-id="8659129" data-parent_id="8658411" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8659129" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark voting-wjt__counter_positive ">
                <span class="voting-wjt__counter-score js-score" title="Всего 1: ↑1 и ↓0">+1</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только пользователи с полноценным аккаунтом"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только пользователи с полноценным аккаунтом"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Я пользуюсь Lightweight-Stream-API для андроида. Вы пользовались им? Если да, не могли бы вы описать, чем totallylazy отличается от урезанного Stream API?<br>
<br>
Я первый раз слышу о totallylazy, раньше думал, что Lightweight-Stream-API единственная библиотека. К тому же, в репозитории написано, что это то же Stream API из джавы, только переписанное, чтобы работало на семёрке. Что может быть лучше, чем код из самой джавы.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">
              <a href="https://habrahabr.ru/company/luxoft/blog/270383/#reply" class="reply_link" onclick="return comment_show_reply_form(8659129 )">ответить</a>

        </div>
    </div>

    <ul class="reply_comments" id="reply_comments_8659129">
      
  <li class="comment_item" id="comment_8659303">
    
    <span class="parent_id" data-parent_id="8659129"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8659303">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <span class="comment-item__user-info" rel="user-popover" data-user-login="burjui">
            <a href="https://habrahabr.ru/users/burjui/" class="comment-item__avatar">
                <img src="./Шпаргалка Java программиста 4. Java Stream API _ Блог компании Luxoft _ Хабрахабр_files/fc72ab83365007635ab126459e925156_small.jpg" alt="" class="comment-item__avatar-img">
            </a>
            <a href="https://habrahabr.ru/users/burjui/" class="comment-item__username">burjui</a>
          </span>

          <time class="comment-item__time_published">
            19 ноября 2015 в 16:49
          </time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/company/luxoft/blog/270383/#comment_8659303" class="icon_comment-anchor" title="Ссылка на комментарий"></a>

                <a href="https://habrahabr.ru/company/luxoft/blog/270383/#" class="icon_comment-favorite add" onclick="return comments_add_to_favorite(this, &#39;3&#39;, 8659303 )" title="В избранное"></a>

              <span class="icon_comment-tree js-comment_tree" data-id="8659303" data-parent_id="8659129" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/company/luxoft/blog/270383/#comment_8659129" class="icon_comment-parent js-comment_parent" data-id="8659303" data-parent_id="8659129" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8659303" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark voting-wjt__counter_positive ">
                <span class="voting-wjt__counter-score js-score" title="Всего 1: ↑1 и ↓0">+1</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только пользователи с полноценным аккаунтом"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только пользователи с полноценным аккаунтом"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Нет, не пользовался, но, судя по примерам кода, работа с «потоками» очень похожа. Но totallylazy ориентирована на функциональное программирование вообще, а Lightweight-Stream-API — именно на «потоки». Поэтому в Lightweight-Stream-API вы не найдёте всяких функторов, монад и т.п. 
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">
              <a href="https://habrahabr.ru/company/luxoft/blog/270383/#reply" class="reply_link" onclick="return comment_show_reply_form(8659303 )">ответить</a>

        </div>
    </div>

    <ul class="reply_comments" id="reply_comments_8659303">
      
  <li class="comment_item" id="comment_8659339">
    
    <span class="parent_id" data-parent_id="8659303"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8659339">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <span class="comment-item__user-info" rel="user-popover" data-user-login="NonGrate">
            <a href="https://habrahabr.ru/users/NonGrate/" class="comment-item__avatar">
                <img src="./Шпаргалка Java программиста 4. Java Stream API _ Блог компании Luxoft _ Хабрахабр_files/5bfe3eb4da899722ffcc4845ac750af3_small.jpg" alt="" class="comment-item__avatar-img">
            </a>
            <a href="https://habrahabr.ru/users/NonGrate/" class="comment-item__username">NonGrate</a>
          </span>

          <time class="comment-item__time_published">
            19 ноября 2015 в 17:12
          </time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/company/luxoft/blog/270383/#comment_8659339" class="icon_comment-anchor" title="Ссылка на комментарий"></a>

                <a href="https://habrahabr.ru/company/luxoft/blog/270383/#" class="icon_comment-favorite add" onclick="return comments_add_to_favorite(this, &#39;3&#39;, 8659339 )" title="В избранное"></a>

              <span class="icon_comment-tree js-comment_tree" data-id="8659339" data-parent_id="8659303" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/company/luxoft/blog/270383/#comment_8659303" class="icon_comment-parent js-comment_parent" data-id="8659339" data-parent_id="8659303" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8659339" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark voting-wjt__counter_positive ">
                <span class="voting-wjt__counter-score js-score" title="Всего 1: ↑1 и ↓0">+1</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только пользователи с полноценным аккаунтом"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только пользователи с полноценным аккаунтом"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Подскажите, пожалуйста, какие-нибудь туториалы по totallylazy, если знаете? Конкретнее, именно по функциональному программированию. Можно ли с помощью totallylazy сохранять функцию в переменную? Обязательно посмотрю, что эта ленивая библиотека из себя представляет.<br>
<br>
Спасибо!
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">
              <a href="https://habrahabr.ru/company/luxoft/blog/270383/#reply" class="reply_link" onclick="return comment_show_reply_form(8659339 )">ответить</a>

        </div>
    </div>

    <ul class="reply_comments" id="reply_comments_8659339">
      
  <li class="comment_item" id="comment_8659455">
    
    <span class="parent_id" data-parent_id="8659339"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8659455">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <span class="comment-item__user-info" rel="user-popover" data-user-login="burjui">
            <a href="https://habrahabr.ru/users/burjui/" class="comment-item__avatar">
                <img src="./Шпаргалка Java программиста 4. Java Stream API _ Блог компании Luxoft _ Хабрахабр_files/fc72ab83365007635ab126459e925156_small.jpg" alt="" class="comment-item__avatar-img">
            </a>
            <a href="https://habrahabr.ru/users/burjui/" class="comment-item__username">burjui</a>
          </span>

          <time class="comment-item__time_published">
            19 ноября 2015 в 18:26
          </time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/company/luxoft/blog/270383/#comment_8659455" class="icon_comment-anchor" title="Ссылка на комментарий"></a>

                <a href="https://habrahabr.ru/company/luxoft/blog/270383/#" class="icon_comment-favorite add" onclick="return comments_add_to_favorite(this, &#39;3&#39;, 8659455 )" title="В избранное"></a>

              <span class="icon_comment-tree js-comment_tree" data-id="8659455" data-parent_id="8659339" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/company/luxoft/blog/270383/#comment_8659339" class="icon_comment-parent js-comment_parent" data-id="8659455" data-parent_id="8659339" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8659455" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark voting-wjt__counter_positive ">
                <span class="voting-wjt__counter-score js-score" title="Всего 1: ↑1 и ↓0">+1</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только пользователи с полноценным аккаунтом"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только пользователи с полноценным аккаунтом"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          По функциональному программированию вообще я бы рекомендовал бесплатную книгу «Learn You a Haskell for Great Good!» — http://learnyouahaskell.com/chapters<br>
Первые несколько глав дают общее представление о ФП, дальше начинается самый сок и нарастает хардкорность. Книга забавно иллюстрирована и вообще написана интересно и с юмором. Сразу скажу, после долгого использования императивного стиля функциональный даётся не сразу, мешает инертность мышления. Не жалейте времени, перечитайте непонятные вещи несколько раз, если нужно. Как писал автор одной книги по теории чисел: «Если вы читаете больше одной страницы в час, возможно, вы слишком спешите». Поищите туториалы на Youtube. Разнообразнее источники информации только улучшат понимание темы.<br>
<br>
Когда придёт понимание концепции ФП, для вас уже не будет проблемой использовать ту или иную библиотеку для этого — вы уже будете знать, что в ней искать и зачем. А по totallylazy я сам искал, но не нашёл — даже полноценных доков, не то что туториалов. Мои задачи она решает.<br>
<br>
Что касается сохранения функции в переменную, вам это позволяет и Java 8 с её Lambda, functional interfaces и method references. Пример для Android:<br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">final</span> DialogInterface.OnClickListener clickListener = (dialog, which) -&gt; {
    <span class="hljs-keyword">switch</span> (which) {
        ...
    }
};

<span class="hljs-keyword">final</span> AlertDialog.Builder builder = <span class="hljs-keyword">new</span> AlertDialog.Builder(context);
builder.setPositiveButton(R.string.yes, clickListener);
builder.setNegativeButton(R.string.no, clickListener);
</code></pre><br>
или вот ещё:<br>
<br>
<pre><code class="java hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Example</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">doSomething</span><span class="hljs-params">()</span> </span>{
        ...
    }
}

<span class="hljs-keyword">final</span> Runnable action = Example::doSomething;
</code></pre><br>
Работает это потому, OnClickListener — интерфейс с одним методом, или «функциональный» интерфейс. Разумеется, Java в этом плане и рядом с Haskell не валялась, т.к. в последнем не нужны всякие специальные интерфейсы, и можно просто указать сигнатуру функции на месте типа, или вообще ничего не указывать, положившись на автоматическое выведение типов.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">
              <a href="https://habrahabr.ru/company/luxoft/blog/270383/#reply" class="reply_link" onclick="return comment_show_reply_form(8659455 )">ответить</a>

        </div>
    </div>

    <ul class="reply_comments" id="reply_comments_8659455">
      
      
    </ul>

  </li>

      
    </ul>

  </li>

      
    </ul>

  </li>

      
    </ul>

  </li>

      
    </ul>

  </li>

  <li class="comment_item" id="comment_8658535">
    
    <span class="parent_id" data-parent_id="0"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8658535">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <span class="comment-item__user-info" rel="user-popover" data-user-login="orthanner">
            <a href="https://habrahabr.ru/users/orthanner/" class="comment-item__avatar">
                <span class="comment-item__avatar-img_default user-pic_pink"></span>
            </a>
            <a href="https://habrahabr.ru/users/orthanner/" class="comment-item__username">orthanner</a>
          </span>

          <time class="comment-item__time_published">
            19 ноября 2015 в 06:01
          </time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/company/luxoft/blog/270383/#comment_8658535" class="icon_comment-anchor" title="Ссылка на комментарий"></a>

                <a href="https://habrahabr.ru/company/luxoft/blog/270383/#" class="icon_comment-favorite add" onclick="return comments_add_to_favorite(this, &#39;3&#39;, 8658535 )" title="В избранное"></a>

            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8658535" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark voting-wjt__counter_positive ">
                <span class="voting-wjt__counter-score js-score" title="Всего 1: ↑1 и ↓0">+1</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только пользователи с полноценным аккаунтом"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только пользователи с полноценным аккаунтом"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Ну Option и здесь есть (aka Optional), но лично мне не шибко нравится то, как это реализовано, в принципе. Если уж сделали в интерфейсах реализации по умолчанию, так можно было и стандартный Collections API доработать (для ленивых — интерфейс Iterator). Нет же, породили новую сущность. И всё равно реализация по умолчанию не является потокобезопасной. Казалось бы — зачем? и тут мы вспоминаем, что Java Collections API мутабельно чуть менее, чем полностью (а меньшая часть просто не даёт себя модифицировать).<br>
И да, Either здесь нет, но реализуется достаточно просто (правда, без sealed traits придётся повозиться, чтобы защитить иерархию классов от нежелательного расширения).
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">
              <a href="https://habrahabr.ru/company/luxoft/blog/270383/#reply" class="reply_link" onclick="return comment_show_reply_form(8658535 )">ответить</a>

        </div>
    </div>

    <ul class="reply_comments" id="reply_comments_8658535">
      
      
    </ul>

  </li>

  <li class="comment_item" id="comment_8658659">
    
    <span class="parent_id" data-parent_id="0"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8658659">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <span class="comment-item__user-info" rel="user-popover" data-user-login="NCNecros">
            <a href="https://habrahabr.ru/users/NCNecros/" class="comment-item__avatar">
                <span class="comment-item__avatar-img_default user-pic_lilac"></span>
            </a>
            <a href="https://habrahabr.ru/users/NCNecros/" class="comment-item__username">NCNecros</a>
          </span>

          <time class="comment-item__time_published">
            19 ноября 2015 в 10:33
          </time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/company/luxoft/blog/270383/#comment_8658659" class="icon_comment-anchor" title="Ссылка на комментарий"></a>

                <a href="https://habrahabr.ru/company/luxoft/blog/270383/#" class="icon_comment-favorite add" onclick="return comments_add_to_favorite(this, &#39;3&#39;, 8658659 )" title="В избранное"></a>

            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8658659" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark voting-wjt__counter_positive ">
                <span class="voting-wjt__counter-score js-score" title="Всего 1: ↑1 и ↓0">+1</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только пользователи с полноценным аккаунтом"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только пользователи с полноценным аккаунтом"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Насчет distinct(), мне кажется вы ошиблись. Я думаю «For ordered streams, the selection of distinct elements is stable (for duplicated elements, the element appearing first in the encounter order is preserved.) For unordered streams, no stability guarantees are made.» означет что distinct() гарантировано работает только если список отсортирован. На синтетических примерах с примитивами это не имеет значения, но я столкнулся с проблемой когда у меня список содержал кучу объектов с переопределенным equals(), но нереализованым компаратором для сортировки. Применение distinct() к такому списку не давала ничего. Из нескольких миллионов записей ни одна не убиралась.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">
              <a href="https://habrahabr.ru/company/luxoft/blog/270383/#reply" class="reply_link" onclick="return comment_show_reply_form(8658659 )">ответить</a>

        </div>
    </div>

    <ul class="reply_comments" id="reply_comments_8658659">
      
  <li class="comment_item" id="comment_8658759">
    
    <span class="parent_id" data-parent_id="8658659"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item is_topic_starter " rel="8658759">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <span class="comment-item__user-info" rel="user-popover" data-user-login="vedenin1980">
            <a href="https://habrahabr.ru/users/vedenin1980/" class="comment-item__avatar">
                <img src="./Шпаргалка Java программиста 4. Java Stream API _ Блог компании Luxoft _ Хабрахабр_files/7eb7632e5a0d2720be542c25ec40614f_small.jpg" alt="" class="comment-item__avatar-img">
            </a>
            <a href="https://habrahabr.ru/users/vedenin1980/" class="comment-item__username">vedenin1980</a>
          </span>

          <time class="comment-item__time_published">
            19 ноября 2015 в 11:40
          </time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/company/luxoft/blog/270383/#comment_8658759" class="icon_comment-anchor" title="Ссылка на комментарий"></a>

                <a href="https://habrahabr.ru/company/luxoft/blog/270383/#" class="icon_comment-favorite add" onclick="return comments_add_to_favorite(this, &#39;3&#39;, 8658759 )" title="В избранное"></a>

              <span class="icon_comment-tree js-comment_tree" data-id="8658759" data-parent_id="8658659" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/company/luxoft/blog/270383/#comment_8658659" class="icon_comment-parent js-comment_parent" data-id="8658759" data-parent_id="8658659" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8658759" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark voting-wjt__counter_positive ">
                <span class="voting-wjt__counter-score js-score" title="Всего 1: ↑1 и ↓0">+1</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только пользователи с полноценным аккаунтом"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только пользователи с полноценным аккаунтом"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Спасибо за замечание, но мне кажется в фразе «For ordered streams, the selection of distinct elements is stable (for duplicated elements, the element appearing first in the encounter order is preserved.) For unordered streams, no stability guarantees are made.» речь идет о таком свойстве сортировки как «Устойчивость (англ. stability) — устойчивая сортировка не меняет взаимного расположения элементов с одинаковыми ключами» <a href="https://en.wikipedia.org/wiki/Sorting_algorithm#Stability">вики</a>. <br>
<br>
Это подтверждает и дальнейшее замечание в <a href="https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#distinct--">javadoc</a>: <br>
API Note:<br>
Preserving <b>stability </b>for distinct() in parallel pipelines is relatively expensive (requires that the operation act as a full barrier, with substantial buffering overhead), and <b>stability </b>is often not needed. Using an unordered stream source (such as generate(Supplier)) or removing the ordering constraint with BaseStream.unordered() may result in significantly more efficient execution for distinct() in parallel pipelines, if the semantics of your situation permit. If consistency with encounter order is required, and you are experiencing poor performance or memory utilization with distinct() in parallel pipelines, switching to sequential execution with BaseStream.sequential() may improve performance.<br>
<br>
Очень странно что у вас distinct не работал, а можете дать пример вашего класса и несколько значений в личку? 
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">
              <a href="https://habrahabr.ru/company/luxoft/blog/270383/#reply" class="reply_link" onclick="return comment_show_reply_form(8658759 )">ответить</a>

        </div>
    </div>

    <ul class="reply_comments" id="reply_comments_8658759">
      
      
    </ul>

  </li>

  <li class="comment_item" id="comment_8658775">
    
    <span class="parent_id" data-parent_id="8658659"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item is_topic_starter " rel="8658775">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <span class="comment-item__user-info" rel="user-popover" data-user-login="vedenin1980">
            <a href="https://habrahabr.ru/users/vedenin1980/" class="comment-item__avatar">
                <img src="./Шпаргалка Java программиста 4. Java Stream API _ Блог компании Luxoft _ Хабрахабр_files/7eb7632e5a0d2720be542c25ec40614f_small.jpg" alt="" class="comment-item__avatar-img">
            </a>
            <a href="https://habrahabr.ru/users/vedenin1980/" class="comment-item__username">vedenin1980</a>
          </span>

          <time class="comment-item__time_published">
            19 ноября 2015 в 11:53
          </time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/company/luxoft/blog/270383/#comment_8658775" class="icon_comment-anchor" title="Ссылка на комментарий"></a>

                <a href="https://habrahabr.ru/company/luxoft/blog/270383/#" class="icon_comment-favorite add" onclick="return comments_add_to_favorite(this, &#39;3&#39;, 8658775 )" title="В избранное"></a>

              <span class="icon_comment-tree js-comment_tree" data-id="8658775" data-parent_id="8658659" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/company/luxoft/blog/270383/#comment_8658659" class="icon_comment-parent js-comment_parent" data-id="8658775" data-parent_id="8658659" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8658775" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark voting-wjt__counter_positive ">
                <span class="voting-wjt__counter-score js-score" title="Всего 1: ↑1 и ↓0">+1</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только пользователи с полноценным аккаунтом"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только пользователи с полноценным аккаунтом"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Да, у вас hashCode тоже переопределен в соответствии с контрактами (в частности, что все equals объекты всегда имеют один и тот же hashCode)? Так как если я правильно понимаю работу distinct он работает по принципу HashSet, то есть сначала сортирует по hashCode, а уже потом среди объектов с одинаковым hashCode начинает проверять на equals, соответственно при нарушении контракта hashCode/equals ничего работать не будет. 
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">
              <a href="https://habrahabr.ru/company/luxoft/blog/270383/#reply" class="reply_link" onclick="return comment_show_reply_form(8658775 )">ответить</a>

        </div>
    </div>

    <ul class="reply_comments" id="reply_comments_8658775">
      
  <li class="comment_item" id="comment_8659031">
    
    <span class="parent_id" data-parent_id="8658775"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item  " rel="8659031">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <span class="comment-item__user-info" rel="user-popover" data-user-login="NCNecros">
            <a href="https://habrahabr.ru/users/NCNecros/" class="comment-item__avatar">
                <span class="comment-item__avatar-img_default user-pic_lilac"></span>
            </a>
            <a href="https://habrahabr.ru/users/NCNecros/" class="comment-item__username">NCNecros</a>
          </span>

          <time class="comment-item__time_published">
            19 ноября 2015 в 14:02
              <span class="comment-item__time_changed icon_comment-edit" title="Kомментарий был изменён">
                <i class="comment-item__sign_changed">(комментарий был изменён)</i>
              </span>
          </time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/company/luxoft/blog/270383/#comment_8659031" class="icon_comment-anchor" title="Ссылка на комментарий"></a>

                <a href="https://habrahabr.ru/company/luxoft/blog/270383/#" class="icon_comment-favorite add" onclick="return comments_add_to_favorite(this, &#39;3&#39;, 8659031 )" title="В избранное"></a>

              <span class="icon_comment-tree js-comment_tree" data-id="8659031" data-parent_id="8658775" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/company/luxoft/blog/270383/#comment_8658775" class="icon_comment-parent js-comment_parent" data-id="8659031" data-parent_id="8658775" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8659031" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark voting-wjt__counter_positive ">
                <span class="voting-wjt__counter-score js-score" title="Всего 1: ↑1 и ↓0">+1</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только пользователи с полноценным аккаунтом"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только пользователи с полноценным аккаунтом"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Правда ваша. Я вышел из этой ситуации обернув класс в обертку перед distinct(), а обертка как раз добавляет equals и hashcode. Косяк конечно мой, но этот камень можете указать где-нибудь в примечаниях, что distict() работает на классах при наличии hashcode и equals. Хорошая у Вас статья, stream() очень приятная штука.
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">
              <a href="https://habrahabr.ru/company/luxoft/blog/270383/#reply" class="reply_link" onclick="return comment_show_reply_form(8659031 )">ответить</a>

        </div>
    </div>

    <ul class="reply_comments" id="reply_comments_8659031">
      
  <li class="comment_item" id="comment_8659101">
    
    <span class="parent_id" data-parent_id="8659031"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item is_topic_starter " rel="8659101">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <span class="comment-item__user-info" rel="user-popover" data-user-login="vedenin1980">
            <a href="https://habrahabr.ru/users/vedenin1980/" class="comment-item__avatar">
                <img src="./Шпаргалка Java программиста 4. Java Stream API _ Блог компании Luxoft _ Хабрахабр_files/7eb7632e5a0d2720be542c25ec40614f_small.jpg" alt="" class="comment-item__avatar-img">
            </a>
            <a href="https://habrahabr.ru/users/vedenin1980/" class="comment-item__username">vedenin1980</a>
          </span>

          <time class="comment-item__time_published">
            19 ноября 2015 в 14:36
          </time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/company/luxoft/blog/270383/#comment_8659101" class="icon_comment-anchor" title="Ссылка на комментарий"></a>

                <a href="https://habrahabr.ru/company/luxoft/blog/270383/#" class="icon_comment-favorite add" onclick="return comments_add_to_favorite(this, &#39;3&#39;, 8659101 )" title="В избранное"></a>

              <span class="icon_comment-tree js-comment_tree" data-id="8659101" data-parent_id="8659031" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/company/luxoft/blog/270383/#comment_8659031" class="icon_comment-parent js-comment_parent" data-id="8659101" data-parent_id="8659031" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8659101" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark voting-wjt__counter_positive ">
                <span class="voting-wjt__counter-score js-score" title="Всего 1: ↑1 и ↓0">+1</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только пользователи с полноценным аккаунтом"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только пользователи с полноценным аккаунтом"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Ок, добавил примечание к distinct
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">
              <a href="https://habrahabr.ru/company/luxoft/blog/270383/#reply" class="reply_link" onclick="return comment_show_reply_form(8659101 )">ответить</a>

        </div>
    </div>

    <ul class="reply_comments" id="reply_comments_8659101">
      
      
    </ul>

  </li>

      
    </ul>

  </li>

      
    </ul>

  </li>

      
    </ul>

  </li>

  <li class="comment_item" id="comment_8692689">
    <a name="first_unread"></a>
    <span class="parent_id" data-parent_id="0"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item   is_new" rel="8692689">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <span class="comment-item__user-info" rel="user-popover" data-user-login="lany">
            <a href="https://habrahabr.ru/users/lany/" class="comment-item__avatar">
                <span class="comment-item__avatar-img_default user-pic_green"></span>
            </a>
            <a href="https://habrahabr.ru/users/lany/" class="comment-item__username">lany</a>
          </span>

          <time class="comment-item__time_published">
            17 декабря 2015 в 15:41
          </time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/company/luxoft/blog/270383/#comment_8692689" class="icon_comment-anchor" title="Ссылка на комментарий"></a>

                <a href="https://habrahabr.ru/company/luxoft/blog/270383/#" class="icon_comment-favorite add" onclick="return comments_add_to_favorite(this, &#39;3&#39;, 8692689 )" title="В избранное"></a>

            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8692689" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark voting-wjt__counter_positive ">
                <span class="voting-wjt__counter-score js-score" title="Всего 2: ↑2 и ↓0">+2</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только пользователи с полноценным аккаунтом"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только пользователи с полноценным аккаунтом"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          А почему reduce() не в терминальных операциях?
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">
              <a href="https://habrahabr.ru/company/luxoft/blog/270383/#reply" class="reply_link" onclick="return comment_show_reply_form(8692689 )">ответить</a>

        </div>
    </div>

    <ul class="reply_comments" id="reply_comments_8692689">
      
  <li class="comment_item" id="comment_8692767">
    
    <span class="parent_id" data-parent_id="8692689"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item is_topic_starter  is_new" rel="8692767">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <span class="comment-item__user-info" rel="user-popover" data-user-login="vedenin1980">
            <a href="https://habrahabr.ru/users/vedenin1980/" class="comment-item__avatar">
                <img src="./Шпаргалка Java программиста 4. Java Stream API _ Блог компании Luxoft _ Хабрахабр_files/7eb7632e5a0d2720be542c25ec40614f_small.jpg" alt="" class="comment-item__avatar-img">
            </a>
            <a href="https://habrahabr.ru/users/vedenin1980/" class="comment-item__username">vedenin1980</a>
          </span>

          <time class="comment-item__time_published">
            17 декабря 2015 в 16:20
          </time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/company/luxoft/blog/270383/#comment_8692767" class="icon_comment-anchor" title="Ссылка на комментарий"></a>

                <a href="https://habrahabr.ru/company/luxoft/blog/270383/#" class="icon_comment-favorite add" onclick="return comments_add_to_favorite(this, &#39;3&#39;, 8692767 )" title="В избранное"></a>

              <span class="icon_comment-tree js-comment_tree" data-id="8692767" data-parent_id="8692689" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/company/luxoft/blog/270383/#comment_8692689" class="icon_comment-parent js-comment_parent" data-id="8692767" data-parent_id="8692689" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8692767" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark voting-wjt__counter_positive ">
                <span class="voting-wjt__counter-score js-score" title="Всего 1: ↑1 и ↓0">+1</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только пользователи с полноценным аккаунтом"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только пользователи с полноценным аккаунтом"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Спасибо, поправил. Изначально я вообще забыл добавить recude в таблицу, а когда обнаружил вставил не в ту таблицу. 
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">
              <a href="https://habrahabr.ru/company/luxoft/blog/270383/#reply" class="reply_link" onclick="return comment_show_reply_form(8692767 )">ответить</a>

        </div>
    </div>

    <ul class="reply_comments" id="reply_comments_8692767">
      
      
    </ul>

  </li>

      
    </ul>

  </li>

  <li class="comment_item" id="comment_8871156">
    
    <span class="parent_id" data-parent_id="0"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item   is_new" rel="8871156">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <span class="comment-item__user-info" rel="user-popover" data-user-login="MaximChistov">
            <a href="https://habrahabr.ru/users/MaximChistov/" class="comment-item__avatar">
                <img src="./Шпаргалка Java программиста 4. Java Stream API _ Блог компании Luxoft _ Хабрахабр_files/c6dbe92e88c19714d7005ed54936040d_small.jpg" alt="" class="comment-item__avatar-img">
            </a>
            <a href="https://habrahabr.ru/users/MaximChistov/" class="comment-item__username">MaximChistov</a>
          </span>

          <time class="comment-item__time_published">
            26 апреля 2016 в 18:40
          </time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/company/luxoft/blog/270383/#comment_8871156" class="icon_comment-anchor" title="Ссылка на комментарий"></a>

                <a href="https://habrahabr.ru/company/luxoft/blog/270383/#" class="icon_comment-favorite add" onclick="return comments_add_to_favorite(this, &#39;3&#39;, 8871156 )" title="В избранное"></a>

            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8871156" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только пользователи с полноценным аккаунтом"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только пользователи с полноценным аккаунтом"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Важный момент:<br>
allMatch(условие) вернет true для пустого стрима!<br>
а anyMatch(то же условие) для пустого стрима вернет false!
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">
              <a href="https://habrahabr.ru/company/luxoft/blog/270383/#reply" class="reply_link" onclick="return comment_show_reply_form(8871156 )">ответить</a>

        </div>
    </div>

    <ul class="reply_comments" id="reply_comments_8871156">
      
  <li class="comment_item" id="comment_8871342">
    
    <span class="parent_id" data-parent_id="8871156"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item   is_new" rel="8871342">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <span class="comment-item__user-info" rel="user-popover" data-user-login="dougrinch">
            <a href="https://habrahabr.ru/users/dougrinch/" class="comment-item__avatar">
                <img src="./Шпаргалка Java программиста 4. Java Stream API _ Блог компании Luxoft _ Хабрахабр_files/3589dd65ba8d1c2f80bd6262be1cd4cb_small.jpg" alt="" class="comment-item__avatar-img">
            </a>
            <a href="https://habrahabr.ru/users/dougrinch/" class="comment-item__username">dougrinch</a>
          </span>

          <time class="comment-item__time_published">
            26 апреля 2016 в 20:06
          </time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/company/luxoft/blog/270383/#comment_8871342" class="icon_comment-anchor" title="Ссылка на комментарий"></a>

                <a href="https://habrahabr.ru/company/luxoft/blog/270383/#" class="icon_comment-favorite add" onclick="return comments_add_to_favorite(this, &#39;3&#39;, 8871342 )" title="В избранное"></a>

              <span class="icon_comment-tree js-comment_tree" data-id="8871342" data-parent_id="8871156" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/company/luxoft/blog/270383/#comment_8871156" class="icon_comment-parent js-comment_parent" data-id="8871342" data-parent_id="8871156" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_8871342" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только пользователи с полноценным аккаунтом"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только пользователи с полноценным аккаунтом"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          <p>Вообще, было бы странно, если бы оно работало иначе.</p>
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">
              <a href="https://habrahabr.ru/company/luxoft/blog/270383/#reply" class="reply_link" onclick="return comment_show_reply_form(8871342 )">ответить</a>

        </div>
    </div>

    <ul class="reply_comments" id="reply_comments_8871342">
      
      
    </ul>

  </li>

      
    </ul>

  </li>

  <li class="comment_item" id="comment_9869056">
    
    <span class="parent_id" data-parent_id="0"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item   is_new" rel="9869056">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <span class="comment-item__user-info" rel="user-popover" data-user-login="andd3dfx">
            <a href="https://habrahabr.ru/users/andd3dfx/" class="comment-item__avatar">
                <img src="./Шпаргалка Java программиста 4. Java Stream API _ Блог компании Luxoft _ Хабрахабр_files/b525c932c184da66cda26a01b8aac2b4_small.jpg" alt="" class="comment-item__avatar-img">
            </a>
            <a href="https://habrahabr.ru/users/andd3dfx/" class="comment-item__username">andd3dfx</a>
          </span>

          <time class="comment-item__time_published">
            20 октября 2016 в 11:21
          </time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/company/luxoft/blog/270383/#comment_9869056" class="icon_comment-anchor" title="Ссылка на комментарий"></a>

                <a href="https://habrahabr.ru/company/luxoft/blog/270383/#" class="icon_comment-favorite add" onclick="return comments_add_to_favorite(this, &#39;3&#39;, 9869056 )" title="В избранное"></a>

            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_9869056" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только пользователи с полноценным аккаунтом"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только пользователи с полноценным аккаунтом"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          Подскажите — разве не должно быть .orElse(«0») вместо .orElse(0)?
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">
              <a href="https://habrahabr.ru/company/luxoft/blog/270383/#reply" class="reply_link" onclick="return comment_show_reply_form(9869056 )">ответить</a>

        </div>
    </div>

    <ul class="reply_comments" id="reply_comments_9869056">
      
  <li class="comment_item" id="comment_9869162">
    
    <span class="parent_id" data-parent_id="9869056"></span>

    <div class="comment_body ">
        <div class="info comments-list__item comment-item is_topic_starter  is_new" rel="9869162">

          <div class="folding-dot-holder"><div class="folding-dot"></div></div>

          <span class="comment-item__user-info" rel="user-popover" data-user-login="vedenin1980">
            <a href="https://habrahabr.ru/users/vedenin1980/" class="comment-item__avatar">
                <img src="./Шпаргалка Java программиста 4. Java Stream API _ Блог компании Luxoft _ Хабрахабр_files/7eb7632e5a0d2720be542c25ec40614f_small.jpg" alt="" class="comment-item__avatar-img">
            </a>
            <a href="https://habrahabr.ru/users/vedenin1980/" class="comment-item__username">vedenin1980</a>
          </span>

          <time class="comment-item__time_published">
            20 октября 2016 в 11:56
          </time>

          <span class="comment-item__controls">
            <a href="https://habrahabr.ru/company/luxoft/blog/270383/#comment_9869162" class="icon_comment-anchor" title="Ссылка на комментарий"></a>

                <a href="https://habrahabr.ru/company/luxoft/blog/270383/#" class="icon_comment-favorite add" onclick="return comments_add_to_favorite(this, &#39;3&#39;, 9869162 )" title="В избранное"></a>

              <span class="icon_comment-tree js-comment_tree" data-id="9869162" data-parent_id="9869056" title="Показать ветку комментариев"></span>
              <a href="https://habrahabr.ru/company/luxoft/blog/270383/#comment_9869056" class="icon_comment-parent js-comment_parent" data-id="9869162" data-parent_id="9869056" title="Показать предыдущий комментарий"></a>
            <span class="js-comment_chidren" title="Вернуться к ответу"></span>
          </span>

            <div id="voting_9869162" class="voting-wjt voting-wjt_comments js-voting   ">

              <div class="voting-wjt__counter js-mark  ">
                <span class="voting-wjt__counter-score js-score" title="Всего 0: ↑0 и ↓0">0</span>
              </div>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_plus js-plus" title="Голосовать могут только пользователи с полноценным аккаунтом"><span>↑</span></button>

                <button type="button" disabled="" class="voting-wjt__button voting-wjt__button_minus js-minus" title="Голосовать могут только пользователи с полноценным аккаунтом"><span>↓</span></button>
            </div>
        </div>

        <div class="message html_format ">
          <p>Только в одном месте, где пример про список строк, действительно должно быть orElse(«0»). Поправил</p>
        </div>

        <div class="reply_form_placeholder"></div>

        <div class="reply">
              <a href="https://habrahabr.ru/company/luxoft/blog/270383/#reply" class="reply_link" onclick="return comment_show_reply_form(9869162 )">ответить</a>

        </div>
    </div>

    <ul class="reply_comments" id="reply_comments_9869162">
      
      
    </ul>

  </li>

      
    </ul>

  </li>

      
    </ul>

  </div>


                      <div class="comments-form__placeholder form-placeholder hidden" id="expired_placeholder">
              <h3 class="form-placeholder__title">Вы не можете комментировать эту публикацию</h3>
              <p class="form-placeholder__text">Можно комментировать публикации, которые не старше 10 дней, а также те, которые вы уже комментировали ранее.</p>
              <button type="button" class="btn btn_medium btn_grey js-hide_placeholder">Продолжить</button>
            </div>

              <div class="comments-form__placeholder form-placeholder">
                <h3 class="form-placeholder__title">Вы не можете комментировать эту публикацию</h3>
                <p class="form-placeholder__text">Можно комментировать публикации, которые не старше 10 дней, а также те, которые вы уже комментировали ранее.</p>
              </div>


        
<form action="https://habrahabr.ru/json/favorites/" method="post" id="edit_tags_form" class="hidden">
  <input type="hidden" name="action" value="add">
  <input type="hidden" name="ti" value="0">
  <input type="hidden" name="tt" value="0">
  <label>Пометьте топик понятными вам метками, если хотите</label>
  <input type="text" name="tags_string" class="tags_string">
  <div class="description">Метки лучше разделять запятой. Например: <i>общение, социальные сети, myspace.com, подростки, мердок</i></div>
  <input type="submit" value="Сохранить" class="submit"> или <a href="https://habrahabr.ru/company/luxoft/blog/270383/#" class="close" onclick="return close_edit_tags()">закрыть</a>
</form>

      </div>
    </div>

    <div class="sidebar_right">
        
  
  <div class=" company_widgets">

        <div class="block company_links">
    <div class="title">Ссылки</div>
    <div class="links">
        <div class="link">
          <a href="http://luxoft.ru/">Сайт компании</a>
          <div><small>luxoft.ru</small></div>
        </div>
        <div class="link">
          <a href="http://qaconf.ru/">QA: Conference</a>
          <div><small>qaconf.ru</small></div>
        </div>
        <div class="link">
          <a href="http://clrium.ru/">CLRium</a>
          <div><small>clrium.ru</small></div>
        </div>
        <div class="link">
          <a href="http://career.luxoft.com/lts/logeek/russia/">Logeek Night</a>
          <div><small>career.luxoft.com</small></div>
        </div>
    </div>
  </div>















      <div class="block facebook_like_box no_bg">
  <div id="facebook_like_box"><iframe src="./Шпаргалка Java программиста 4. Java Stream API _ Блог компании Luxoft _ Хабрахабр_files/likebox.html" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:100%; height:260px;" allowtransparency="true"></iframe></div>
  <script type="text/javascript">
    $(window).bind('load', function(){
      var width = $('#facebook_like_box').width()
      $('#facebook_like_box').html('<iframe src="//www.facebook.com/plugins/likebox.php?href=https%3A%2F%2Fwww.facebook.com%2FLuxoft%2F%3Ffref%3Dts&amp;width='+width+'&amp;height=260&amp;colorscheme=light&amp;show_faces=true&amp;border_color&amp;stream=false&amp;header=false" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:100%; height:260px;" allowTransparency="true"></iframe>')
    })
  </script>

</div>














        <div class="block vkontakte_groups no_bg">
    <script type="text/javascript" src="./Шпаргалка Java программиста 4. Java Stream API _ Блог компании Luxoft _ Хабрахабр_files/openapi.js"></script>
    <!-- VK Widget -->
    <div id="vk_groups" style="height: 290px; width: 260px; background: none;"><iframe name="fXDb1676" frameborder="0" src="./Шпаргалка Java программиста 4. Java Stream API _ Блог компании Luxoft _ Хабрахабр_files/widget_community.html" width="260" height="290" scrolling="no" id="vkwidget1" style="overflow: hidden; height: 290px;"></iframe></div>
    <script type="text/javascript">
      var vkGroup = document.getElementById('vk_groups'),
          vkGroupWidth = vkGroup.offsetWidth;

      VK.Widgets.Group("vk_groups", {mode: 0, width: vkGroupWidth, height: "290"}, 39800234);
    </script>
  </div>






  </div>

  <div class="block corporate_blog float_block" style="width: 260px; opacity: 1;">
  <div class="title">Блог на Хабрахабре</div>
  <div class="posts_list">
      <div class="post_item">
        <a href="https://habrahabr.ru/company/luxoft/blog/316920/" class="post_name">DEV Labs 2016. Онлайн конференция для C++ разработчиков. 10 декабря</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/company/luxoft/blog/316920/#comments" class="count count_icon">3</a>
      </div>
      <div class="post_item">
        <a href="https://habrahabr.ru/company/luxoft/blog/312324/" class="post_name">Что мы ненавидим в собеседованиях?</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/company/luxoft/blog/312324/#comments" class="count count_icon">292</a>
      </div>
      <div class="post_item">
        <a href="https://habrahabr.ru/company/luxoft/blog/312212/" class="post_name">Встреча Logeek Night для Java и QA специалистов Караганды</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/company/luxoft/blog/312212/#comments" class="count count_icon">3</a>
      </div>
      <div class="post_item">
        <a href="https://habrahabr.ru/company/luxoft/blog/312188/" class="post_name">Диаграмма сценариев использования в процессе разработки ПО</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/company/luxoft/blog/312188/#comments" class="count count_icon">11</a>
      </div>
      <div class="post_item">
        <a href="https://habrahabr.ru/company/luxoft/blog/311098/" class="post_name">Logeek Night в Воронеже</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/company/luxoft/blog/311098/#comments" class="count count_icon">2</a>
      </div>
      <div class="post_item">
        <a href="https://habrahabr.ru/company/luxoft/blog/310998/" class="post_name">Что означает методология DevOps для тестировщиков?</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/company/luxoft/blog/310998/#comments" class="count count_icon">1</a>
      </div>
      <div class="post_item">
        <a href="https://habrahabr.ru/company/luxoft/blog/310370/" class="post_name">TEST Labs 2016. Онлайн конференция для тестировщиков. 24 сентября</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/company/luxoft/blog/310370/#comments" class="count count_icon">3</a>
      </div>
      <div class="post_item">
        <a href="https://habrahabr.ru/company/luxoft/blog/310176/" class="post_name">Logeek Night в Воронеже</a>&nbsp;&nbsp;
      </div>
      <div class="post_item">
        <a href="https://habrahabr.ru/company/luxoft/blog/307760/" class="post_name">Как планировать и оценивать проекты в Agile?</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/company/luxoft/blog/307760/#comments" class="count count_icon">4</a>
      </div>
      <div class="post_item">
        <a href="https://habrahabr.ru/company/luxoft/blog/303518/" class="post_name">DEV Labs 2016. JAVA. 25 июня</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/company/luxoft/blog/303518/#comments" class="count count_icon">1</a>
      </div>
  </div>
</div>

  

    </div>
  </div>

  <div class="column-wrapper column-wrapper_bottom column-wrapper_bordered">
    <div class="content_left">
      

  <div class="similar-posts similar-posts_full">
    <h2 class="similar-posts__title_wrap">
      <span class="similar-posts__title">Самое читаемое</span>
        <span class="similar-posts__flow">
          <a href="https://habrahabr.ru/flows/develop/" class="similar-posts__flow-link">Разработка</a>
        </span>
    </h2>
    <div class="live-broadcast__tabs tabs" id="broadcast_tabs_posts">

      <ul class="tabs__menu tabs__menu_posts menu menu_inline">
        <li class="menu__item active"><a href="https://habrahabr.ru/company/luxoft/blog/270383/#broadcast_posts_now" class="menu__item-tab">Сейчас</a></li>
        <li class="menu__item"><a href="https://habrahabr.ru/company/luxoft/blog/270383/#broadcast_posts_today" class="menu__item-tab">Сутки</a></li>
        <li class="menu__item"><a href="https://habrahabr.ru/company/luxoft/blog/270383/#broadcast_posts_week" class="menu__item-tab">Неделя</a></li>
        <li class="menu__item"><a href="https://habrahabr.ru/company/luxoft/blog/270383/#broadcast_posts_month" class="menu__item-tab">Месяц</a></li>
      </ul>

        <div class="tabs__content tabs__content_reading" id="broadcast_posts_now" style="display: block;">
            <ul class="content-list content-list_posts content-list_most-reading">
                <li class="content-list__item">
                  <div class="post-preview">
                    <div class="post-preview__rating">+13</div>
                    <div class="post-preview__desc">
                      <a href="https://habrahabr.ru/company/1cloud/blog/319448/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="post-preview__link">«Пятничный формат»: Размер зарплаты имеет значение, или за что готовы платить работодатели</a>
                      <span class="post-preview__attrs inline-list inline-list_attrs">
                        <span class="inline-list__item views-count">8,4k</span>
                        <span class="inline-list__item favorites-count">57</span>
                        <span class="inline-list__item comments-count">38</span>
                      </span>
                    </div>
                  </div>
                </li>
                <li class="content-list__item">
                  <div class="post-preview">
                    <div class="post-preview__rating">+41</div>
                    <div class="post-preview__desc">
                      <a href="https://habrahabr.ru/post/319298/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="post-preview__link">Рисуем коммитами на Гитхабе</a>
                      <span class="post-preview__attrs inline-list inline-list_attrs">
                        <span class="inline-list__item views-count">4,4k</span>
                        <span class="inline-list__item favorites-count">29</span>
                        <span class="inline-list__item comments-count">16</span>
                      </span>
                    </div>
                  </div>
                </li>
                <li class="content-list__item">
                  <div class="post-preview">
                    <div class="post-preview__rating">+10</div>
                    <div class="post-preview__desc">
                      <a href="https://habrahabr.ru/company/htmlacademy/blog/319458/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="post-preview__link">Тренды и события в мире веб-технологий в 2016 году</a>
                      <span class="post-preview__attrs inline-list inline-list_attrs">
                        <span class="inline-list__item views-count">1,3k</span>
                        <span class="inline-list__item favorites-count">16</span>
                        <span class="inline-list__item comments-count">0</span>
                      </span>
                    </div>
                  </div>
                </li>
                <li class="content-list__item">
                  <div class="post-preview">
                    <div class="post-preview__rating">+16</div>
                    <div class="post-preview__desc">
                      <a href="https://habrahabr.ru/post/314402/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="post-preview__link">Bushed Bricks: простая и увлекательная игра на JavaScript</a>
                      <span class="post-preview__attrs inline-list inline-list_attrs">
                        <span class="inline-list__item views-count">4,7k</span>
                        <span class="inline-list__item favorites-count">41</span>
                        <span class="inline-list__item comments-count">14</span>
                      </span>
                    </div>
                  </div>
                </li>
                <li class="content-list__item">
                  <div class="post-preview">
                    <div class="post-preview__rating">+9</div>
                    <div class="post-preview__desc">
                      <a href="https://habrahabr.ru/post/319474/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="post-preview__link">C++17 изменения вывода auto при фигурной инициализации</a>
                      <span class="post-preview__attrs inline-list inline-list_attrs">
                        <span class="inline-list__item views-count">458</span>
                        <span class="inline-list__item favorites-count">2</span>
                        <span class="inline-list__item comments-count">0</span>
                      </span>
                    </div>
                  </div>
                </li>
            </ul>
        </div>
        <div class="tabs__content tabs__content_reading" id="broadcast_posts_today" style="display: none;">
            <ul class="content-list content-list_posts content-list_most-reading">
                <li class="content-list__item">
                  <div class="post-preview">
                    <div class="post-preview__rating">+66</div>
                    <div class="post-preview__desc">
                      <a href="https://habrahabr.ru/post/319360/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="post-preview__link">Уязвимость Viber, позволяющая прослушивать чужой разговор</a>
                      <span class="post-preview__attrs inline-list inline-list_attrs">
                        <span class="inline-list__item views-count">31,3k</span>
                        <span class="inline-list__item favorites-count">50</span>
                        <span class="inline-list__item comments-count">18</span>
                      </span>
                    </div>
                  </div>
                </li>
                <li class="content-list__item">
                  <div class="post-preview">
                    <div class="post-preview__rating">+39</div>
                    <div class="post-preview__desc">
                      <a href="https://habrahabr.ru/post/319402/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="post-preview__link">Windows: Sleep(0.5)</a>
                      <span class="post-preview__attrs inline-list inline-list_attrs">
                        <span class="inline-list__item views-count">12k</span>
                        <span class="inline-list__item favorites-count">69</span>
                        <span class="inline-list__item comments-count">56</span>
                      </span>
                    </div>
                  </div>
                </li>
                <li class="content-list__item">
                  <div class="post-preview">
                    <div class="post-preview__rating">+37</div>
                    <div class="post-preview__desc">
                      <a href="https://habrahabr.ru/post/319348/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="post-preview__link">Обзор кросс-платформенных решений для разработки мобильных приложений</a>
                      <span class="post-preview__attrs inline-list inline-list_attrs">
                        <span class="inline-list__item views-count">10,6k</span>
                        <span class="inline-list__item favorites-count">117</span>
                        <span class="inline-list__item comments-count">71</span>
                      </span>
                    </div>
                  </div>
                </li>
                <li class="content-list__item">
                  <div class="post-preview">
                    <div class="post-preview__rating">+13</div>
                    <div class="post-preview__desc">
                      <a href="https://habrahabr.ru/company/1cloud/blog/319448/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="post-preview__link">«Пятничный формат»: Размер зарплаты имеет значение, или за что готовы платить работодатели</a>
                      <span class="post-preview__attrs inline-list inline-list_attrs">
                        <span class="inline-list__item views-count">8,4k</span>
                        <span class="inline-list__item favorites-count">57</span>
                        <span class="inline-list__item comments-count">38</span>
                      </span>
                    </div>
                  </div>
                </li>
                <li class="content-list__item">
                  <div class="post-preview">
                    <div class="post-preview__rating">+35</div>
                    <div class="post-preview__desc">
                      <a href="https://habrahabr.ru/post/319250/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="post-preview__link">Почему броски в VR такие отстойные, и что с этим делать?</a>
                      <span class="post-preview__attrs inline-list inline-list_attrs">
                        <span class="inline-list__item views-count">11,1k</span>
                        <span class="inline-list__item favorites-count">28</span>
                        <span class="inline-list__item comments-count">19</span>
                      </span>
                    </div>
                  </div>
                </li>
            </ul>
        </div>
        <div class="tabs__content tabs__content_reading" id="broadcast_posts_week" style="display: none;">
            <ul class="content-list content-list_posts content-list_most-reading">
                <li class="content-list__item">
                  <div class="post-preview">
                    <div class="post-preview__rating">+55</div>
                    <div class="post-preview__desc">
                      <a href="https://habrahabr.ru/post/319084/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="post-preview__link">Обещания Google начали сбываться — теперь сайты https помечаются как надёжные</a>
                      <span class="post-preview__attrs inline-list inline-list_attrs">
                        <span class="inline-list__item views-count">33,9k</span>
                        <span class="inline-list__item favorites-count">51</span>
                        <span class="inline-list__item comments-count">304</span>
                      </span>
                    </div>
                  </div>
                </li>
                <li class="content-list__item">
                  <div class="post-preview">
                    <div class="post-preview__rating">+90</div>
                    <div class="post-preview__desc">
                      <a href="https://habrahabr.ru/company/oleg-bunin/blog/319052/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="post-preview__link">NoSQL – коротко о главном</a>
                      <span class="post-preview__attrs inline-list inline-list_attrs">
                        <span class="inline-list__item views-count">32,4k</span>
                        <span class="inline-list__item favorites-count">476</span>
                        <span class="inline-list__item comments-count">36</span>
                      </span>
                    </div>
                  </div>
                </li>
                <li class="content-list__item">
                  <div class="post-preview">
                    <div class="post-preview__rating">+66</div>
                    <div class="post-preview__desc">
                      <a href="https://habrahabr.ru/post/319360/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="post-preview__link">Уязвимость Viber, позволяющая прослушивать чужой разговор</a>
                      <span class="post-preview__attrs inline-list inline-list_attrs">
                        <span class="inline-list__item views-count">31,3k</span>
                        <span class="inline-list__item favorites-count">50</span>
                        <span class="inline-list__item comments-count">18</span>
                      </span>
                    </div>
                  </div>
                </li>
                <li class="content-list__item">
                  <div class="post-preview">
                    <div class="post-preview__rating">+136</div>
                    <div class="post-preview__desc">
                      <a href="https://habrahabr.ru/company/mailru/blog/318508/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="post-preview__link">Малоизвестные Git-команды</a>
                      <span class="post-preview__attrs inline-list inline-list_attrs">
                        <span class="inline-list__item views-count">31,3k</span>
                        <span class="inline-list__item favorites-count">507</span>
                        <span class="inline-list__item comments-count">40</span>
                      </span>
                    </div>
                  </div>
                </li>
                <li class="content-list__item">
                  <div class="post-preview">
                    <div class="post-preview__rating">+72</div>
                    <div class="post-preview__desc">
                      <a href="https://habrahabr.ru/company/ruvds/blog/319162/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="post-preview__link">JavaScript-тренды, на которые стоит обратить внимание в 2017-м</a>
                      <span class="post-preview__attrs inline-list inline-list_attrs">
                        <span class="inline-list__item views-count">27,9k</span>
                        <span class="inline-list__item favorites-count">295</span>
                        <span class="inline-list__item comments-count">85</span>
                      </span>
                    </div>
                  </div>
                </li>
            </ul>
        </div>
        <div class="tabs__content tabs__content_reading" id="broadcast_posts_month" style="display: none;">
            <ul class="content-list content-list_posts content-list_most-reading">
                <li class="content-list__item">
                  <div class="post-preview">
                    <div class="post-preview__rating">+364</div>
                    <div class="post-preview__desc">
                      <a href="https://habrahabr.ru/post/316912/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="post-preview__link">Как Skype уязвимости чинил</a>
                      <span class="post-preview__attrs inline-list inline-list_attrs">
                        <span class="inline-list__item views-count">70,1k</span>
                        <span class="inline-list__item favorites-count">220</span>
                        <span class="inline-list__item comments-count">388</span>
                      </span>
                    </div>
                  </div>
                </li>
                <li class="content-list__item">
                  <div class="post-preview">
                    <div class="post-preview__rating">+47</div>
                    <div class="post-preview__desc">
                      <a href="https://habrahabr.ru/company/hh/blog/318450/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="post-preview__link">Самые востребованные языки программирования 2016</a>
                      <span class="post-preview__attrs inline-list inline-list_attrs">
                        <span class="inline-list__item views-count">59k</span>
                        <span class="inline-list__item favorites-count">108</span>
                        <span class="inline-list__item comments-count">149</span>
                      </span>
                    </div>
                  </div>
                </li>
                <li class="content-list__item">
                  <div class="post-preview">
                    <div class="post-preview__rating">+96</div>
                    <div class="post-preview__desc">
                      <a href="https://habrahabr.ru/post/318916/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="post-preview__link">Писать веб-сайты на ассемблере полезно и приятно</a>
                      <span class="post-preview__attrs inline-list inline-list_attrs">
                        <span class="inline-list__item views-count">53,3k</span>
                        <span class="inline-list__item favorites-count">254</span>
                        <span class="inline-list__item comments-count">427</span>
                      </span>
                    </div>
                  </div>
                </li>
                <li class="content-list__item">
                  <div class="post-preview">
                    <div class="post-preview__rating">+107</div>
                    <div class="post-preview__desc">
                      <a href="https://habrahabr.ru/post/318894/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="post-preview__link">Как проектируют ненастоящие программисты</a>
                      <span class="post-preview__attrs inline-list inline-list_attrs">
                        <span class="inline-list__item views-count">50,6k</span>
                        <span class="inline-list__item favorites-count">151</span>
                        <span class="inline-list__item comments-count">257</span>
                      </span>
                    </div>
                  </div>
                </li>
                <li class="content-list__item">
                  <div class="post-preview">
                    <div class="post-preview__rating">+92</div>
                    <div class="post-preview__desc">
                      <a href="https://habrahabr.ru/post/318164/" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;live_broadcast_activity&#39;, &#39;post&#39;); }" class="post-preview__link">Почему Hackintosh уже актуален. Развенчание мифов</a>
                      <span class="post-preview__attrs inline-list inline-list_attrs">
                        <span class="inline-list__item views-count">43,3k</span>
                        <span class="inline-list__item favorites-count">476</span>
                        <span class="inline-list__item comments-count">413</span>
                      </span>
                    </div>
                  </div>
                </li>
            </ul>
        </div>
    </div>
  </div>




      

  <div class="live-broadcast live-broadcast_feed">
    <h2 class="live-broadcast__title live-broadcast__title_feed">Интересные публикации</h2>

    <div class="dropdown dropdown_broadcast">
      <button type="button" class="btn btn_outline_grey btn_large icon_cog dropdown-toggle" data-toggle="dropdown" tabindex="0" aria-expanded="false">
      </button>
      <div class="dropdown-container">
        <ul class="n-dropdown-menu n-dropdown-menu_feed" id="filter">
          <li class="n-dropdown-menu__item">
            <label class="checkbox checkbox_custom">
              <input type="checkbox" class="checkbox__input" name="habrahabr" checked="">
              <span class="checkbox__label">Хабрахабр</span>
            </label>
          </li>
          <li class="n-dropdown-menu__item">
            <label class="checkbox checkbox_custom">
              <input type="checkbox" class="checkbox__input" name="geektimes" checked="">
              <span class="checkbox__label">Гиктаймс</span>
            </label>
          </li>
        </ul>
      </div>
    </div>

    <div class="live-broadcast__content">
      <ul class="content-list content-list_feed" id="list" data-posts-count="5">
          <li class="content-list__item content-list__item_geektimes" data-type="geektimes">
            <a href="https://geektimes.ru/post/284594/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;post&#39;); }" data-utm="?utm_source=tm_megamozg&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Как сделать невозможные обои: история запрещённых симметрий</a>&nbsp;&nbsp;<a href="https://geektimes.ru/post/284594/#comments" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;comment&#39;); }" class="content-list__item-counter icon_comments">0</a>
          </li>
          <li class="content-list__item content-list__item_habrahabr" data-type="habrahabr">
            <a href="https://habrahabr.ru/post/319474/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;post&#39;); }" data-utm="?utm_source=tm_megamozg&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">C++17 изменения вывода auto при фигурной инициализации</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/319474/#comments" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;comment&#39;); }" class="content-list__item-counter icon_comments">0</a>
          </li>
          <li class="content-list__item content-list__item_habrahabr" data-type="habrahabr">
            <a href="https://habrahabr.ru/post/319470/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;post&#39;); }" data-utm="?utm_source=tm_megamozg&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Google запускает Key Transparency, инструмент для подтверждения криптоключей</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/319470/#comments" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;comment&#39;); }" class="content-list__item-counter icon_comments">0</a>
          </li>
          <li class="content-list__item content-list__item_habrahabr" data-type="habrahabr">
            <a href="https://habrahabr.ru/post/319466/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;post&#39;); }" data-utm="?utm_source=tm_megamozg&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Написание и запуск скрипта для симуляции Verilog-кода в ModelSim</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/319466/#comments" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;comment&#39;); }" class="content-list__item-counter icon_comments">0</a>
          </li>
          <li class="content-list__item content-list__item_geektimes" data-type="geektimes">
            <a href="https://geektimes.ru/post/284588/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;post&#39;); }" data-utm="?utm_source=tm_megamozg&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">На GitHub появился репозиторий, похожий на утечку исходников движка Opera Presto</a>&nbsp;&nbsp;<a href="https://geektimes.ru/post/284588/#comments" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;comment&#39;); }" class="content-list__item-counter icon_comments">15</a>
          </li>
          <li class="content-list__item content-list__item_geektimes hidden" data-type="geektimes">
            <a href="https://geektimes.ru/post/284578/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;post&#39;); }" data-utm="?utm_source=tm_megamozg&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">3D-печать металлами — технологии и принтеры</a>&nbsp;&nbsp;<a href="https://geektimes.ru/post/284578/#comments" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;comment&#39;); }" class="content-list__item-counter icon_comments">0</a>
          </li>
          <li class="content-list__item content-list__item_geektimes hidden" data-type="geektimes">
            <a href="https://geektimes.ru/post/284584/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;post&#39;); }" data-utm="?utm_source=tm_megamozg&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Модераторы медиафайлов из Microsoft подали на компанию в суд из-за отсутствия должной психологической поддержки</a>&nbsp;&nbsp;<a href="https://geektimes.ru/post/284584/#comments" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;comment&#39;); }" class="content-list__item-counter icon_comments">11</a>
          </li>
          <li class="content-list__item content-list__item_habrahabr hidden" data-type="habrahabr">
            <a href="https://habrahabr.ru/post/319458/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;post&#39;); }" data-utm="?utm_source=tm_megamozg&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Тренды и события в мире веб-технологий в 2016 году</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/319458/#comments" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;comment&#39;); }" class="content-list__item-counter icon_comments">0</a>
          </li>
          <li class="content-list__item content-list__item_geektimes hidden" data-type="geektimes">
            <a href="https://geektimes.ru/post/284580/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;post&#39;); }" data-utm="?utm_source=tm_megamozg&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Состоялась презентация Nintendo Switch c контроллерами в стиле Wii</a>&nbsp;&nbsp;<a href="https://geektimes.ru/post/284580/#comments" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;comment&#39;); }" class="content-list__item-counter icon_comments">13</a>
          </li>
          <li class="content-list__item content-list__item_habrahabr hidden" data-type="habrahabr">
            <a href="https://habrahabr.ru/post/319456/" class="content-list__item-link" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;post&#39;); }" data-utm="?utm_source=tm_megamozg&amp;utm_medium=tm_block&amp;utm_campaign=tm_promo">Про ScalaCheck</a>&nbsp;&nbsp;<a href="https://habrahabr.ru/post/319456/#comments" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;tm_block&#39;, &#39;interesting_posts&#39;, &#39;comment&#39;); }" class="content-list__item-counter icon_comments">3</a>
          </li>
      </ul>
    </div>
  </div>

    </div>

    <div class="sidebar_right">
    </div>
  </div>


      </div>
      <div class="layout__footer">
        <div class="footer_panel">
  <div id="footer">
    <dl class="user">
      <dt><a href="https://habrahabr.ru/users/minikh_v/">minikh_v</a></dt>
      <dd><a href="https://habrahabr.ru/feed/">Лента</a></dd>
      <dd><a href="https://habrahabr.ru/tracker/">Трекер</a></dd>
        <dd><a href="https://habrahabr.ru/sandbox/add/">Написать</a></dd>
          <dd><a href="https://habrahabr.ru/auth/settings/upgrade/">Read-only</a></dd>

        <dd><a href="https://habrahabr.ru/auth/settings/">Настройки</a></dd>
    </dl>
    <dl>
      <dt>Разделы</dt>
      <dd><a href="https://habrahabr.ru/posts/top/">Публикации</a></dd>
      <dd><a href="https://habrahabr.ru/hubs/">Хабы</a></dd>
      <dd><a href="https://habrahabr.ru/companies/">Компании</a></dd>
      <dd><a href="https://habrahabr.ru/users/">Пользователи</a></dd>
      <dd><a href="https://toster.ru/?_aa=press_anykey">Q&amp;A</a></dd>
      <dd><a href="https://habrahabr.ru/sandbox/">Песочница</a></dd>

    </dl>
    <dl>
      <dt>Инфо</dt>
      <dd><a href="https://habrahabr.ru/info/about/">О сайте</a></dd>
      <dd><a href="https://habrahabr.ru/info/help/rules/">Правила</a></dd>
      <dd><a href="https://habrahabr.ru/info/help/">Помощь</a></dd>
      <dd><a href="https://habrahabr.ru/info/agreement/">Соглашение</a></dd>
    </dl>
    <dl>
      <dt>Услуги</dt>
      <dd><a href="https://special.habrahabr.ru/advertising/">Реклама</a></dd>
      <dd><a href="https://special.habrahabr.ru/corporate/">Тарифы</a></dd>
      <dd><a href="https://special.habrahabr.ru/content/">Контент</a></dd>
      <dd><a href="https://special.habrahabr.ru/workshops/">Семинары</a></dd>
    </dl>

    <dl>
      <dt>Разное</dt>
      <dd><a href="https://appmetrica.yandex.com/serve/240693928167260216?utm_source=HH_desktop&amp;utm_medium=button&amp;utm_campaign=appiOS" target="_blank" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;footer&#39;, &#39;links&#39;, &#39;ios_app&#39;); }">iOS приложение</a></dd>
      <dd><a href="https://appmetrica.yandex.com/serve/745097116363323173?id=ru.habrahabr&amp;utm_source=HH_desktop&amp;utm_medium=button&amp;utm_campaign=appAndroid" target="_blank" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;footer&#39;, &#39;links&#39;, &#39;android_app&#39;); }">Android приложение</a></dd>
      <dd><a href="https://special.habrahabr.ru/hello_startup/habrahabr/" target="_blank">Помощь стартапам</a></dd>
    </dl>

    <div class="copyright">
      <div class="about">
        <a href="https://tmtm.ru/">© TM</a>
        <br><br>
        <a href="https://habrahabr.ru/feedback/">Служба поддержки</a><br><br>
          <a href="https://m.habrahabr.ru/post/270383/?mobile=yes">Мобильная версия</a><br><br>
        <div class="social_accounts">
          <a href="https://twitter.com/habrahabr" target="_blank" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;footer&#39;, &#39;Social_icons&#39;, &#39;twitter&#39;); }">
            <svg class="icon-svg icon-svg_twitter" aria-hidden="true" aria-labelledby="title" version="1.1" role="img" width="24" height="24" viewBox="0 0 24 24"><path d="M12 24c-6.616 0-12-5.384-12-12s5.384-12 12-12 12 5.384 12 12-5.384 12-12 12zm0-22.909c-6.015 0-10.909 4.894-10.909 10.909s4.894 10.909 10.909 10.909 10.909-4.894 10.909-10.909-4.894-10.909-10.909-10.909zM18.04 8.253c-.445.197-.922.331-1.424.391.512-.307.904-.792 1.09-1.371-.479.284-1.009.49-1.574.601-.452-.481-1.096-.782-1.809-.782-1.369 0-2.479 1.109-2.479 2.479 0 .194.022.383.064.565-2.06-.104-3.887-1.091-5.109-2.59-.214.365-.336.792-.336 1.246 0 .86.437 1.619 1.103 2.063-.406-.013-.789-.124-1.123-.31v.031c0 1.201.854 2.203 1.989 2.431-.207.057-.427.087-.653.087-.159 0-.314-.015-.466-.045.315.985 1.231 1.702 2.316 1.721-.849.664-1.917 1.061-3.079 1.061-.2 0-.397-.012-.591-.035 1.095.704 2.398 1.114 3.799 1.114 4.559 0 7.052-3.777 7.052-7.053l-.008-.321c.484-.349.904-.785 1.237-1.283z"></path></svg>
          </a>
          <a href="https://www.facebook.com/habrahabr.ru" target="_blank" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;footer&#39;, &#39;Social_icons&#39;, &#39;facebook&#39;); }">
            <svg class="icon-svg icon-svg_fb" aria-hidden="true" aria-labelledby="title" version="1.1" role="img" width="24" height="24" viewBox="0 0 24 24"><path d="M12 24c-6.616 0-12-5.384-12-12s5.384-12 12-12 12 5.384 12 12-5.384 12-12 12zm0-22.909c-6.015 0-10.909 4.894-10.909 10.909s4.894 10.909 10.909 10.909 10.909-4.894 10.909-10.909-4.894-10.909-10.909-10.909zM14.727 8.798h-1.558c-.184 0-.389.242-.389.566v1.125h1.947v1.604h-1.948v4.816h-1.839v-4.816h-1.667v-1.604h1.668v-.944c0-1.354.939-2.455 2.229-2.455h1.558v1.707z"></path></svg>
          </a>
          <a href="https://vk.com/habr" target="_blank" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;footer&#39;, &#39;Social_icons&#39;, &#39;vkontakte&#39;); }">
            <svg class="icon-svg icon-svg_vk" aria-hidden="true" aria-labelledby="title" version="1.1" role="img" width="24" height="24" viewBox="0 0 24 24"><path d="M12 24c-6.616 0-12-5.384-12-12s5.384-12 12-12 12 5.384 12 12-5.384 12-12 12zm0-22.909c-6.015 0-10.909 4.894-10.909 10.909s4.894 10.909 10.909 10.909 10.909-4.894 10.909-10.909-4.894-10.909-10.909-10.909zM16.33 11.926s1.725-2.433 1.896-3.232c.057-.286-.069-.445-.365-.445h-1.497c-.343 0-.468.148-.572.365 0 0-.809 1.724-1.793 2.81-.316.351-.477.457-.651.457-.141 0-.205-.118-.205-.434v-2.776c0-.388-.046-.503-.365-.503h-2.399c-.183 0-.297.106-.297.251 0 .365.56.448.56 1.439v2.044c0 .411-.023.572-.217.572-.514 0-1.737-1.771-2.422-3.781-.137-.41-.286-.525-.674-.525h-1.496c-.217 0-.377.148-.377.365 0 .399.468 2.251 2.307 4.729 1.234 1.668 2.856 2.57 4.318 2.57.891 0 1.108-.148 1.108-.526v-1.28c0-.32.125-.457.309-.457.205 0 .568.067 1.416.902 1.005.96 1.073 1.359 1.622 1.359h1.679c.171 0 .332-.08.332-.365 0-.377-.491-1.051-1.245-1.85-.309-.411-.811-.856-.971-1.063-.229-.239-.16-.376 0-.627z"></path></svg>
          </a>
          <a href="https://telegram.me/habr_ru" target="_blank" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;footer&#39;, &#39;Social_icons&#39;, &#39;telegram&#39;); }">
            <svg class="icon-svg icon-svg_telegram" aria-hidden="true" aria-labelledby="title" version="1.1" role="img" width="24" height="24" viewBox="0 0 24 24"><path d="M12.048.002c-6.616 0-12 5.384-12 12s5.384 12 12 12 12-5.384 12-12-5.384-12-12-12zm0 22.909c-6.015 0-10.909-4.894-10.909-10.909s4.894-10.909 10.909-10.909 10.909 4.894 10.909 10.909c0 6.015-4.894 10.909-10.909 10.909zM10.093 16.753c0 .164.092.209.219.094l1.891-1.697-2.11-1.092v2.696zM17.816 7.116c-.228.081-11.491 4.049-11.712 4.127-.189.067-.23.229-.007.319l2.518 1.009 1.493.598s7.189-5.28 7.287-5.351c.098-.072.211.063.14.14l-5.222 5.648-.3.334.397.214 3.304 1.779c.192.104.443.017.499-.223.065-.283 1.887-8.134 1.928-8.308.052-.226-.097-.364-.325-.285z"></path></svg>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>
      </div>
      <a href="https://habrahabr.ru/company/luxoft/blog/270383/#" class="layout__elevator" id="scroll_to_top" title="Наверх" onclick="if (typeof ga === &#39;function&#39;) { ga(&#39;send&#39;, &#39;event&#39;, &#39;navigation_button&#39;, &#39;down&#39;, &#39;https://habrahabr.ru/company/luxoft/blog/270383/&#39;); }">
        <svg class="icon-svg icon-svg_scroll-up" width="32" height="32" viewBox="0 0 32 32" aria-hidden="true" version="1.1" role="img"><path d="M16 0C7.164 0 0 7.164 0 16s7.164 16 16 16 16-7.164 16-16S24.836 0 16 0zm8.412 19.523c-.517.512-1.355.512-1.872 0L16 13.516l-6.54 6.01c-.518.51-1.356.51-1.873 0-.516-.513-.517-1.343 0-1.855l7.476-7.326c.517-.512 1.356-.512 1.873 0l7.476 7.327c.516.513.516 1.342 0 1.854z"></path></svg>
      </a>
    </div>

    <script type="text/javascript">
  // global vars
  var g_base_url = 'habrahabr.ru';
  var g_show_xpanel = true;
  var g_base_fullurl = 'https://habrahabr.ru/';
  var g_is_guest = true;

    var g_user_login = 'minikh_v';
    var g_user_id = 507836;
    var g_user_avatar = '//habrastorage.org/getpro/habr/avatars/5b1/ba2/5b0/5b1ba25b049137dc894afeedd285a468.png';
</script>
    
<script type="text/javascript">
  var _paq = _paq || [];
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u="//stats.tmtm.ru/";
    _paq.push(['setTrackerUrl', u+'piwik.php']);
    _paq.push(['setSiteId', '5']);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
    g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
  })();
</script>
<noscript>&lt;p&gt;&lt;img src="//stats.tmtm.ru/piwik.php?idsite=5" style="border:0;" alt="" /&gt;&lt;/p&gt;</noscript>


    <script src="./Шпаргалка Java программиста 4. Java Stream API _ Блог компании Luxoft _ Хабрахабр_files/app.vendors.js"></script>
    <script src="./Шпаргалка Java программиста 4. Java Stream API _ Блог компании Luxoft _ Хабрахабр_files/app.main.js"></script>
    <script src="./Шпаргалка Java программиста 4. Java Stream API _ Блог компании Luxoft _ Хабрахабр_files/flexibility.js"></script>
        <script src="./Шпаргалка Java программиста 4. Java Stream API _ Блог компании Luxoft _ Хабрахабр_files/piwikscrolldepth.min.js"></script>
    <script type="text/javascript">
      gascrolldepth.init({
        percentage: true,
        PiwikGoal: true,
        PiwikGoal20: 3,
        PiwikGoal50: 15,
        PiwikGoal70: 17,
        PiwikGoal90: 19,
        PiwikGoal100: 20
      });
    </script>


      <script type="text/javascript" src="./Шпаргалка Java программиста 4. Java Stream API _ Блог компании Luxoft _ Хабрахабр_files/saved_resource"></script>

    
<!-- Yandex.Metrika counter -->
<script type="text/javascript">
(function (d, w, c) {
    (w[c] = w[c] || []).push(function() {
        try {
            if (typeof (_yaparams) != 'undefined') {
                w.yaCounter24049213 = new Ya.Metrika({id:24049213,
                    webvisor:true,
                    clickmap:true,
                    trackLinks:true,
                    accurateTrackBounce:true,
                    params:_yaparams});
            } else {
                w.yaCounter24049213 = new Ya.Metrika({id:24049213,
                    webvisor:true,
                    clickmap:true,
                    trackLinks:true,
                    accurateTrackBounce:true});
            }

        } catch(e) { }
    });

    var n = d.getElementsByTagName("script")[0],
        s = d.createElement("script"),
        f = function () { n.parentNode.insertBefore(s, n); };
    s.type = "text/javascript";
    s.async = true;
    s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js";

    if (w.opera == "[object Opera]") {
        d.addEventListener("DOMContentLoaded", f, false);
    } else { f(); }
})(document, window, "yandex_metrika_callbacks");
</script>
<noscript>&lt;div&gt;&lt;img src="//mc.yandex.ru/watch/24049213" style="position:absolute; left:-9999px;" alt="" /&gt;&lt;/div&gt;</noscript>
<!-- /Yandex.Metrika counter -->

    
    
  

<div id="wpsn-container" class="wpsn-container" style="position: absolute; top: 0px; left: 0px;"><span class="wpsn-preloadfont" style="visibility:hidden">a</span></div><div id="wpsn-popup-container" class="wpsn-popup-container" style="position: fixed; top: 0px; left: 0px; display: none;"></div><div id="AutocompleteContainter_2148a" style="position: absolute; z-index: 9999; top: 2px; left: 0px;"><div class="autocomplete-w1"><div class="autocomplete" id="Autocomplete_2148a" style="display: none; width: 300px; max-height: 400px;"></div></div></div><div id="xpanel"><a href="https://habrahabr.ru/company/luxoft/blog/270383/#refresh" class="refresh"></a><a href="https://habrahabr.ru/company/luxoft/blog/270383/#prev_new" class="prev_new" title="По клику (горячая клавиша - k) переходит к предыдущему непрочитанному комментарию.">↑</a><a href="https://habrahabr.ru/company/luxoft/blog/270383/#new" class="new" title="Количество новых комментариев. По клику (горячая клавиша - f) переходит к первому непрочитанному комментарию.">6</a><a href="https://habrahabr.ru/company/luxoft/blog/270383/#next_new" class="next_new" title="По клику (горячая клавиша - j) переходит к следующему непрочитанному комментарию.">↓</a></div><div id="AutocompleteContainter_b42f" style="position: absolute; z-index: 9999; top: 0px; left: 0px;"><div class="autocomplete-w1"><div class="autocomplete" id="Autocomplete_b42f" style="display: none; width: 300px; max-height: 400px;"></div></div></div></body></html>